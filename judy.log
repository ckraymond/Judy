2024-07-06 21:34:30,249-INFO-__main__ > Initializing the program.
2024-07-06 21:34:32,071-INFO-judyMVP.__init__ > Initializing the program.
2024-07-06 21:34:32,071-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-07-06 21:34:32,084-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:32,304-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 401 None
2024-07-06 21:34:32,305-INFO-bubbleAPI.get_settings > response: {'error_class': 'Unauthorized', 'args': {'code': '1720316072257x648239153982217600'}, 'message': Non
2024-07-06 21:34:32,310-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:32,689-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/wf/gen_api_token?email=colin@judydevice.com&pw=4Nk!%3EpG7 HTTP/1.1" 200 None
2024-07-06 21:34:32,690-INFO-bubbleAPI.get_token > Getting new API key using credentials for colin@judydevice.com
2024-07-06 21:34:32,694-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:32,882-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-07-06 21:34:32,884-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-07-06T19:24:04.173Z', 'Created Date': '2024-07-04T16:37:39.082Z', 'Created By': '1719433427015x760125662067258500', 'accent': 'Australian', 'photo_delay': 3, 'trigger': 'Bubba', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719455494380x913745027397094800', '1719524279490x374511007917295100'], '_id': '1720111058482x902662854976995300'}], 'count': 1, 'remaining': 0}}
2024-07-06 21:34:32,884-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 3, 'accent': 'Australian', 'trigger': 'Bubba'}
2024-07-06 21:34:32,884-INFO-chatHistory.__init__ > Loading the chat history
2024-07-06 21:34:32,884-INFO-chatHistory.load_all_conversations > Starting to load all of the conversations.
2024-07-06 21:34:32,884-INFO-bubbleAPI.get_exch_conv > Getting, conversation, records from Bubble.
2024-07-06 21:34:32,888-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:33,090-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/conversation?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:34:33,091-INFO-bubbleAPI.get_records > [{'Created Date': '2024-07-04T19:19:31.646Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:24:42.777Z', 'summary': "The patient is seeking gift ideas for their wife's upcoming birthday and for a 50th birthday, showing consideration and thoughtfulness in their gift-giving approach.", 'date': '2024-07-04T15:16:03.233Z', 'sentiment': 4, 'keywords': "gift ideas,wife's birthday,50th birthday", 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720120771646x951002185613836200'}, {'Created Date': '2024-07-04T19:28:13.799Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:36:16.184Z', 'summary': 'The patient expressed a desire to watch 4th of July fireworks in Washington, DC, but is unable to attend, and the assistant suggested alternative ways to celebrate.', 'date': '2024-07-04T15:23:36.151Z', 'sentiment': 3, 'keywords': '4th of July,Washington DC,National Mall,fireworks,celebration', 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720121293799x914728173000089000'}, {'Created Date': '2024-07-04T20:07:03.549Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-05T00:08:48.224Z', 'summary': "The patient requested assistance with a 'quir program' but did not provide further context or clarification.", 'date': '2024-07-04T15:36:13.592Z', 'sentiment': 3, 'keywords': 'quir program', 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720123623549x587893450537901840'}, {'Created Date': '2024-07-05T02:54:42.759Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-05T18:13:57.274Z', 'summary': 'The patient is seeking suggestions on activities to do with Luciane and is looking for ways to spend quality time together.', 'date': '2024-07-04T20:07:49.119Z', 'sentiment': 4, 'keywords': 'Luciane,activities,quality time', 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720148082758x320453311437771900'}, {'Created Date': '2024-07-05T23:07:09.770Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-05T23:13:09.264Z', 'summary': 'The patient inquired about their wife and received information about Luciane Raymond, including her birthdate and interests.', 'date': '2024-07-05T14:13:22.899Z', 'sentiment': 4, 'keywords': 'wife,Luciane Raymond,birthdate,interests', 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720220829770x132209300896124480'}]
2024-07-06 21:34:33,092-INFO-bubbleAPI.get_records > Total conversation records pulled: 12
2024-07-06 21:34:33,092-INFO-chatHistory.load_all_conversations > [{'Created Date': '2024-07-04T19:19:31.646Z', 'Cre
2024-07-06 21:34:33,096-INFO-chatHistory.load_all_conversations > Total conversations loaded: 12
2024-07-06 21:34:33,096-INFO-chatHistory.load_all_exchangess > Pulling list of exchanges from Bubble API.
2024-07-06 21:34:33,096-INFO-bubbleAPI.get_exch_conv > Getting, chatexchange, records from Bubble.
2024-07-06 21:34:33,100-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:33,327-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/chatexchange?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:34:33,329-INFO-bubbleAPI.get_records > [{'Created Date': '2024-07-04T19:16:04.136Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:33.264Z', 'date': '2024-07-04T15:16:03.233Z', 'query': 'Do you know where there are some good Italian restaurants near me?', 'response': "I'm sorry, Colin. I don't have your current location information to suggest Italian restaurants nearby. Would you like me to help you find some based on a specific location?", 'summary': 'The patient, Colin, asked the assistant about good Italian restaurants near him and requested help finding some based on a specific location.', 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120564136x271686411888959040'}, {'Created Date': '2024-07-04T19:16:24.305Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:33.556Z', 'date': '2024-07-04T15:16:23.426Z', 'query': 'Do you know where my family is?', 'response': 'Your family members, Luciane, Adelaide, Bruce, Elizabeth, and Llilian, all live in Annandale, VA, USA.', 'summary': 'The patient seems concerned about the whereabouts of their family members Luciane, Adelaide, Bruce, Elizabeth, and Llilian, who live in Annandale, VA, USA, and the assistant provided information about their location.', 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120584305x201853802422198530'}, {'Created Date': '2024-07-04T19:16:55.266Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:33.808Z', 'date': '2024-07-04T15:16:54.201Z', 'query': "What should I get my wife for her birthday? Isn't it soon?", 'response': "Yes, Colin, your wife Luciane's birthday is on May 21st. You could consider getting her something related to her interests like camping, gardening, or volleyball. Would you like help with gift ideas?", 'summary': "The patient, Colin, is seeking gift ideas for his wife Luciane's upcoming birthday and appears to be in a thoughtful and considerate mood.", 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120615266x246206982884124900'}, {'Created Date': '2024-07-04T19:17:15.487Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:34.056Z', 'date': '2024-07-04T15:17:14.296Z', 'query': 'Yes please.', 'response': "How about a new gardening tool set, a camping gear upgrade, or maybe tickets to a volleyball game? These could be thoughtful gifts based on Luciane's hobbies.", 'summary': 'The patient is interested in receiving gift suggestions related to hobbies like gardening, camping, and volleyball, and the assistant has recommended a gardening tool set, camping gear upgrade, or volleyball game tickets as potential gifts.', 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120635487x448895144730829100'}, {'Created Date': '2024-07-04T19:17:38.678Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:34.319Z', 'date': '2024-07-04T15:17:37.337Z', 'query': 'What is the best thing to give someone for their 50th birthday?', 'response': "For a 50th birthday, thoughtful gifts could include personalized items, experiences like a spa day or a weekend getaway, or something related to their hobbies or interests. Is there a specific person you're thinking of getting a gift for?", 'summary': "The patient is seeking gift ideas for someone's 50th birthday and the assistant suggests personalized items, experiences, or hobby-related gifts.", 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120658678x448359273476094400'}]
2024-07-06 21:34:33,329-INFO-bubbleAPI.get_records > Total chatexchange records pulled: 27
2024-07-06 21:34:33,329-INFO-chatHistory.load_all_exchanges > Loaded 27 exchanges from Bubble.
2024-07-06 21:34:33,329-INFO-chatHistory.load_all_exchanges > Added ID 1720120564136x271686411888959040 to exchanges: {'query': 'Do you know where there are some good I
2024-07-06 21:34:33,329-INFO-chatHistory.load_all_exchanges > Added ID 1720120584305x201853802422198530 to exchanges: {'query': 'Do you know where my family is?', 'resp
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720120615266x246206982884124900 to exchanges: {'query': "What should I get my wife for her birth
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720120635487x448895144730829100 to exchanges: {'query': 'Yes please.', 'response': "How about a 
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720120658678x448359273476094400 to exchanges: {'query': 'What is the best thing to give someone 
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720121018525x593413394017978200 to exchanges: {'query': 'Where are the best places to watch 4th 
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720121050399x331232550955648200 to exchanges: {'query': 'Yes. Can you tell me about the national
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720121082395x570314878513968260 to exchanges: {'query': "I wish I could go there but I'm stuck h
2024-07-06 21:34:33,330-INFO-chatHistory.load_all_exchanges > Added ID 1720121775932x383233671535407700 to exchanges: {'query': 'quir program', 'response': 'I\'m sorry,
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720138071002x268031761567931070 to exchanges: {'query': 'where are my family', 'response': 'Your
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720138127763x201956807277150270 to exchanges: {'query': 'what should I do with Luciani today wha
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720203204927x243746927696383300 to exchanges: {'query': 'cool', 'response': "I'm glad you think 
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720203237041x310684772416320000 to exchanges: {'query': "where's my brother go", 'response': "I 
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720203293628x801288540901252000 to exchanges: {'query': "who's my wife", 'response': 'Your wife 
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720221189037x991601893634590500 to exchanges: {'query': "What is today's date?", 'response': 'To
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720221336140x474892033635542200 to exchanges: {'query': 'What is the best way to rpune roses?', 
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720221407778x645953969526927200 to exchanges: {'query': "I am thinking about getting something f
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720227335902x361588783846762430 to exchanges: {'query': 'just trying to figure out what I should
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720227367865x474640013270208200 to exchanges: {'query': 'do you know where my family is', 'respo
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720238221378x650752404876306000 to exchanges: {'query': 'who is my son', 'response': "Your son's
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720238266487x562150658300045060 to exchanges: {'query': "so I'm thinking about doing something w
2024-07-06 21:34:33,331-INFO-chatHistory.load_all_exchanges > Added ID 1720238294345x982324127417746600 to exchanges: {'query': 'do you have any other suggestions for s
2024-07-06 21:34:33,332-INFO-chatHistory.load_all_exchanges > Added ID 1720238331713x841483215378408000 to exchanges: {'query': 'yeah what do you think the cutest kind 
2024-07-06 21:34:33,332-INFO-chatHistory.load_all_exchanges > Added ID 1720291540880x279929574780438240 to exchanges: {'query': "so what I would like to do is I wanted 
2024-07-06 21:34:33,332-INFO-chatHistory.load_all_exchanges > Added ID 1720293192359x639722559769632500 to exchanges: {'query': 'who is my wife', 'response': "Your wife
2024-07-06 21:34:33,332-INFO-chatHistory.load_all_exchanges > Added ID 1720293801840x386957781535985700 to exchanges: {'query': "what is my wife's birthday", 'response'
2024-07-06 21:34:33,332-INFO-chatHistory.load_all_exchanges > Added ID 1720293906139x362525445774429600 to exchanges: {'query': 'how long do I need to cook broccoli for
2024-07-06 21:34:33,332-INFO-chatHistory.load_all_exchanges > Total exchanges loaded: 27
2024-07-06 21:34:33,332-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720120564136x271686411888959040
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720120584305x201853802422198530
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720120615266x246206982884124900
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720120635487x448895144730829100
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720120658678x448359273476094400
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720121018525x593413394017978200
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720121050399x331232550955648200
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720121082395x570314878513968260
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720121775932x383233671535407700
2024-07-06 21:34:33,332-DEBUG-chatHistory.check_summary > Checking summary on 1720138071002x268031761567931070
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720138127763x201956807277150270
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720203204927x243746927696383300
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720203237041x310684772416320000
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720203293628x801288540901252000
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720221189037x991601893634590500
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720221336140x474892033635542200
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720221407778x645953969526927200
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720227335902x361588783846762430
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720227367865x474640013270208200
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720238221378x650752404876306000
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720238266487x562150658300045060
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720238294345x982324127417746600
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720238331713x841483215378408000
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720291540880x279929574780438240
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720293192359x639722559769632500
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720293801840x386957781535985700
2024-07-06 21:34:33,333-DEBUG-chatHistory.check_summary > Checking summary on 1720293906139x362525445774429600
2024-07-06 21:34:33,333-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 27
2024-07-06 21:34:33,333-INFO-chatHistory.check_mappings > In the check_mappings function
2024-07-06 21:34:33,333-INFO-Sorting through these exchanges: 27
2024-07-06 21:34:33,333-INFO-Total exchanges after checking mapping: 27
2024-07-06 21:34:33,333-INFO-Total conversations after checking mapping: 12
2024-07-06 21:34:33,333-INFO-Checked conversations and identified those to be updated.
2024-07-06 21:34:33,334-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-06 21:34:33,334-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-06 21:34:33,334-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-07-06 15:25:03.627000
2024-07-06 21:34:33,334-DEBUG-chatHistory.rev_conversations > Difference in time: 22169.707247
2024-07-06 21:34:33,334-INFO-chatHistory.rev_conversations > Cleaning conversation: 1720313569299x173251424237676130
2024-07-06 21:34:33,335-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-06 21:34:33,336-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-06 21:34:33,377-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': "what is my wife's birthday"}, {'role': 'system', 'content': 'Your wife, Luciane Raymond, was born on May 21, 1979.'}, {'role': 'user', 'content': 'how long do I need to cook broccoli for'}, {'role': 'system', 'content': 'Broccoli is usually cooked for about 5-7 minutes in boiling water or until it reaches your desired level of tenderness. Would you like a simple recipe for cooking broccoli, Colin?'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than five.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-06 21:34:33,399-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-06 21:34:33,399-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-06 21:34:33,415-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x107c37350>
2024-07-06 21:34:33,416-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x107b4ec50> server_hostname='api.openai.com' timeout=5.0
2024-07-06 21:34:33,430-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x107c36ed0>
2024-07-06 21:34:33,430-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-06 21:34:33,431-DEBUG-send_request_headers.complete
2024-07-06 21:34:33,431-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-06 21:34:33,431-DEBUG-send_request_body.complete
2024-07-06 21:34:33,431-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-06 21:34:34,289-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Jul 2024 01:34:34 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'726'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59643'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'357ms'), (b'x-request-id', b'req_03809780a1645ac0e23931ff033fb4d8'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=7Pa6BnUNjsc8kVB6HRNWtaIwFVqBkZwgQFf0v_W1wNk-1720316074-1.0.1.1-tL4XgMNczHT_ME3WSLrFkbnw.SdlMOOCXQweYnfs0sv4UtL6o4c21Oy0Sy43LUj23rL0ujYeLptkZDbdnMVLmQ; path=/; expires=Sun, 07-Jul-24 02:04:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=JNnukbllRaGWWZE9amBq2vEDSV5.tZtEtQUaUY6bzFQ-1720316074300-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89f417c31d4705e1-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-06 21:34:34,291-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-06 21:34:34,292-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-06 21:34:34,292-DEBUG-receive_response_body.complete
2024-07-06 21:34:34,293-DEBUG-response_closed.started
2024-07-06 21:34:34,293-DEBUG-response_closed.complete
2024-07-06 21:34:34,293-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sun, 07 Jul 2024 01:34:34 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '726'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59643'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '357ms'), ('x-request-id', 'req_03809780a1645ac0e23931ff033fb4d8'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=7Pa6BnUNjsc8kVB6HRNWtaIwFVqBkZwgQFf0v_W1wNk-1720316074-1.0.1.1-tL4XgMNczHT_ME3WSLrFkbnw.SdlMOOCXQweYnfs0sv4UtL6o4c21Oy0Sy43LUj23rL0ujYeLptkZDbdnMVLmQ; path=/; expires=Sun, 07-Jul-24 02:04:34 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=JNnukbllRaGWWZE9amBq2vEDSV5.tZtEtQUaUY6bzFQ-1720316074300-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89f417c31d4705e1-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-06 21:34:34,293-DEBUG-request_id: req_03809780a1645ac0e23931ff033fb4d8
2024-07-06 21:34:34,300-DEBUG-chatHistory.save_history > Saving conversation: 1720313569299x173251424237676130
2024-07-06 21:34:34,301-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1720313569299x173251424237676130) to Bubble.
2024-07-06 21:34:34,303-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:34,519-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-07-06 21:34:34,520-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-07-06 21:34:34,520-DEBUG-patientInfo.__init__ > Getting patient information.
2024-07-06 21:34:34,520-INFO-bubbleAPI.get_exch_conv > Getting, user, records from Bubble.
2024-07-06 21:34:34,523-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:34,704-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/user?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:34:34,706-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T20:06:35.999Z', 'Created Date': '2024-07-04T16:37:38.938Z', 'first_name': 'Colin', 'last_name': 'Raymond', 'user_signed_up': True, 'authentication': {'email': {'email': 'colin@judydevice.com', 'email_confirmed': None}}, 'middle_name': 'Kile', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'bday': '1979-08-06T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Annandale, VA', '_id': '1720111058938x567839568571831800'}]
2024-07-06 21:34:34,706-INFO-bubbleAPI.get_records > Total user records pulled: 1
2024-07-06 21:34:34,706-DEBUG-patientInfo.import_data > {'Modified Date': '2024-07-04T20:06:35.999Z', 'Created Date': '2024-07-04T16:37:38.938Z', 'first_name': 'Colin', 'last_name': 'Raymond', 'user_signed_up': True, 'authentication': {'email': {'email': 'colin@judydevice.com', 'email_confirmed': None}}, 'middle_name': 'Kile', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'bday': '1979-08-06T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Annandale, VA', '_id': '1720111058938x567839568571831800'}
2024-07-06 21:34:34,706-INFO-bubbleAPI.get_exch_conv > Getting, interest, records from Bubble.
2024-07-06 21:34:34,710-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:34,921-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/interest?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:34:34,922-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T16:42:04.414Z', 'Created Date': '2024-07-04T16:42:04.414Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'United States Military Academy', 'patient': '1720111058938x567839568571831800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111324098x329160056985092100'}, {'Modified Date': '2024-07-04T16:42:12.546Z', 'Created Date': '2024-07-04T16:42:12.545Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Carnegie Mellon University', 'patient': '1720111058938x567839568571831800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111332403x851076958578802700'}, {'Modified Date': '2024-07-04T16:42:21.076Z', 'Created Date': '2024-07-04T16:42:21.075Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Upper Saint Clair High School', 'patient': '1720111058938x567839568571831800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111340932x971953488665509900'}, {'Modified Date': '2024-07-04T16:42:33.503Z', 'Created Date': '2024-07-04T16:42:33.503Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Steelers', 'patient': '1720111058938x567839568571831800', 'type': 'sport', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111353206x612392321700855800'}, {'Modified Date': '2024-07-04T16:42:37.345Z', 'Created Date': '2024-07-04T16:42:37.345Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Soccer', 'patient': '1720111058938x567839568571831800', 'type': 'sport', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111357204x221548795553382400'}]
2024-07-06 21:34:34,922-INFO-bubbleAPI.get_records > Total interest records pulled: 17
2024-07-06 21:34:34,923-DEBUG-patientBG.__init__ > {'school': ['United States Military Academy', 'Carnegie Mellon University', 'Upper Saint Clair High School'], 'sport': ['Steelers', 'Soccer'], 'food': ['Carpaccio', "Tour d'Argent", 'Italian Food', 'Candy', 'Buffalo Wings'], 'place': ['Pittsburgh', 'Lisbon'], 'hobby': ['Computer Programming', 'Travel', 'Reading', 'Science Fiction', 'Fantasy'], 'other': []}
2024-07-06 21:34:34,923-INFO-bubbleAPI.get_exch_conv > Getting, friends, records from Bubble.
2024-07-06 21:34:34,926-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:35,356-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/friends?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:34:35,358-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T16:38:45.666Z', 'Created Date': '2024-07-04T16:38:45.548Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1979-05-21T04:00:00.000Z', 'deceased': False, 'first_name': 'Luciane', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Lucy', 'relationship': 'Wife', 'interests': 'Camping, Gardening, Volleyball', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111125158x151467745509638140'}, {'Modified Date': '2024-07-04T16:39:28.865Z', 'Created Date': '2024-07-04T16:39:28.855Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2009-03-21T04:00:00.000Z', 'deceased': False, 'first_name': 'Adelaide', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Addie', 'relationship': 'Daughter', 'interests': 'Volleyball, Drawing, History', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111168595x906466426238271500'}, {'Modified Date': '2024-07-04T16:40:13.729Z', 'Created Date': '2024-07-04T16:40:13.719Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2011-01-15T05:00:00.000Z', 'deceased': False, 'first_name': 'Bruce', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Boo Boo', 'relationship': 'Son', 'interests': 'Soccer, History, Model Making', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111213481x670261540952997900'}, {'Modified Date': '2024-07-04T16:41:14.778Z', 'Created Date': '2024-07-04T16:41:14.722Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2012-07-16T04:00:00.000Z', 'deceased': False, 'first_name': 'Elizabeth', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Liz', 'relationship': 'Daughter', 'interests': 'Tae Kwan Do, Volleyball, Reading, Writing', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111274111x705272155291779100'}, {'Modified Date': '2024-07-04T16:41:54.388Z', 'Created Date': '2024-07-04T16:41:54.359Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2014-09-14T04:00:00.000Z', 'deceased': False, 'first_name': 'Llilian', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Lily', 'relationship': 'Daughter', 'interests': 'Diving, Gymnastics, Art, Exploring', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111313805x974908641979400200'}]
2024-07-06 21:34:35,358-INFO-bubbleAPI.get_records > Total friends records pulled: 5
2024-07-06 21:34:35,358-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-06 21:34:35,359-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-06 21:34:35,359-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-06 21:34:35,359-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-06 21:34:35,359-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-06 21:34:35,359-DEBUG-patientFriends.__init__ > [{'bday': '1979-05-21T04:00:00.000Z', 'deceased': False, 'fname': 'Luciane', 'interests': 'Camping, Gardening, Volleyball', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Lucy', 'relationship': 'Wife'}, {'bday': '2009-03-21T04:00:00.000Z', 'deceased': False, 'fname': 'Adelaide', 'interests': 'Volleyball, Drawing, History', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Addie', 'relationship': 'Daughter'}, {'bday': '2011-01-15T05:00:00.000Z', 'deceased': False, 'fname': 'Bruce', 'interests': 'Soccer, History, Model Making', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Boo Boo', 'relationship': 'Son'}, {'bday': '2012-07-16T04:00:00.000Z', 'deceased': False, 'fname': 'Elizabeth', 'interests': 'Tae Kwan Do, Volleyball, Reading, Writing', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Liz', 'relationship': 'Daughter'}, {'bday': '2014-09-14T04:00:00.000Z', 'deceased': False, 'fname': 'Llilian', 'interests': 'Diving, Gymnastics, Art, Exploring', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Lily', 'relationship': 'Daughter'}]
2024-07-06 21:34:35,359-INFO-bubbleAPI.get_exch_conv > Getting, faq, records from Bubble.
2024-07-06 21:34:35,363-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:34:35,545-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/faq?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:34:35,546-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T16:44:14.146Z', 'Created Date': '2024-07-04T16:44:14.146Z', 'Created By': '1719433427015x760125662067258500', 'answer': 'Six but there are going to be many more!', 'patient': '1720111058938x567839568571831800', 'question': 'How many superbowls have the Steelers won?', '_id': '1720111453605x972362936015650800'}, {'Modified Date': '2024-07-04T16:44:40.155Z', 'Created Date': '2024-07-04T16:44:40.154Z', 'Created By': '1719433427015x760125662067258500', 'answer': 'As long as the sun is shining in the sky.', 'patient': '1720111058938x567839568571831800', 'question': 'Will Army beat Navy?', '_id': '1720111479990x430417171840237600'}]
2024-07-06 21:34:35,546-INFO-bubbleAPI.get_records > Total faq records pulled: 2
2024-07-06 21:34:35,546-INFO-judyMVP.__init__ > Starting maintenance thread.
2024-07-06 21:35:35,546-INFO-judyMaint.run_background > Running maintenance routine
2024-07-06 21:35:35,548-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-07-06 21:35:35,553-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:35,736-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-07-06 21:35:35,738-INFO-bubbleAPI.get_settings > response: {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-07-06T19:24:04.173Z', 'Created Date':
2024-07-06 21:35:35,738-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-07-06T19:24:04.173Z', 'Created Date': '2024-07-04T16:37:39.082Z', 'Created By': '1719433427015x760125662067258500', 'accent': 'Australian', 'photo_delay': 3, 'trigger': 'Bubba', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719455494380x913745027397094800', '1719524279490x374511007917295100'], '_id': '1720111058482x902662854976995300'}], 'count': 1, 'remaining': 0}}
2024-07-06 21:35:35,738-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 3, 'accent': 'Australian', 'trigger': 'Bubba'}
2024-07-06 21:35:35,738-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-07-06 21:35:35,738-DEBUG-chatHistory.check_summary > Checking summary on 1720120564136x271686411888959040
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720120584305x201853802422198530
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720120615266x246206982884124900
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720120635487x448895144730829100
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720120658678x448359273476094400
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720121018525x593413394017978200
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720121050399x331232550955648200
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720121082395x570314878513968260
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720121775932x383233671535407700
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720138071002x268031761567931070
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720138127763x201956807277150270
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720203204927x243746927696383300
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720203237041x310684772416320000
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720203293628x801288540901252000
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720221189037x991601893634590500
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720221336140x474892033635542200
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720221407778x645953969526927200
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720227335902x361588783846762430
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720227367865x474640013270208200
2024-07-06 21:35:35,739-DEBUG-chatHistory.check_summary > Checking summary on 1720238221378x650752404876306000
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720238266487x562150658300045060
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720238294345x982324127417746600
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720238331713x841483215378408000
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720291540880x279929574780438240
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720293192359x639722559769632500
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720293801840x386957781535985700
2024-07-06 21:35:35,740-DEBUG-chatHistory.check_summary > Checking summary on 1720293906139x362525445774429600
2024-07-06 21:35:35,740-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 27
2024-07-06 21:35:35,740-INFO-chatHistory.check_mappings > In the check_mappings function
2024-07-06 21:35:35,740-INFO-Sorting through these exchanges: 27
2024-07-06 21:35:35,740-INFO-Total exchanges after checking mapping: 27
2024-07-06 21:35:35,740-INFO-Total conversations after checking mapping: 12
2024-07-06 21:35:35,740-INFO-Checked conversations and identified those to be updated.
2024-07-06 21:35:35,740-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-06 21:35:35,740-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-06 21:35:35,740-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-07-06 15:25:03.627000
2024-07-06 21:35:35,741-DEBUG-chatHistory.rev_conversations > Difference in time: 22232.114015
2024-07-06 21:35:35,741-INFO-chatHistory.rev_conversations > Cleaning conversation: 1720313569299x173251424237676130
2024-07-06 21:35:35,742-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-06 21:35:35,743-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-06 21:35:35,784-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': "what is my wife's birthday"}, {'role': 'system', 'content': 'Your wife, Luciane Raymond, was born on May 21, 1979.'}, {'role': 'user', 'content': 'how long do I need to cook broccoli for'}, {'role': 'system', 'content': 'Broccoli is usually cooked for about 5-7 minutes in boiling water or until it reaches your desired level of tenderness. Would you like a simple recipe for cooking broccoli, Colin?'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than five.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-06 21:35:35,785-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-06 21:35:35,785-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-06 21:35:35,794-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x107e186b0>
2024-07-06 21:35:35,794-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x107baee50> server_hostname='api.openai.com' timeout=5.0
2024-07-06 21:35:35,808-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x107c3c740>
2024-07-06 21:35:35,808-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-06 21:35:35,808-DEBUG-send_request_headers.complete
2024-07-06 21:35:35,808-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-06 21:35:35,808-DEBUG-send_request_body.complete
2024-07-06 21:35:35,808-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-06 21:35:36,505-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Jul 2024 01:35:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'515'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59643'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'357ms'), (b'x-request-id', b'req_87341423cd08bac44f12414cad401420'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=3qPFJcfbPwCW5km1z0CgQMxcw07FCFvR18R4uMjSVOk-1720316136-1.0.1.1-xsqYWB97L7Pyd_pyH8AdQZPBVJs3dXs.NzalaUkVVPlrSeiOTV7krPJinSqGDDtPzm.MWpEnLVa78L7Lxvomtw; path=/; expires=Sun, 07-Jul-24 02:05:36 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=KM8x5NXN5_KCxilQA7b8kveIp_MDl2bjGbbcKrt8D2A-1720316136518-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89f41948fcde39b8-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-06 21:35:36,506-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-06 21:35:36,507-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-06 21:35:36,507-DEBUG-receive_response_body.complete
2024-07-06 21:35:36,507-DEBUG-response_closed.started
2024-07-06 21:35:36,508-DEBUG-response_closed.complete
2024-07-06 21:35:36,508-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sun, 07 Jul 2024 01:35:36 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '515'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59643'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '357ms'), ('x-request-id', 'req_87341423cd08bac44f12414cad401420'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=3qPFJcfbPwCW5km1z0CgQMxcw07FCFvR18R4uMjSVOk-1720316136-1.0.1.1-xsqYWB97L7Pyd_pyH8AdQZPBVJs3dXs.NzalaUkVVPlrSeiOTV7krPJinSqGDDtPzm.MWpEnLVa78L7Lxvomtw; path=/; expires=Sun, 07-Jul-24 02:05:36 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=KM8x5NXN5_KCxilQA7b8kveIp_MDl2bjGbbcKrt8D2A-1720316136518-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89f41948fcde39b8-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-06 21:35:36,508-DEBUG-request_id: req_87341423cd08bac44f12414cad401420
2024-07-06 21:35:36,509-DEBUG-chatHistory.save_history > Saving conversation: 1720313569299x173251424237676130
2024-07-06 21:35:36,509-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1720313569299x173251424237676130) to Bubble.
2024-07-06 21:35:36,512-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:36,733-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-07-06 21:35:36,734-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-07-06 21:35:36,734-INFO-messageHandler.clean_messages > Checking for messages on Bubble
2024-07-06 21:35:36,734-INFO-bubbleAPI.get_exch_conv > Getting, message, records from Bubble.
2024-07-06 21:35:36,737-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:36,965-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/message?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:35:36,967-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-06T19:21:50.083Z', 'Created Date': '2024-07-06T19:21:50.061Z', 'Created By': '1719433427015x760125662067258500', 'Message': "Hey Colin, I'm gonna be there at 6pm for Mexican Food.", 'Expiration': 1, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720293709299x784097698135146500'}, {'Modified Date': '2024-07-07T00:39:09.538Z', 'Created Date': '2024-07-07T00:39:09.532Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'This is another test!', 'Expiration': 12, 'Frequency': 120, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720312749162x793717032299790300'}, {'Modified Date': '2024-07-07T00:53:36.906Z', 'Created Date': '2024-07-07T00:53:36.901Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'This is a great test!', 'Expiration': 12, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720313616577x566858409060597800'}, {'Modified Date': '2024-07-07T00:53:54.562Z', 'Created Date': '2024-07-07T00:53:54.555Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'What a wonderful test!', 'Expiration': 1, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720313634405x936283306844487700'}]
2024-07-06 21:35:36,967-INFO-bubbleAPI.get_records > Total message records pulled: 4
2024-07-06 21:35:36,970-INFO-messageHandler.clean_messages > Cleaning messages
2024-07-06 21:35:36,970-INFO-bubbleAPI.get_message > Checking for message(ID: 1720313634405x936283306844487700) on Bubble.
2024-07-06 21:35:36,973-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:37,197-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:35:37,198-INFO-bubbleAPI.get_message > Checking for message(ID: 1720313616577x566858409060597800) on Bubble.
2024-07-06 21:35:37,202-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:37,406-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:35:37,408-INFO-bubbleAPI.get_message > Checking for message(ID: 1720312749162x793717032299790300) on Bubble.
2024-07-06 21:35:37,411-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:37,602-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:35:37,604-INFO-bubbleAPI.get_message > Checking for message(ID: 1720293709299x784097698135146500) on Bubble.
2024-07-06 21:35:37,608-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:37,851-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:35:37,853-INFO-messageHandler.clean_messages > Deleting message: 0
2024-07-06 21:35:37,853-INFO-bubbleAPI.remove_recd > Removing record (ID: 1720293709299x784097698135146500) from Bubble with workflow del_message.
2024-07-06 21:35:37,857-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:38,089-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/del_message HTTP/1.1" 200 None
2024-07-06 21:35:38,090-INFO-bubbleAPI.remove_recd > Removing record (ID: 1720293709299x784097698135146500) from Bubble with workflow del_message.
2024-07-06 21:35:38,094-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:35:38,360-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/del_message HTTP/1.1" 200 None
2024-07-06 21:35:38,361-INFO-messageHandler.clean_message > {'status': 'success', 'response': {'result': 'success'}}
2024-07-06 21:35:38,361-INFO-messageHandler.clean_messages > Validating if any messages should be announced
2024-07-06 21:35:38,374-DEBUG-close.started
2024-07-06 21:35:38,374-DEBUG-close.complete
2024-07-06 21:35:38,374-DEBUG-close.started
2024-07-06 21:35:38,374-DEBUG-close.complete
2024-07-06 21:35:40,276-DEBUG-text: You have received a message from Colin Raymond: This is another test!
2024-07-06 21:35:40,277-DEBUG-tld: com.au
2024-07-06 21:35:40,277-DEBUG-lang: en
2024-07-06 21:35:40,277-DEBUG-slow: False
2024-07-06 21:35:40,277-DEBUG-lang_check: True
2024-07-06 21:35:40,277-DEBUG-pre_processor_funcs: [<function tone_marks at 0x105a61bc0>, <function end_of_line at 0x105a62020>, <function abbreviations at 0x105a628e0>, <function word_sub at 0x105a62980>]
2024-07-06 21:35:40,277-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|、|\\\n|;|。|\\)|：|…|\\(|\\[|\\]|，|‥|،|¡|—|¿', re.IGNORECASE) from: [<function tone_marks at 0x105a62ac0>, <function period_comma at 0x105a62b60>, <function colon at 0x105a62c00>, <function other_punctuation at 0x105a62ca0>]>
2024-07-06 21:35:40,277-DEBUG-timeout: None
2024-07-06 21:35:40,278-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-06 21:35:40,278-DEBUG-pre-processing: <function tone_marks at 0x105a61bc0>
2024-07-06 21:35:40,278-DEBUG-pre-processing: <function end_of_line at 0x105a62020>
2024-07-06 21:35:40,279-DEBUG-pre-processing: <function abbreviations at 0x105a628e0>
2024-07-06 21:35:40,280-DEBUG-pre-processing: <function word_sub at 0x105a62980>
2024-07-06 21:35:40,280-DEBUG-text_parts: ['You have received a message from Colin Raymond: This is another test!']
2024-07-06 21:35:40,280-DEBUG-text_parts: 1
2024-07-06 21:35:40,280-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20This%20is%20another%20test%21%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-06 21:35:40,282-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-06 21:35:40,531-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-06 21:35:40,558-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '225'}
2024-07-06 21:35:40,558-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-06 21:35:40,558-DEBUG-status-0: 200
2024-07-06 21:35:40,562-DEBUG-part-0 written to <_io.BytesIO object at 0x1055a0130>
2024-07-06 21:35:40,562-DEBUG-part-0 created
2024-07-06 21:35:47,492-DEBUG-text: You have received a message from Colin Raymond: This is a great test!
2024-07-06 21:35:47,493-DEBUG-tld: com.au
2024-07-06 21:35:47,493-DEBUG-lang: en
2024-07-06 21:35:47,493-DEBUG-slow: False
2024-07-06 21:35:47,493-DEBUG-lang_check: True
2024-07-06 21:35:47,493-DEBUG-pre_processor_funcs: [<function tone_marks at 0x105a61bc0>, <function end_of_line at 0x105a62020>, <function abbreviations at 0x105a628e0>, <function word_sub at 0x105a62980>]
2024-07-06 21:35:47,493-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|、|\\\n|;|。|\\)|：|…|\\(|\\[|\\]|，|‥|،|¡|—|¿', re.IGNORECASE) from: [<function tone_marks at 0x105a62ac0>, <function period_comma at 0x105a62b60>, <function colon at 0x105a62c00>, <function other_punctuation at 0x105a62ca0>]>
2024-07-06 21:35:47,493-DEBUG-timeout: None
2024-07-06 21:35:47,493-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-06 21:35:47,493-DEBUG-pre-processing: <function tone_marks at 0x105a61bc0>
2024-07-06 21:35:47,493-DEBUG-pre-processing: <function end_of_line at 0x105a62020>
2024-07-06 21:35:47,493-DEBUG-pre-processing: <function abbreviations at 0x105a628e0>
2024-07-06 21:35:47,493-DEBUG-pre-processing: <function word_sub at 0x105a62980>
2024-07-06 21:35:47,493-DEBUG-text_parts: ['You have received a message from Colin Raymond: This is a great test!']
2024-07-06 21:35:47,493-DEBUG-text_parts: 1
2024-07-06 21:35:47,493-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20This%20is%20a%20great%20test%21%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-06 21:35:47,494-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-06 21:35:47,819-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-06 21:35:47,837-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '227'}
2024-07-06 21:35:47,837-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-06 21:35:47,837-DEBUG-status-0: 200
2024-07-06 21:35:47,838-DEBUG-part-0 written to <_io.BytesIO object at 0x111fd4400>
2024-07-06 21:35:47,839-DEBUG-part-0 created
2024-07-06 21:35:54,784-DEBUG-text: You have received a message from Colin Raymond: What a wonderful test!
2024-07-06 21:35:54,785-DEBUG-tld: com.au
2024-07-06 21:35:54,785-DEBUG-lang: en
2024-07-06 21:35:54,786-DEBUG-slow: False
2024-07-06 21:35:54,786-DEBUG-lang_check: True
2024-07-06 21:35:54,786-DEBUG-pre_processor_funcs: [<function tone_marks at 0x105a61bc0>, <function end_of_line at 0x105a62020>, <function abbreviations at 0x105a628e0>, <function word_sub at 0x105a62980>]
2024-07-06 21:35:54,786-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|、|\\\n|;|。|\\)|：|…|\\(|\\[|\\]|，|‥|،|¡|—|¿', re.IGNORECASE) from: [<function tone_marks at 0x105a62ac0>, <function period_comma at 0x105a62b60>, <function colon at 0x105a62c00>, <function other_punctuation at 0x105a62ca0>]>
2024-07-06 21:35:54,786-DEBUG-timeout: None
2024-07-06 21:35:54,786-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-06 21:35:54,787-DEBUG-pre-processing: <function tone_marks at 0x105a61bc0>
2024-07-06 21:35:54,787-DEBUG-pre-processing: <function end_of_line at 0x105a62020>
2024-07-06 21:35:54,787-DEBUG-pre-processing: <function abbreviations at 0x105a628e0>
2024-07-06 21:35:54,787-DEBUG-pre-processing: <function word_sub at 0x105a62980>
2024-07-06 21:35:54,788-DEBUG-text_parts: ['You have received a message from Colin Raymond: What a wonderful test!']
2024-07-06 21:35:54,788-DEBUG-text_parts: 1
2024-07-06 21:35:54,788-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20What%20a%20wonderful%20test%21%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-06 21:35:54,792-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-06 21:35:54,979-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-06 21:35:54,999-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '226'}
2024-07-06 21:35:55,000-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-06 21:35:55,000-DEBUG-status-0: 200
2024-07-06 21:35:55,003-DEBUG-part-0 written to <_io.BytesIO object at 0x1055a0130>
2024-07-06 21:35:55,003-DEBUG-part-0 created
2024-07-06 21:37:00,776-INFO-messageHandler.clean_messages > Checking for messages on Bubble
2024-07-06 21:37:00,779-INFO-bubbleAPI.get_exch_conv > Getting, message, records from Bubble.
2024-07-06 21:37:00,786-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:37:00,987-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/message?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-06 21:37:00,989-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-07T00:53:36.906Z', 'Created Date': '2024-07-07T00:53:36.901Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'This is a great test!', 'Expiration': 12, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720313616577x566858409060597800'}, {'Modified Date': '2024-07-07T00:53:54.562Z', 'Created Date': '2024-07-07T00:53:54.555Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'What a wonderful test!', 'Expiration': 1, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720313634405x936283306844487700'}]
2024-07-06 21:37:00,989-INFO-bubbleAPI.get_records > Total message records pulled: 2
2024-07-06 21:37:00,992-INFO-messageHandler.clean_messages > Cleaning messages
2024-07-06 21:37:00,992-INFO-bubbleAPI.get_message > Checking for message(ID: 1720313634405x936283306844487700) on Bubble.
2024-07-06 21:37:00,995-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:37:01,204-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:37:01,206-INFO-bubbleAPI.get_message > Checking for message(ID: 1720313616577x566858409060597800) on Bubble.
2024-07-06 21:37:01,210-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:37:01,405-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:37:01,406-INFO-bubbleAPI.get_message > Checking for message(ID: 1720312749162x793717032299790300) on Bubble.
2024-07-06 21:37:01,410-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-06 21:37:01,615-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/check_message HTTP/1.1" 200 None
2024-07-06 21:37:01,616-INFO-messageHandler.clean_messages > Message 0 no longer on Bubble.
2024-07-06 21:37:01,617-INFO-messageHandler.clean_messages > Validating if any messages should be announced
2024-07-06 21:37:02,861-DEBUG-text: You have received a message from Colin Raymond: This is a great test!
2024-07-06 21:37:02,861-DEBUG-tld: com.au
2024-07-06 21:37:02,862-DEBUG-lang: en
2024-07-06 21:37:02,862-DEBUG-slow: False
2024-07-06 21:37:02,862-DEBUG-lang_check: True
2024-07-06 21:37:02,862-DEBUG-pre_processor_funcs: [<function tone_marks at 0x105a61bc0>, <function end_of_line at 0x105a62020>, <function abbreviations at 0x105a628e0>, <function word_sub at 0x105a62980>]
2024-07-06 21:37:02,862-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|、|\\\n|;|。|\\)|：|…|\\(|\\[|\\]|，|‥|،|¡|—|¿', re.IGNORECASE) from: [<function tone_marks at 0x105a62ac0>, <function period_comma at 0x105a62b60>, <function colon at 0x105a62c00>, <function other_punctuation at 0x105a62ca0>]>
2024-07-06 21:37:02,862-DEBUG-timeout: None
2024-07-06 21:37:02,862-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-06 21:37:02,863-DEBUG-pre-processing: <function tone_marks at 0x105a61bc0>
2024-07-06 21:37:02,863-DEBUG-pre-processing: <function end_of_line at 0x105a62020>
2024-07-06 21:37:02,863-DEBUG-pre-processing: <function abbreviations at 0x105a628e0>
2024-07-06 21:37:02,863-DEBUG-pre-processing: <function word_sub at 0x105a62980>
2024-07-06 21:37:02,863-DEBUG-text_parts: ['You have received a message from Colin Raymond: This is a great test!']
2024-07-06 21:37:02,863-DEBUG-text_parts: 1
2024-07-06 21:37:02,863-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20This%20is%20a%20great%20test%21%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-06 21:37:02,865-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-06 21:37:03,226-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-06 21:37:03,246-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '227'}
2024-07-06 21:37:03,247-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-06 21:37:03,247-DEBUG-status-0: 200
2024-07-06 21:37:03,253-DEBUG-part-0 written to <_io.BytesIO object at 0x1055537e0>
2024-07-06 21:37:03,253-DEBUG-part-0 created
2024-07-06 21:37:10,178-DEBUG-text: You have received a message from Colin Raymond: What a wonderful test!
2024-07-06 21:37:10,178-DEBUG-tld: com.au
2024-07-06 21:37:10,178-DEBUG-lang: en
2024-07-06 21:37:10,178-DEBUG-slow: False
2024-07-06 21:37:10,178-DEBUG-lang_check: True
2024-07-06 21:37:10,178-DEBUG-pre_processor_funcs: [<function tone_marks at 0x105a61bc0>, <function end_of_line at 0x105a62020>, <function abbreviations at 0x105a628e0>, <function word_sub at 0x105a62980>]
2024-07-06 21:37:10,178-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|、|\\\n|;|。|\\)|：|…|\\(|\\[|\\]|，|‥|،|¡|—|¿', re.IGNORECASE) from: [<function tone_marks at 0x105a62ac0>, <function period_comma at 0x105a62b60>, <function colon at 0x105a62c00>, <function other_punctuation at 0x105a62ca0>]>
2024-07-06 21:37:10,178-DEBUG-timeout: None
2024-07-06 21:37:10,178-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-06 21:37:10,179-DEBUG-pre-processing: <function tone_marks at 0x105a61bc0>
2024-07-06 21:37:10,179-DEBUG-pre-processing: <function end_of_line at 0x105a62020>
2024-07-06 21:37:10,179-DEBUG-pre-processing: <function abbreviations at 0x105a628e0>
2024-07-06 21:37:10,179-DEBUG-pre-processing: <function word_sub at 0x105a62980>
2024-07-06 21:37:10,179-DEBUG-text_parts: ['You have received a message from Colin Raymond: What a wonderful test!']
2024-07-06 21:37:10,179-DEBUG-text_parts: 1
2024-07-06 21:37:10,179-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20What%20a%20wonderful%20test%21%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-06 21:37:10,180-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-06 21:37:10,498-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-06 21:37:10,588-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '226'}
2024-07-06 21:37:10,589-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-06 21:37:10,589-DEBUG-status-0: 200
2024-07-06 21:37:10,601-DEBUG-part-0 written to <_io.BytesIO object at 0x1055a0130>
2024-07-06 21:37:10,602-DEBUG-part-0 created
