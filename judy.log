2024-06-28 16:45:04,387-INFO-__main__ > Initializing the program.
2024-06-28 16:45:07,303-INFO-judyMVP.__init__ > Initializing the program.
2024-06-28 16:45:07,304-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-06-28 16:45:07,317-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:07,489-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 401 None
2024-06-28 16:45:07,492-INFO-bubbleAPI.get_settings > response: {'error_class': 'Unauthorized', 'args': {'code': '1719607507438x243726509905568770'}, 'message': Non
2024-06-28 16:45:07,495-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:07,880-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/wf/gen_api_token?email=djt@judypatient.com&pw=b1%7BXF%7D7z HTTP/1.1" 200 None
2024-06-28 16:45:07,882-INFO-bubbleAPI.get_token > Getting new API key using credentials for djt@judypatient.com
2024-06-28 16:45:07,884-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:08,277-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-06-28 16:45:08,279-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-06-27T21:14:25.946Z', 'Created Date': '2024-06-27T21:00:46.088Z', 'Created By': 'admin_user_colinkraymond_test', 'accent': 'English', 'photo_delay': 3, 'trigger': 'Yo Judy', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', '_id': '1719522046088x711928326876819100'}], 'count': 1, 'remaining': 0}}
2024-06-28 16:45:08,279-ERROR-patientSettings.pull_settings > Unable to load any watchers.
2024-06-28 16:45:08,279-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 3, 'accent': 'English', 'trigger': 'Yo Judy'}
2024-06-28 16:45:08,279-INFO-chatHistory.__init__ > Loading the chat history
2024-06-28 16:45:08,279-INFO-chatHistory.load_all_conversations > Starting to load all of the conversations.
2024-06-28 16:45:08,279-INFO-bubbleAPI.get_exch_conv > Getting, conversation, records from Bubble.
2024-06-28 16:45:08,282-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:08,547-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/conversation?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 16:45:08,549-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T17:09:07.988Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T17:09:41.923Z', 'summary': 'The patient is inquiring if this is a test, and the assistant confirms that it is.', 'date': '2007-12-12T17:12:00.000Z', 'sentiment': 3, 'keywords': 'test', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434683461x477635049984356200', 'watcher': [], '_id': '1719594547988x306340934538917900'}, {'Created Date': '2024-06-28T18:01:25.952Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:38:57.166Z', 'summary': "The patient inquired about the assistant's well-being and the assistant responded positively.", 'date': '2024-06-28T14:01:24.500Z', 'sentiment': 4, 'keywords': 'well-being', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434683461x477635049984356200', 'watcher': [], '_id': '1719597685952x518008978881647550'}, {'Created Date': '2024-06-28T18:06:15.830Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:38:57.441Z', 'summary': 'The patient is inquiring about the whereabouts of their family, expressing concern and a desire to know more.', 'date': '2024-06-28T14:06:14.845Z', 'sentiment': 3, 'keywords': 'family,whereabouts,concern', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434683461x477635049984356200', 'watcher': [], '_id': '1719597975830x391309650624061440'}, {'Created Date': '2024-06-28T18:06:32.050Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:38:57.697Z', 'summary': 'The patient discussed the locations of their friend Joseph Biden in Washington, DC, wife Melenia Trump in New York, NY, and son Donald Trump Jr in Miami, FL.', 'date': '2024-06-28T14:06:30.292Z', 'sentiment': 3, 'keywords': 'Joseph Biden,Washington DC,Melenia Trump,New York NY,Donald Trump Jr,Miami FL', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434683461x477635049984356200', 'watcher': [], '_id': '1719597992050x459973216043702900'}, {'Created Date': '2024-06-28T18:39:09.770Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:41:46.747Z', 'summary': 'The patient inquired about their next appointment and the assistant offered to help schedule one.', 'date': '2024-06-28T14:39:08.800Z', 'sentiment': 3, 'keywords': 'appointment,schedule', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434683461x477635049984356200', 'watcher': [], '_id': '1719599949770x968045174298892000'}]
2024-06-28 16:45:08,550-INFO-bubbleAPI.get_records > Total conversation records pulled: 18
2024-06-28 16:45:08,550-INFO-chatHistory.load_all_conversations > [{'Created Date': '2024-06-28T17:09:07.988Z', 'Cre
2024-06-28 16:45:08,555-INFO-chatHistory.load_all_conversations > Total conversations loaded: 18
2024-06-28 16:45:08,555-INFO-chatHistory.load_all_exchangess > Pulling list of exchanges from Bubble API.
2024-06-28 16:45:08,555-INFO-bubbleAPI.get_exch_conv > Getting, chatexchange, records from Bubble.
2024-06-28 16:45:08,558-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:08,997-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/chatexchange?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 16:45:08,999-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T04:33:42.030Z', 'Created By': 'admin_user_colinkraymond_test', 'Modified Date': '2024-06-28T17:09:17.303Z', 'date': '2007-12-12T17:12:00.000Z', 'query': 'Is this a test?', 'response': 'Yup, it sure is!', 'summary': 'User checking to see if it is a test.', 'conversation': '1719594547988x306340934538917900', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', '_id': '1719549222029x700901035212780700'}, {'Created Date': '2024-06-28T18:01:26.501Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:38:56.348Z', 'date': '2024-06-28T14:01:24.500Z', 'query': 'How are you?', 'response': "I'm here and ready to assist you, Donnie. How can I help you today?", 'summary': 'The patient inquired about my well-being and requested assistance, while I am ready to help with any questions or tasks.', 'conversation': '1719597685952x518008978881647550', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719597686501x692046115671058000'}, {'Created Date': '2024-06-28T18:06:16.063Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:38:56.626Z', 'date': '2024-06-28T14:06:14.845Z', 'query': 'Judy thinking about my family. Do you knwo where they are?', 'response': 'I have information about your friends and family, Donnie. Would you like me to remind you about them?', 'summary': 'The patient, Donnie, is feeling concerned about the whereabouts of their family and asked the assistant, Judy, if they know where they are.', 'conversation': '1719597975830x391309650624061440', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719597976063x336547941024490240'}, {'Created Date': '2024-06-28T18:06:32.489Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:38:56.898Z', 'date': '2024-06-28T14:06:30.292Z', 'query': 'Yes please', 'response': 'You have a friend named Joseph Biden who lives in Washington, DC, and your wife Melenia Trump lives in New York, NY. Your son Donald Trump Jr resides in Miami, FL.', 'summary': 'The patient is interested in knowing about the locations and relationships of Joseph Biden, Melenia Trump, and Donald Trump Jr, showing curiosity and engagement in the conversation with the assistant.', 'conversation': '1719597992050x459973216043702900', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719597992489x452955149431071740'}, {'Created Date': '2024-06-28T18:39:09.996Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T18:41:45.304Z', 'date': '2024-06-28T14:39:08.800Z', 'query': 'When is my next appointment?', 'response': "You haven't mentioned any upcoming appointments, Donnie. Would you like me to help you schedule one?", 'summary': 'The patient, Donnie, inquired about their next appointment and the assistant, the AI, offered to help schedule one.', 'conversation': '1719599949770x968045174298892000', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719599949996x861987304258179200'}]
2024-06-28 16:45:08,999-INFO-bubbleAPI.get_records > Total chatexchange records pulled: 25
2024-06-28 16:45:08,999-INFO-chatHistory.load_all_exchanges > Loaded 25 exchanges from Bubble.
2024-06-28 16:45:08,999-INFO-chatHistory.load_all_exchanges > Added ID 1719549222029x700901035212780700 to exchanges: {'query': 'Is this a test?', 'response': 'Yup, it 
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719597686501x692046115671058000 to exchanges: {'query': 'How are you?', 'response': "I'm here an
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719597976063x336547941024490240 to exchanges: {'query': 'Judy thinking about my family. Do you k
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719597992489x452955149431071740 to exchanges: {'query': 'Yes please', 'response': 'You have a fr
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719599949996x861987304258179200 to exchanges: {'query': 'When is my next appointment?', 'respons
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719599972150x168728543483340320 to exchanges: {'query': 'Can you say that again?', 'response': "
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719599987319x349139690738069500 to exchanges: {'query': 'Yes please', 'response': 'I can help yo
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719600008071x175683949805274460 to exchanges: {'query': 'For five in the afternoon today.', 'res
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719600029414x614944376251509900 to exchanges: {'query': "I am just confused as to where I am and
2024-06-28 16:45:09,000-INFO-chatHistory.load_all_exchanges > Added ID 1719600160276x508708817924300500 to exchanges: {'query': 'ow are you?', 'response': "I'm here to 
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719600247157x679706551373844100 to exchanges: {'query': 'How are you today?', 'response': "Thank
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719600350415x291940665092203200 to exchanges: {'query': 'This is just a test. Can you tell me so
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719600413094x854128622568334500 to exchanges: {'query': 'Who the hell is skidmark?', 'response':
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719601491948x869606319310200800 to exchanges: {'query': 'This is totally a test', 'response': "D
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719601570408x247925410001043740 to exchanges: {'query': 'How are you?', 'response': "I'm here an
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719601795307x622036254755008900 to exchanges: {'query': 'Is this thing working?', 'response': 'Y
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719606459644x542561404063639500 to exchanges: {'query': 'How are you today Jusy?', 'response': "
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719606748202x741524876134722600 to exchanges: {'query': 'Hey, what is going on with you?', 'resp
2024-06-28 16:45:09,001-INFO-chatHistory.load_all_exchanges > Added ID 1719606764781x853234813328756400 to exchanges: {'query': 'Do you know an interesting fact about P
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Added ID 1719606784753x852940001222986000 to exchanges: {'query': 'What is the best sports team in the wor
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Added ID 1719606799524x289647448754264640 to exchanges: {'query': 'Yes, I love the Mets', 'response': "Tha
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Added ID 1719606821950x922749636359708000 to exchanges: {'query': 'Who is the best player in Mets history?
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Added ID 1719607394662x423416004479938900 to exchanges: {'query': 'Do you know where my wife is?', 'respon
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Added ID 1719607418768x938657773960933400 to exchanges: {'query': 'What should I get Melania for her birth
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Added ID 1719607443962x989641254964770600 to exchanges: {'query': 'What should I think about doing today?'
2024-06-28 16:45:09,002-INFO-chatHistory.load_all_exchanges > Total exchanges loaded: 25
2024-06-28 16:45:09,002-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-06-28 16:45:09,002-DEBUG-chatHistory.check_summary > Checking summary on 1719549222029x700901035212780700
2024-06-28 16:45:09,002-DEBUG-chatHistory.check_summary > Checking summary on 1719597686501x692046115671058000
2024-06-28 16:45:09,002-DEBUG-chatHistory.check_summary > Checking summary on 1719597976063x336547941024490240
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719597992489x452955149431071740
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719599949996x861987304258179200
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719599972150x168728543483340320
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719599987319x349139690738069500
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719600008071x175683949805274460
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719600029414x614944376251509900
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719600160276x508708817924300500
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719600247157x679706551373844100
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719600350415x291940665092203200
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719600413094x854128622568334500
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719601491948x869606319310200800
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719601570408x247925410001043740
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719601795307x622036254755008900
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719606459644x542561404063639500
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719606748202x741524876134722600
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719606764781x853234813328756400
2024-06-28 16:45:09,003-DEBUG-chatHistory.check_summary > Checking summary on 1719606784753x852940001222986000
2024-06-28 16:45:09,004-DEBUG-chatHistory.check_summary > Checking summary on 1719606799524x289647448754264640
2024-06-28 16:45:09,004-DEBUG-chatHistory.check_summary > Checking summary on 1719606821950x922749636359708000
2024-06-28 16:45:09,004-DEBUG-chatHistory.check_summary > Checking summary on 1719607394662x423416004479938900
2024-06-28 16:45:09,005-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 16:45:09,006-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 16:45:09,045-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'Do you know where my wife is?'}, {'role': 'assistant', 'content': 'Your wife, Melania Trump, lives in New York, NY, USA.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary and keywords. \n\n                    The summary field should have a summary of our above conversation one sentence. Be sure to call out both \n                    what you think my mood is as well as identifying any people or places that I have asked about. Refer \n                    to me in the summary as the patient and yourself as the assistant.\n\n                    The keywords field should be a comma-delimited list of any places, people, or events that are referenced\n                    in our conversation.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 16:45:09,071-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 16:45:09,071-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 16:45:09,092-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1150c9190>
2024-06-28 16:45:09,093-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x112d63e50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 16:45:09,111-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1150bc3b0>
2024-06-28 16:45:09,111-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 16:45:09,111-DEBUG-send_request_headers.complete
2024-06-28 16:45:09,111-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 16:45:09,111-DEBUG-send_request_body.complete
2024-06-28 16:45:09,112-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 16:45:10,227-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 20:45:10 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'880'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59816'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'184ms'), (b'x-request-id', b'req_07656b5558fef3925282114c27c7b56e'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=X24cOtK5NNA5M6Ylr0pdhfjrr6BHpGI0OvsNlyL1h_Q-1719607510-1.0.1.1-DtOE6PQXuRqopLn_06tfZgRWRR3djd._86jslN9vNHquBbfpNxF216nWbkmOTU5RIee6414RxO5lH.PEdUIopQ; path=/; expires=Fri, 28-Jun-24 21:15:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=g9rIWNCFQQo9u7qe_Mnazn.a0tRlJ7E9AIyq5FBuklE-1719607510119-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b084d40e9a59d3-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 16:45:10,229-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 16:45:10,230-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 16:45:10,230-DEBUG-receive_response_body.complete
2024-06-28 16:45:10,230-DEBUG-response_closed.started
2024-06-28 16:45:10,230-DEBUG-response_closed.complete
2024-06-28 16:45:10,231-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 20:45:10 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '880'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59816'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '184ms'), ('x-request-id', 'req_07656b5558fef3925282114c27c7b56e'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=X24cOtK5NNA5M6Ylr0pdhfjrr6BHpGI0OvsNlyL1h_Q-1719607510-1.0.1.1-DtOE6PQXuRqopLn_06tfZgRWRR3djd._86jslN9vNHquBbfpNxF216nWbkmOTU5RIee6414RxO5lH.PEdUIopQ; path=/; expires=Fri, 28-Jun-24 21:15:10 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=g9rIWNCFQQo9u7qe_Mnazn.a0tRlJ7E9AIyq5FBuklE-1719607510119-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b084d40e9a59d3-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 16:45:10,231-DEBUG-request_id: req_07656b5558fef3925282114c27c7b56e
2024-06-28 16:45:10,237-INFO-chatHistory.check_summary > Adding summary to ID 1719607394662x423416004479938900 fill out as it is empty: The patient inquires about the whereabouts of his wife, Melania Trump, indicating concern or curiosity.
2024-06-28 16:45:10,238-DEBUG-chatHistory.check_summary > Checking summary on 1719607418768x938657773960933400
2024-06-28 16:45:10,238-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 16:45:10,239-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 16:45:10,274-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'What should I get Melania for her birthday?'}, {'role': 'assistant', 'content': 'How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary and keywords. \n\n                    The summary field should have a summary of our above conversation one sentence. Be sure to call out both \n                    what you think my mood is as well as identifying any people or places that I have asked about. Refer \n                    to me in the summary as the patient and yourself as the assistant.\n\n                    The keywords field should be a comma-delimited list of any places, people, or events that are referenced\n                    in our conversation.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 16:45:10,275-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 16:45:10,275-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 16:45:10,286-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115200770>
2024-06-28 16:45:10,286-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x115056d50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 16:45:10,302-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1152004d0>
2024-06-28 16:45:10,302-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 16:45:10,303-DEBUG-send_request_headers.complete
2024-06-28 16:45:10,303-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 16:45:10,303-DEBUG-send_request_body.complete
2024-06-28 16:45:10,303-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 16:45:11,446-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 20:45:11 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'931'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'59798'), (b'x-ratelimit-reset-requests', b'16.086s'), (b'x-ratelimit-reset-tokens', b'202ms'), (b'x-request-id', b'req_31123e515a581c65683626546e7d190f'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=frmhiRPc9TNwzlQ9MnZud25ZeTi8fYUrT6gviMGLHpI-1719607511-1.0.1.1-G8uZzLtf88NdxOM.zu7cnlKLDKgVgmY1OVxGGudAe_gRkQRCJKFVD_Gkde9Cfjp.FPlf9YwwT7D.WuWzDZ19Qg; path=/; expires=Fri, 28-Jun-24 21:15:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=05fpwbbwMl6wtKFgwI5exeE0aoJ35_6seGsrUvZhZnc-1719607511447-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b084db7d5b2022-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 16:45:11,448-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 16:45:11,448-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 16:45:11,449-DEBUG-receive_response_body.complete
2024-06-28 16:45:11,449-DEBUG-response_closed.started
2024-06-28 16:45:11,449-DEBUG-response_closed.complete
2024-06-28 16:45:11,449-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 20:45:11 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '931'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '59798'), ('x-ratelimit-reset-requests', '16.086s'), ('x-ratelimit-reset-tokens', '202ms'), ('x-request-id', 'req_31123e515a581c65683626546e7d190f'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=frmhiRPc9TNwzlQ9MnZud25ZeTi8fYUrT6gviMGLHpI-1719607511-1.0.1.1-G8uZzLtf88NdxOM.zu7cnlKLDKgVgmY1OVxGGudAe_gRkQRCJKFVD_Gkde9Cfjp.FPlf9YwwT7D.WuWzDZ19Qg; path=/; expires=Fri, 28-Jun-24 21:15:11 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=05fpwbbwMl6wtKFgwI5exeE0aoJ35_6seGsrUvZhZnc-1719607511447-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b084db7d5b2022-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 16:45:11,450-DEBUG-request_id: req_31123e515a581c65683626546e7d190f
2024-06-28 16:45:11,451-INFO-chatHistory.check_summary > Adding summary to ID 1719607418768x938657773960933400 fill out as it is empty: The patient is seeking gift ideas for Melania's birthday and the assistant suggests something related to her interests like modeling or a special outing in New York City.
2024-06-28 16:45:11,451-DEBUG-chatHistory.check_summary > Checking summary on 1719607443962x989641254964770600
2024-06-28 16:45:11,452-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 16:45:11,453-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 16:45:11,492-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'What should I think about doing today?'}, {'role': 'assistant', 'content': 'Today, you could consider spending time with your family or maybe going for a walk outside, Donnie.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary and keywords. \n\n                    The summary field should have a summary of our above conversation one sentence. Be sure to call out both \n                    what you think my mood is as well as identifying any people or places that I have asked about. Refer \n                    to me in the summary as the patient and yourself as the assistant.\n\n                    The keywords field should be a comma-delimited list of any places, people, or events that are referenced\n                    in our conversation.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 16:45:11,492-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 16:45:11,492-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 16:45:11,503-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115210770>
2024-06-28 16:45:11,503-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x112d926d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 16:45:11,528-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1152104d0>
2024-06-28 16:45:11,528-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 16:45:11,528-DEBUG-send_request_headers.complete
2024-06-28 16:45:11,528-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 16:45:11,528-DEBUG-send_request_body.complete
2024-06-28 16:45:11,528-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 16:45:12,434-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 20:45:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'670'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'59802'), (b'x-ratelimit-reset-requests', b'23.496s'), (b'x-ratelimit-reset-tokens', b'198ms'), (b'x-request-id', b'req_267e5ea0838c120d81f9739eb9f6cbc8'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=DkiWAvJfmsEeHa2YI5Ob8Xu_jmG.b0JL0eMXL_sMUxQ-1719607512-1.0.1.1-ANgyDpaz0FI.L3997zuoOdrL0S9wKA7S3W8y96QSy75DgBkVCkmZXaqRIq_tV7lMXG6IyCf79SqweYAKhYZrPg; path=/; expires=Fri, 28-Jun-24 21:15:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=DdGqzw38KcLW_KAsOTqbXeMiAqeB2PHQGnNXr3rvTv4-1719607512437-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b084e32bb11741-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 16:45:12,436-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 16:45:12,436-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 16:45:12,437-DEBUG-receive_response_body.complete
2024-06-28 16:45:12,437-DEBUG-response_closed.started
2024-06-28 16:45:12,437-DEBUG-response_closed.complete
2024-06-28 16:45:12,437-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 20:45:12 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '670'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9997'), ('x-ratelimit-remaining-tokens', '59802'), ('x-ratelimit-reset-requests', '23.496s'), ('x-ratelimit-reset-tokens', '198ms'), ('x-request-id', 'req_267e5ea0838c120d81f9739eb9f6cbc8'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=DkiWAvJfmsEeHa2YI5Ob8Xu_jmG.b0JL0eMXL_sMUxQ-1719607512-1.0.1.1-ANgyDpaz0FI.L3997zuoOdrL0S9wKA7S3W8y96QSy75DgBkVCkmZXaqRIq_tV7lMXG6IyCf79SqweYAKhYZrPg; path=/; expires=Fri, 28-Jun-24 21:15:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=DdGqzw38KcLW_KAsOTqbXeMiAqeB2PHQGnNXr3rvTv4-1719607512437-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b084e32bb11741-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 16:45:12,437-DEBUG-request_id: req_267e5ea0838c120d81f9739eb9f6cbc8
2024-06-28 16:45:12,439-INFO-chatHistory.check_summary > Adding summary to ID 1719607443962x989641254964770600 fill out as it is empty: The patient is seeking advice on how to spend their day and is considering spending time with family or going for a walk outside, while the assistant suggests these activities.
2024-06-28 16:45:12,439-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 25
2024-06-28 16:45:12,439-INFO-chatHistory.check_mappings > In the check_mappings function
2024-06-28 16:45:12,439-INFO-Sorting through these exchanges: 25
2024-06-28 16:45:12,443-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:13,135-DEBUG-close.started
2024-06-28 16:45:13,136-DEBUG-close.complete
2024-06-28 16:45:13,136-DEBUG-close.started
2024-06-28 16:45:13,136-DEBUG-close.complete
2024-06-28 16:45:13,136-DEBUG-close.started
2024-06-28 16:45:13,136-DEBUG-close.complete
2024-06-28 16:45:13,142-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/conversation HTTP/1.1" 201 None
2024-06-28 16:45:13,143-INFO-New conversation created, ID: 1719607513061x963355823159941100
2024-06-28 16:45:13,143-INFO-Creating initial conversation and mapping conv: None to: 1719607394662x423416004479938900
2024-06-28 16:45:13,143-INFO-Total exchanges after checking mapping: 25
2024-06-28 16:45:13,143-INFO-Total conversations after checking mapping: 19
2024-06-28 16:45:13,143-INFO-Conversation to be updated for (summary, keywords, sentiment): 1719607513061x963355823159941100
2024-06-28 16:45:13,143-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 16:45:13,144-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 16:45:13,183-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': 'Do you know where my wife is?'}, {'role': 'system', 'content': 'Your wife, Melania Trump, lives in New York, NY, USA.'}, {'role': 'user', 'content': 'What should I get Melania for her birthday?'}, {'role': 'system', 'content': 'How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?'}, {'role': 'user', 'content': 'What should I think about doing today?'}, {'role': 'system', 'content': 'Today, you could consider spending time with your family or maybe going for a walk outside, Donnie.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than 10.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 16:45:13,183-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 16:45:13,183-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 16:45:13,193-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1150bce30>
2024-06-28 16:45:13,193-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x112d930d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 16:45:13,209-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1150bd7f0>
2024-06-28 16:45:13,209-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 16:45:13,210-DEBUG-send_request_headers.complete
2024-06-28 16:45:13,210-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 16:45:13,210-DEBUG-send_request_body.complete
2024-06-28 16:45:13,210-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 16:45:14,408-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 20:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'955'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'59623'), (b'x-ratelimit-reset-requests', b'30.439s'), (b'x-ratelimit-reset-tokens', b'377ms'), (b'x-request-id', b'req_038b7ae677cce0324d2f7ed9d130c6d1'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=L2G6RzOZhIg0reYSbHUIfZ9hAJQQgDBqazQy59.SNMo-1719607514-1.0.1.1-KCudbXWerCGKdG8iPSfLOgpkT8ByNwS7YMiAHA4f8cx_GxF7OqAWI8NWNvsZk9B_R31TjAkFKSVW8DKkU3IE5w; path=/; expires=Fri, 28-Jun-24 21:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=DPCKPHMwkl7nRVg6r_DhvZldnTYQBJkID5lrGJ6FSdw-1719607514411-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b084eda9b27ffa-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 16:45:14,410-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 16:45:14,410-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 16:45:14,411-DEBUG-receive_response_body.complete
2024-06-28 16:45:14,411-DEBUG-response_closed.started
2024-06-28 16:45:14,411-DEBUG-response_closed.complete
2024-06-28 16:45:14,411-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 20:45:14 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '955'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9996'), ('x-ratelimit-remaining-tokens', '59623'), ('x-ratelimit-reset-requests', '30.439s'), ('x-ratelimit-reset-tokens', '377ms'), ('x-request-id', 'req_038b7ae677cce0324d2f7ed9d130c6d1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=L2G6RzOZhIg0reYSbHUIfZ9hAJQQgDBqazQy59.SNMo-1719607514-1.0.1.1-KCudbXWerCGKdG8iPSfLOgpkT8ByNwS7YMiAHA4f8cx_GxF7OqAWI8NWNvsZk9B_R31TjAkFKSVW8DKkU3IE5w; path=/; expires=Fri, 28-Jun-24 21:15:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=DPCKPHMwkl7nRVg6r_DhvZldnTYQBJkID5lrGJ6FSdw-1719607514411-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b084eda9b27ffa-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 16:45:14,412-DEBUG-request_id: req_038b7ae677cce0324d2f7ed9d130c6d1
2024-06-28 16:45:14,412-INFO-Checked conversations and identified those to be updated.
2024-06-28 16:45:14,413-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:14,413-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:14,413-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:14,413-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 16:44:01.512000
2024-06-28 16:45:14,413-DEBUG-chatHistory.rev_conversations > Difference in time: 72.901413
2024-06-28 16:45:14,413-DEBUG-chatHistory.save_history > Saving exchange: Do you know where my wife is?
2024-06-28 16:45:14,413-INFO-bubbleAPI.update_exch_rcds > Updating exchange (ID: 1719607394662x423416004479938900) to Bubble.
2024-06-28 16:45:14,417-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:14,648-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_exchange HTTP/1.1" 200 None
2024-06-28 16:45:14,649-DEBUG-chatHistory.save_history > Saving exchange: What should I get Melania for her birthday?
2024-06-28 16:45:14,649-INFO-bubbleAPI.update_exch_rcds > Updating exchange (ID: 1719607418768x938657773960933400) to Bubble.
2024-06-28 16:45:14,652-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:15,114-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_exchange HTTP/1.1" 200 None
2024-06-28 16:45:15,115-DEBUG-chatHistory.save_history > Saving exchange: What should I think about doing today?
2024-06-28 16:45:15,115-INFO-bubbleAPI.update_exch_rcds > Updating exchange (ID: 1719607443962x989641254964770600) to Bubble.
2024-06-28 16:45:15,119-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:15,380-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_exchange HTTP/1.1" 200 None
2024-06-28 16:45:15,382-DEBUG-chatHistory.save_history > Saving conversation: 1719607513061x963355823159941100
2024-06-28 16:45:15,382-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719607513061x963355823159941100) to Bubble.
2024-06-28 16:45:15,385-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:15,666-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 16:45:15,667-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-06-28 16:45:15,667-DEBUG-patientInfo.__init__ > Getting patient information.
2024-06-28 16:45:15,667-INFO-bubbleAPI.get_exch_conv > Getting, user, records from Bubble.
2024-06-28 16:45:15,669-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:15,880-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/user?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 16:45:15,882-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-28T01:11:38.881Z', 'Created Date': '2024-06-26T20:44:43.461Z', 'first_name': 'Donald', 'last_name': 'Trump', 'user_signed_up': True, 'authentication': {'email': {'email': 'djt@judypatient.com', 'email_confirmed': None}}, 'middle_name': 'John', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Donnie', 'bday': '2024-06-14T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'New York City', '_id': '1719434683461x477635049984356200'}]
2024-06-28 16:45:15,882-INFO-bubbleAPI.get_records > Total user records pulled: 1
2024-06-28 16:45:15,882-DEBUG-patientInfo.import_data > {'Modified Date': '2024-06-28T01:11:38.881Z', 'Created Date': '2024-06-26T20:44:43.461Z', 'first_name': 'Donald', 'last_name': 'Trump', 'user_signed_up': True, 'authentication': {'email': {'email': 'djt@judypatient.com', 'email_confirmed': None}}, 'middle_name': 'John', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Donnie', 'bday': '2024-06-14T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'New York City', '_id': '1719434683461x477635049984356200'}
2024-06-28 16:45:15,882-INFO-bubbleAPI.get_exch_conv > Getting, interest, records from Bubble.
2024-06-28 16:45:15,886-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:16,113-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/interest?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 16:45:16,115-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-27T03:24:54.341Z', 'Created Date': '2024-06-27T03:24:54.340Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Wharton', 'patient': '1719434683461x477635049984356200', 'type': 'school', '_id': '1719458694080x410734260017430500'}, {'Modified Date': '2024-06-27T03:25:10.710Z', 'Created Date': '2024-06-27T03:25:10.709Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Hudson Military Academy', 'patient': '1719434683461x477635049984356200', 'type': 'school', '_id': '1719458710446x507369084320219140'}, {'Modified Date': '2024-06-27T19:42:13.520Z', 'Created Date': '2024-06-27T19:42:13.520Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Golf', 'patient': '1719434683461x477635049984356200', 'type': 'sport', '_id': '1719517333133x364675845846728700'}, {'Modified Date': '2024-06-27T19:42:18.377Z', 'Created Date': '2024-06-27T19:42:18.377Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Tennis', 'patient': '1719434683461x477635049984356200', 'type': 'sport', '_id': '1719517338044x493916566283616260'}, {'Modified Date': '2024-06-27T19:45:50.214Z', 'Created Date': '2024-06-27T19:45:50.213Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Caviar', 'patient': '1719434683461x477635049984356200', 'type': 'food', '_id': '1719517549878x647883823674032100'}]
2024-06-28 16:45:16,115-INFO-bubbleAPI.get_records > Total interest records pulled: 15
2024-06-28 16:45:16,115-DEBUG-patientBG.__init__ > {'school': ['Wharton', 'Hudson Military Academy'], 'sport': ['Golf', 'Tennis'], 'food': ['Caviar', "Duck a L'Orange", 'Taco Salad'], 'place': ['Maralago', 'Trump Tower', 'New York'], 'hobby': ['Negotiating', 'Campaigning', 'Public Speaking'], 'other': ['Immigration', 'Real Estate']}
2024-06-28 16:45:16,115-INFO-bubbleAPI.get_exch_conv > Getting, friends, records from Bubble.
2024-06-28 16:45:16,119-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:16,504-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/friends?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 16:45:16,506-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-27T00:45:51.378Z', 'Created Date': '2024-06-27T00:32:18.306Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1942-11-20T05:00:00.000Z', 'deceased': False, 'first_name': 'Joseph', 'last_name': 'Biden', 'location': {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}, 'nickname': 'Joe', 'relationship': 'Friend', 'interests': 'Cars, Scranton, Burgers', 'patient': '1719434683461x477635049984356200', '_id': '1719448337777x357702904085217300'}, {'Modified Date': '2024-06-27T00:45:43.625Z', 'Created Date': '2024-06-27T00:39:02.551Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1970-04-26T05:00:00.000Z', 'deceased': False, 'first_name': 'Melenia', 'last_name': 'Trump', 'location': {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}, 'relationship': 'Wife', 'interests': 'Modeling, Scowling', 'patient': '1719434683461x477635049984356200', '_id': '1719448741989x774716996615667700'}, {'Modified Date': '2024-06-27T00:45:36.369Z', 'Created Date': '2024-06-27T00:43:35.650Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1977-12-31T05:00:00.000Z', 'deceased': False, 'first_name': 'Donald', 'last_name': 'Trump Jr', 'location': {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}, 'nickname': 'Skidmark', 'relationship': 'Son', 'interests': 'Fraud, Knitting, Running', 'patient': '1719434683461x477635049984356200', '_id': '1719449015253x282271874764767230'}]
2024-06-28 16:45:16,506-INFO-bubbleAPI.get_records > Total friends records pulled: 3
2024-06-28 16:45:16,506-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-06-28 16:45:16,506-INFO-patientFriends.__init__ > Friend info nickname does not exist.
2024-06-28 16:45:16,506-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-06-28 16:45:16,506-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-06-28 16:45:16,506-DEBUG-patientFriends.__init__ > [{'bday': '1942-11-20T05:00:00.000Z', 'deceased': False, 'fname': 'Joseph', 'interests': 'Cars, Scranton, Burgers', 'lname': 'Biden', 'location': {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}, 'nname': 'Joe', 'relationship': 'Friend'}, {'bday': '1970-04-26T05:00:00.000Z', 'deceased': False, 'fname': 'Melenia', 'interests': 'Modeling, Scowling', 'lname': 'Trump', 'location': {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}, 'relationship': 'Wife'}, {'bday': '1977-12-31T05:00:00.000Z', 'deceased': False, 'fname': 'Donald', 'interests': 'Fraud, Knitting, Running', 'lname': 'Trump Jr', 'location': {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}, 'nname': 'Skidmark', 'relationship': 'Son'}]
2024-06-28 16:45:16,506-INFO-judyMVP.__init__ > Starting audio thread.
2024-06-28 16:45:16,562-DEBUG-close.started
2024-06-28 16:45:16,562-DEBUG-close.complete
2024-06-28 16:45:17,831-INFO-judyVoice.listen > Starting to listen through microphone.
2024-06-28 16:45:22,561-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 16:45:22,561-INFO-promptCreate.__init__ > Generating the GPT prompt.
2024-06-28 16:45:22,561-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 16:45:22,561-DEBUG-promptCreate.update_info > {'info': 'My name is Donald John Trump, but people call me Donnie.', 'family': 'This is information about my friends and family:', 'background': ''}
2024-06-28 16:45:22,561-DEBUG-promptCreate.update_single_person > {'bday': '1942-11-20T05:00:00.000Z', 'deceased': False, 'fname': 'Joseph', 'interests': 'Cars, Scranton, Burgers', 'lname': 'Biden', 'location': {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}, 'nname': 'Joe', 'relationship': 'Friend'}
2024-06-28 16:45:22,561-DEBUG-promptCreate.update_single_person > {'bday': '1970-04-26T05:00:00.000Z', 'deceased': False, 'fname': 'Melenia', 'interests': 'Modeling, Scowling', 'lname': 'Trump', 'location': {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}, 'relationship': 'Wife'}
2024-06-28 16:45:22,561-DEBUG-promptCreate.update_single_person > {'bday': '1977-12-31T05:00:00.000Z', 'deceased': False, 'fname': 'Donald', 'interests': 'Fraud, Knitting, Running', 'lname': 'Trump Jr', 'location': {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}, 'nname': 'Skidmark', 'relationship': 'Son'}
2024-06-28 16:45:22,561-DEBUG-promptCreate.build_message > [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Yes, I love the Mets'}, {'role': 'assistant', 'content': "That's great, Donnie! The New York Mets are a popular baseball team. Is there anything Mets-related you'd like to know or discuss?"}, {'role': 'user', 'content': 'Who is the best player in Mets history?'}, {'role': 'assistant', 'content': 'One of the best players in Mets history is considered to be Tom Seaver, known as "The Franchise."'}, {'role': 'user', 'content': 'Do you know where my wife is?'}, {'role': 'assistant', 'content': 'Your wife, Melania Trump, lives in New York, NY, USA.'}, {'role': 'user', 'content': 'What should I get Melania for her birthday?'}, {'role': 'assistant', 'content': 'How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?'}, {'role': 'user', 'content': 'What should I think about doing today?'}, {'role': 'assistant', 'content': 'Today, you could consider spending time with your family or maybe going for a walk outside, Donnie.'}, {'role': 'user', 'content': 'How are you today?'}]
2024-06-28 16:45:22,561-INFO-openAIGPT.run_Query > Contacting OpenAI with query: How are you today?
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "system", "content": "You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "Yes, I love the Mets"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "That's great, Donnie! The New York Mets are a popular baseball team. Is there anything Mets-related you'd like to know or discuss?"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "Who is the best player in Mets history?"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "One of the best players in Mets history is considered to be Tom Seaver, known as \"The Franchise.\""}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "Do you know where my wife is?"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Your wife, Melania Trump, lives in New York, NY, USA."}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What should I get Melania for her birthday?"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What should I think about doing today?"}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Today, you could consider spending time with your family or maybe going for a walk outside, Donnie."}
2024-06-28 16:45:22,562-DEBUG-openAIGPT.run_query > {"role": "user", "content": "How are you today?"}
2024-06-28 16:45:22,562-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 16:45:22,563-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 16:45:22,606-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Yes, I love the Mets'}, {'role': 'assistant', 'content': "That's great, Donnie! The New York Mets are a popular baseball team. Is there anything Mets-related you'd like to know or discuss?"}, {'role': 'user', 'content': 'Who is the best player in Mets history?'}, {'role': 'assistant', 'content': 'One of the best players in Mets history is considered to be Tom Seaver, known as "The Franchise."'}, {'role': 'user', 'content': 'Do you know where my wife is?'}, {'role': 'assistant', 'content': 'Your wife, Melania Trump, lives in New York, NY, USA.'}, {'role': 'user', 'content': 'What should I get Melania for her birthday?'}, {'role': 'assistant', 'content': 'How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?'}, {'role': 'user', 'content': 'What should I think about doing today?'}, {'role': 'assistant', 'content': 'Today, you could consider spending time with your family or maybe going for a walk outside, Donnie.'}, {'role': 'user', 'content': 'How are you today?'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 16:45:22,606-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 16:45:22,606-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 16:45:22,616-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1153f6240>
2024-06-28 16:45:22,616-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x1153c4a50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 16:45:22,635-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1153f6150>
2024-06-28 16:45:22,635-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 16:45:22,635-DEBUG-send_request_headers.complete
2024-06-28 16:45:22,635-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 16:45:22,635-DEBUG-send_request_body.complete
2024-06-28 16:45:22,635-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 16:45:23,585-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 20:45:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'724'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'59444'), (b'x-ratelimit-reset-requests', b'29.666s'), (b'x-ratelimit-reset-tokens', b'556ms'), (b'x-request-id', b'req_281fdbe4c95e9e761ccfe517a1266740'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=YdHFcH3NLc.1XZDKSynmigGfdalUCG1TAnWr7jfPqUc-1719607523-1.0.1.1-wQZBsASwUMMjY613zDxM7f4vr5TmN9U9ciBpyC8K7hO2fC.Ar3i71BKnWhteTuBOw4jHOekB1bjcVWdjzP4Rww; path=/; expires=Fri, 28-Jun-24 21:15:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=F56GpkwdT8kXm6wTMdHe7QuJROOLhm3ZxaL05JvmHp8-1719607523588-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b085289feb9c1f-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 16:45:23,586-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 16:45:23,587-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 16:45:23,587-DEBUG-receive_response_body.complete
2024-06-28 16:45:23,587-DEBUG-response_closed.started
2024-06-28 16:45:23,587-DEBUG-response_closed.complete
2024-06-28 16:45:23,588-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 20:45:23 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '724'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9996'), ('x-ratelimit-remaining-tokens', '59444'), ('x-ratelimit-reset-requests', '29.666s'), ('x-ratelimit-reset-tokens', '556ms'), ('x-request-id', 'req_281fdbe4c95e9e761ccfe517a1266740'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=YdHFcH3NLc.1XZDKSynmigGfdalUCG1TAnWr7jfPqUc-1719607523-1.0.1.1-wQZBsASwUMMjY613zDxM7f4vr5TmN9U9ciBpyC8K7hO2fC.Ar3i71BKnWhteTuBOw4jHOekB1bjcVWdjzP4Rww; path=/; expires=Fri, 28-Jun-24 21:15:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=F56GpkwdT8kXm6wTMdHe7QuJROOLhm3ZxaL05JvmHp8-1719607523588-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b085289feb9c1f-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 16:45:23,588-DEBUG-request_id: req_281fdbe4c95e9e761ccfe517a1266740
2024-06-28 16:45:23,589-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fCl9HCwaaCl2l7ir3GpMnkPRvtRd', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content="I'm here to assist you, Donnie. Is there anything specific you'd like help with today?", role='assistant', function_call=None, tool_calls=None))], created=1719607523, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=21, prompt_tokens=569, total_tokens=590))
2024-06-28 16:45:23,589-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:23,589-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:23,589-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:23,589-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 16:44:01.512000
2024-06-28 16:45:23,589-DEBUG-chatHistory.rev_conversations > Difference in time: 82.077651
2024-06-28 16:45:23,589-DEBUG-chatHistory.save_history > Saving exchange: How are you today?
2024-06-28 16:45:23,592-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:24,050-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 16:45:24,052-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719607523951x682021079806451500
2024-06-28 16:45:24,052-DEBUG-text: I'm here to assist you, Donnie. Is there anything specific you'd like help with today?
2024-06-28 16:45:24,052-DEBUG-tld: co.uk
2024-06-28 16:45:24,052-DEBUG-lang: en
2024-06-28 16:45:24,052-DEBUG-slow: False
2024-06-28 16:45:24,052-DEBUG-lang_check: True
2024-06-28 16:45:24,053-DEBUG-pre_processor_funcs: [<function tone_marks at 0x110880b80>, <function end_of_line at 0x110881620>, <function abbreviations at 0x110881ee0>, <function word_sub at 0x110881f80>]
2024-06-28 16:45:24,053-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=).|(?<=).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):||\\]|\\)|||\\(|||\\[||||||;|\\\n', re.IGNORECASE) from: [<function tone_marks at 0x1108820c0>, <function period_comma at 0x110882160>, <function colon at 0x110882200>, <function other_punctuation at 0x1108822a0>]>
2024-06-28 16:45:24,053-DEBUG-timeout: None
2024-06-28 16:45:24,053-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 16:45:24,055-DEBUG-pre-processing: <function tone_marks at 0x110880b80>
2024-06-28 16:45:24,056-DEBUG-pre-processing: <function end_of_line at 0x110881620>
2024-06-28 16:45:24,056-DEBUG-pre-processing: <function abbreviations at 0x110881ee0>
2024-06-28 16:45:24,057-DEBUG-pre-processing: <function word_sub at 0x110881f80>
2024-06-28 16:45:24,058-DEBUG-text_parts: ["I'm here to assist you, Donnie. Is there anything specific you'd like help with today?"]
2024-06-28 16:45:24,058-DEBUG-text_parts: 1
2024-06-28 16:45:24,058-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22I%27m%20here%20to%20assist%20you%2C%20Donnie.%20Is%20there%20anything%20specific%20you%27d%20like%20help%20with%20today%3F%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 16:45:24,060-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 16:45:24,297-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 16:45:24,321-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '252'}
2024-06-28 16:45:24,321-DEBUG-url-0: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 16:45:24,321-DEBUG-status-0: 200
2024-06-28 16:45:24,327-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 16:45:24,327-DEBUG-part-0 created
2024-06-28 16:45:24,328-DEBUG-Saved to ./temp/response.mp3
2024-06-28 16:45:41,145-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 16:45:41,146-INFO-promptCreate.__init__ > Generating the GPT prompt.
2024-06-28 16:45:41,146-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 16:45:41,146-DEBUG-promptCreate.update_info > {'info': 'My name is Donald John Trump, but people call me Donnie.', 'family': 'This is information about my friends and family:', 'background': ''}
2024-06-28 16:45:41,146-DEBUG-promptCreate.update_single_person > {'bday': '1942-11-20T05:00:00.000Z', 'deceased': False, 'fname': 'Joseph', 'interests': 'Cars, Scranton, Burgers', 'lname': 'Biden', 'location': {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}, 'nname': 'Joe', 'relationship': 'Friend'}
2024-06-28 16:45:41,147-DEBUG-promptCreate.update_single_person > {'bday': '1970-04-26T05:00:00.000Z', 'deceased': False, 'fname': 'Melenia', 'interests': 'Modeling, Scowling', 'lname': 'Trump', 'location': {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}, 'relationship': 'Wife'}
2024-06-28 16:45:41,147-DEBUG-promptCreate.update_single_person > {'bday': '1977-12-31T05:00:00.000Z', 'deceased': False, 'fname': 'Donald', 'interests': 'Fraud, Knitting, Running', 'lname': 'Trump Jr', 'location': {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}, 'nname': 'Skidmark', 'relationship': 'Son'}
2024-06-28 16:45:41,147-DEBUG-promptCreate.build_message > [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Who is the best player in Mets history?'}, {'role': 'assistant', 'content': 'One of the best players in Mets history is considered to be Tom Seaver, known as "The Franchise."'}, {'role': 'user', 'content': 'Do you know where my wife is?'}, {'role': 'assistant', 'content': 'Your wife, Melania Trump, lives in New York, NY, USA.'}, {'role': 'user', 'content': 'What should I get Melania for her birthday?'}, {'role': 'assistant', 'content': 'How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?'}, {'role': 'user', 'content': 'What should I think about doing today?'}, {'role': 'assistant', 'content': 'Today, you could consider spending time with your family or maybe going for a walk outside, Donnie.'}, {'role': 'user', 'content': 'How are you today?'}, {'role': 'assistant', 'content': "I'm here to assist you, Donnie. Is there anything specific you'd like help with today?"}, {'role': 'user', 'content': 'What should I do with my son Skidmark?'}]
2024-06-28 16:45:41,147-INFO-openAIGPT.run_Query > Contacting OpenAI with query: What should I do with my son Skidmark?
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "system", "content": "You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "Who is the best player in Mets history?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "One of the best players in Mets history is considered to be Tom Seaver, known as \"The Franchise.\""}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "Do you know where my wife is?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Your wife, Melania Trump, lives in New York, NY, USA."}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What should I get Melania for her birthday?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What should I think about doing today?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Today, you could consider spending time with your family or maybe going for a walk outside, Donnie."}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "How are you today?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "I'm here to assist you, Donnie. Is there anything specific you'd like help with today?"}
2024-06-28 16:45:41,147-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What should I do with my son Skidmark?"}
2024-06-28 16:45:41,148-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 16:45:41,149-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 16:45:41,190-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Who is the best player in Mets history?'}, {'role': 'assistant', 'content': 'One of the best players in Mets history is considered to be Tom Seaver, known as "The Franchise."'}, {'role': 'user', 'content': 'Do you know where my wife is?'}, {'role': 'assistant', 'content': 'Your wife, Melania Trump, lives in New York, NY, USA.'}, {'role': 'user', 'content': 'What should I get Melania for her birthday?'}, {'role': 'assistant', 'content': 'How about something related to her interests like modeling or maybe a special outing in New York City, Donnie?'}, {'role': 'user', 'content': 'What should I think about doing today?'}, {'role': 'assistant', 'content': 'Today, you could consider spending time with your family or maybe going for a walk outside, Donnie.'}, {'role': 'user', 'content': 'How are you today?'}, {'role': 'assistant', 'content': "I'm here to assist you, Donnie. Is there anything specific you'd like help with today?"}, {'role': 'user', 'content': 'What should I do with my son Skidmark?'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 16:45:41,190-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 16:45:41,190-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 16:45:41,217-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115511730>
2024-06-28 16:45:41,217-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x1150abb50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 16:45:41,234-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x115511640>
2024-06-28 16:45:41,234-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 16:45:41,234-DEBUG-send_request_headers.complete
2024-06-28 16:45:41,234-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 16:45:41,234-DEBUG-send_request_body.complete
2024-06-28 16:45:41,234-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 16:45:41,958-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 20:45:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'602'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'59450'), (b'x-ratelimit-reset-requests', b'19.707s'), (b'x-ratelimit-reset-tokens', b'550ms'), (b'x-request-id', b'req_78f966454186377d48a34c852edc71a0'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=mG_twpeFRCxjV3fEV1LXrQRHx5Fjp6.7NIbz8xdQR7s-1719607541-1.0.1.1-wZepHNO2dH2iGqqxK3tsRhwlnVwrxlIwFnqZu9NVTNmJTeIJsao1Sr0z8y..oGSixoMRnFJaz7zwnNLPtzn5oA; path=/; expires=Fri, 28-Jun-24 21:15:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=cm6PKOw7gZGMvBVFOj2kNYQahulRyCiuxKbrwLaZfC4-1719607541960-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b0859cd9bb05b9-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 16:45:41,959-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 16:45:41,960-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 16:45:41,960-DEBUG-receive_response_body.complete
2024-06-28 16:45:41,961-DEBUG-response_closed.started
2024-06-28 16:45:41,961-DEBUG-response_closed.complete
2024-06-28 16:45:41,961-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 20:45:41 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '602'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9997'), ('x-ratelimit-remaining-tokens', '59450'), ('x-ratelimit-reset-requests', '19.707s'), ('x-ratelimit-reset-tokens', '550ms'), ('x-request-id', 'req_78f966454186377d48a34c852edc71a0'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=mG_twpeFRCxjV3fEV1LXrQRHx5Fjp6.7NIbz8xdQR7s-1719607541-1.0.1.1-wZepHNO2dH2iGqqxK3tsRhwlnVwrxlIwFnqZu9NVTNmJTeIJsao1Sr0z8y..oGSixoMRnFJaz7zwnNLPtzn5oA; path=/; expires=Fri, 28-Jun-24 21:15:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=cm6PKOw7gZGMvBVFOj2kNYQahulRyCiuxKbrwLaZfC4-1719607541960-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b0859cd9bb05b9-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 16:45:41,961-DEBUG-request_id: req_78f966454186377d48a34c852edc71a0
2024-06-28 16:45:41,962-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fClRhllXnm7cjFAy86i3oEhQGMhn', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='You could plan a fun activity with your son, Donald Trump Jr, like going for a run or maybe trying out a new knitting project together, Donnie.', role='assistant', function_call=None, tool_calls=None))], created=1719607541, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=32, prompt_tokens=565, total_tokens=597))
2024-06-28 16:45:41,962-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:41,962-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:41,962-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 16:45:41,962-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 16:44:01.512000
2024-06-28 16:45:41,962-DEBUG-chatHistory.rev_conversations > Difference in time: 100.450896
2024-06-28 16:45:41,963-DEBUG-chatHistory.save_history > Saving exchange: What should I do with my son Skidmark?
2024-06-28 16:45:41,966-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 16:45:42,186-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 16:45:42,186-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719607542131x997274085464017400
2024-06-28 16:45:42,186-DEBUG-text: You could plan a fun activity with your son, Donald Trump Jr, like going for a run or maybe trying out a new knitting project together, Donnie.
2024-06-28 16:45:42,186-DEBUG-tld: co.uk
2024-06-28 16:45:42,186-DEBUG-lang: en
2024-06-28 16:45:42,186-DEBUG-slow: False
2024-06-28 16:45:42,186-DEBUG-lang_check: True
2024-06-28 16:45:42,187-DEBUG-pre_processor_funcs: [<function tone_marks at 0x110880b80>, <function end_of_line at 0x110881620>, <function abbreviations at 0x110881ee0>, <function word_sub at 0x110881f80>]
2024-06-28 16:45:42,187-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=).|(?<=).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):||\\]|\\)|||\\(|||\\[||||||;|\\\n', re.IGNORECASE) from: [<function tone_marks at 0x1108820c0>, <function period_comma at 0x110882160>, <function colon at 0x110882200>, <function other_punctuation at 0x1108822a0>]>
2024-06-28 16:45:42,187-DEBUG-timeout: None
2024-06-28 16:45:42,187-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 16:45:42,189-DEBUG-pre-processing: <function tone_marks at 0x110880b80>
2024-06-28 16:45:42,189-DEBUG-pre-processing: <function end_of_line at 0x110881620>
2024-06-28 16:45:42,189-DEBUG-pre-processing: <function abbreviations at 0x110881ee0>
2024-06-28 16:45:42,189-DEBUG-pre-processing: <function word_sub at 0x110881f80>
2024-06-28 16:45:42,189-DEBUG-tokenizing: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=).|(?<=).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):||\\]|\\)|||\\(|||\\[||||||;|\\\n', re.IGNORECASE) from: [<function tone_marks at 0x1108820c0>, <function period_comma at 0x110882160>, <function colon at 0x110882200>, <function other_punctuation at 0x1108822a0>]>
2024-06-28 16:45:42,189-DEBUG-text_parts: ['You could plan a fun activity with your son', 'Donald Trump Jr', 'like going for a run or maybe trying out a new knitting project together', 'Donnie.']
2024-06-28 16:45:42,189-DEBUG-text_parts: 4
2024-06-28 16:45:42,189-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20could%20plan%20a%20fun%20activity%20with%20your%20son%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 16:45:42,190-DEBUG-data-1: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Donald%20Trump%20Jr%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 16:45:42,190-DEBUG-data-2: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22like%20going%20for%20a%20run%20or%20maybe%20trying%20out%20a%20new%20knitting%20project%20together%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 16:45:42,190-DEBUG-data-3: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Donnie.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 16:45:42,191-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 16:45:42,365-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 16:45:42,377-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '189'}
2024-06-28 16:45:42,377-DEBUG-url-0: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 16:45:42,377-DEBUG-status-0: 200
2024-06-28 16:45:42,380-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 16:45:42,380-DEBUG-part-0 created
2024-06-28 16:45:42,381-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 16:45:42,582-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 16:45:42,591-DEBUG-headers-1: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '149'}
2024-06-28 16:45:42,591-DEBUG-url-1: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 16:45:42,591-DEBUG-status-1: 200
2024-06-28 16:45:42,592-DEBUG-part-1 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 16:45:42,592-DEBUG-part-1 created
2024-06-28 16:45:42,593-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 16:45:42,818-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 16:45:42,840-DEBUG-headers-2: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '228'}
2024-06-28 16:45:42,841-DEBUG-url-2: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 16:45:42,841-DEBUG-status-2: 200
2024-06-28 16:45:42,845-DEBUG-part-2 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 16:45:42,845-DEBUG-part-2 created
2024-06-28 16:45:42,846-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 16:45:43,016-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 16:45:43,018-DEBUG-headers-3: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '137'}
2024-06-28 16:45:43,019-DEBUG-url-3: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 16:45:43,019-DEBUG-status-3: 200
2024-06-28 16:45:43,019-DEBUG-part-3 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 16:45:43,019-DEBUG-part-3 created
2024-06-28 16:45:43,020-DEBUG-Saved to ./temp/response.mp3
