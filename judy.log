2024-07-04 22:54:36,141-INFO-__main__ > Initializing the program.
2024-07-04 22:54:38,749-INFO-judyMVP.__init__ > Initializing the program.
2024-07-04 22:54:38,749-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-07-04 22:54:38,806-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:39,212-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 401 None
2024-07-04 22:54:39,215-INFO-bubbleAPI.get_settings > response: {'error_class': 'Unauthorized', 'args': {'code': '1720148079091x173374651602706600'}, 'message': Non
2024-07-04 22:54:39,218-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:39,495-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/wf/gen_api_token?email=colin@judydevice.com&pw=4Nk!%3EpG7 HTTP/1.1" 200 None
2024-07-04 22:54:39,496-INFO-bubbleAPI.get_token > Getting new API key using credentials for colin@judydevice.com
2024-07-04 22:54:39,500-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:39,700-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-07-04 22:54:39,702-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-07-04T19:33:16.374Z', 'Created Date': '2024-07-04T16:37:39.082Z', 'Created By': '1719433427015x760125662067258500', 'accent': 'Australian', 'photo_delay': 3, 'trigger': 'Judy', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111058482x902662854976995300'}], 'count': 1, 'remaining': 0}}
2024-07-04 22:54:39,702-ERROR-patientSettings.pull_settings > Unable to load any watchers.
2024-07-04 22:54:39,702-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 3, 'accent': 'Australian', 'trigger': 'Judy'}
2024-07-04 22:54:39,702-INFO-chatHistory.__init__ > Loading the chat history
2024-07-04 22:54:39,702-INFO-chatHistory.load_all_conversations > Starting to load all of the conversations.
2024-07-04 22:54:39,702-INFO-bubbleAPI.get_exch_conv > Getting, conversation, records from Bubble.
2024-07-04 22:54:39,706-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:39,896-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/conversation?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:54:39,898-INFO-bubbleAPI.get_records > [{'Created Date': '2024-07-04T19:19:31.646Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:24:42.777Z', 'summary': "The patient is seeking gift ideas for their wife's upcoming birthday and for a 50th birthday, showing consideration and thoughtfulness in their gift-giving approach.", 'date': '2024-07-04T15:16:03.233Z', 'sentiment': 4, 'keywords': "gift ideas,wife's birthday,50th birthday", 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720120771646x951002185613836200'}, {'Created Date': '2024-07-04T19:28:13.799Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:36:16.184Z', 'summary': 'The patient expressed a desire to watch 4th of July fireworks in Washington, DC, but is unable to attend, and the assistant suggested alternative ways to celebrate.', 'date': '2024-07-04T15:23:36.151Z', 'sentiment': 3, 'keywords': '4th of July,Washington DC,National Mall,fireworks,celebration', 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720121293799x914728173000089000'}, {'Created Date': '2024-07-04T20:07:03.549Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-05T00:08:48.224Z', 'summary': "The patient requested assistance with a 'quir program' but did not provide further context or clarification.", 'date': '2024-07-04T15:36:13.592Z', 'sentiment': 3, 'keywords': 'quir program', 'caretaker': '1719433427015x760125662067258500', 'patient': '1720111058938x567839568571831800', 'watcher': [], '_id': '1720123623549x587893450537901840'}]
2024-07-04 22:54:39,898-INFO-bubbleAPI.get_records > Total conversation records pulled: 3
2024-07-04 22:54:39,898-INFO-chatHistory.load_all_conversations > [{'Created Date': '2024-07-04T19:19:31.646Z', 'Cre
2024-07-04 22:54:39,902-INFO-chatHistory.load_all_conversations > Total conversations loaded: 3
2024-07-04 22:54:39,903-INFO-chatHistory.load_all_exchangess > Pulling list of exchanges from Bubble API.
2024-07-04 22:54:39,903-INFO-bubbleAPI.get_exch_conv > Getting, chatexchange, records from Bubble.
2024-07-04 22:54:39,906-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:40,271-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/chatexchange?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:54:40,273-INFO-bubbleAPI.get_records > [{'Created Date': '2024-07-04T19:16:04.136Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:33.264Z', 'date': '2024-07-04T15:16:03.233Z', 'query': 'Do you know where there are some good Italian restaurants near me?', 'response': "I'm sorry, Colin. I don't have your current location information to suggest Italian restaurants nearby. Would you like me to help you find some based on a specific location?", 'summary': 'The patient, Colin, asked the assistant about good Italian restaurants near him and requested help finding some based on a specific location.', 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120564136x271686411888959040'}, {'Created Date': '2024-07-04T19:16:24.305Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:33.556Z', 'date': '2024-07-04T15:16:23.426Z', 'query': 'Do you know where my family is?', 'response': 'Your family members, Luciane, Adelaide, Bruce, Elizabeth, and Llilian, all live in Annandale, VA, USA.', 'summary': 'The patient seems concerned about the whereabouts of their family members Luciane, Adelaide, Bruce, Elizabeth, and Llilian, who live in Annandale, VA, USA, and the assistant provided information about their location.', 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120584305x201853802422198530'}, {'Created Date': '2024-07-04T19:16:55.266Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:33.808Z', 'date': '2024-07-04T15:16:54.201Z', 'query': "What should I get my wife for her birthday? Isn't it soon?", 'response': "Yes, Colin, your wife Luciane's birthday is on May 21st. You could consider getting her something related to her interests like camping, gardening, or volleyball. Would you like help with gift ideas?", 'summary': "The patient, Colin, is seeking gift ideas for his wife Luciane's upcoming birthday and appears to be in a thoughtful and considerate mood.", 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120615266x246206982884124900'}, {'Created Date': '2024-07-04T19:17:15.487Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:34.056Z', 'date': '2024-07-04T15:17:14.296Z', 'query': 'Yes please.', 'response': "How about a new gardening tool set, a camping gear upgrade, or maybe tickets to a volleyball game? These could be thoughtful gifts based on Luciane's hobbies.", 'summary': 'The patient is interested in receiving gift suggestions related to hobbies like gardening, camping, and volleyball, and the assistant has recommended a gardening tool set, camping gear upgrade, or volleyball game tickets as potential gifts.', 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120635487x448895144730829100'}, {'Created Date': '2024-07-04T19:17:38.678Z', 'Created By': '1720111058938x567839568571831800', 'Modified Date': '2024-07-04T19:19:34.319Z', 'date': '2024-07-04T15:17:37.337Z', 'query': 'What is the best thing to give someone for their 50th birthday?', 'response': "For a 50th birthday, thoughtful gifts could include personalized items, experiences like a spa day or a weekend getaway, or something related to their hobbies or interests. Is there a specific person you're thinking of getting a gift for?", 'summary': "The patient is seeking gift ideas for someone's 50th birthday and the assistant suggests personalized items, experiences, or hobby-related gifts.", 'conversation': '1720120771646x951002185613836200', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1720120658678x448359273476094400'}]
2024-07-04 22:54:40,273-INFO-bubbleAPI.get_records > Total chatexchange records pulled: 11
2024-07-04 22:54:40,273-INFO-chatHistory.load_all_exchanges > Loaded 11 exchanges from Bubble.
2024-07-04 22:54:40,273-INFO-chatHistory.load_all_exchanges > Added ID 1720120564136x271686411888959040 to exchanges: {'query': 'Do you know where there are some good I
2024-07-04 22:54:40,273-INFO-chatHistory.load_all_exchanges > Added ID 1720120584305x201853802422198530 to exchanges: {'query': 'Do you know where my family is?', 'resp
2024-07-04 22:54:40,273-INFO-chatHistory.load_all_exchanges > Added ID 1720120615266x246206982884124900 to exchanges: {'query': "What should I get my wife for her birth
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720120635487x448895144730829100 to exchanges: {'query': 'Yes please.', 'response': "How about a 
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720120658678x448359273476094400 to exchanges: {'query': 'What is the best thing to give someone 
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720121018525x593413394017978200 to exchanges: {'query': 'Where are the best places to watch 4th 
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720121050399x331232550955648200 to exchanges: {'query': 'Yes. Can you tell me about the national
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720121082395x570314878513968260 to exchanges: {'query': "I wish I could go there but I'm stuck h
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720121775932x383233671535407700 to exchanges: {'query': 'quir program', 'response': 'I\'m sorry,
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720138071002x268031761567931070 to exchanges: {'query': 'where are my family', 'response': 'Your
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Added ID 1720138127763x201956807277150270 to exchanges: {'query': 'what should I do with Luciani today wha
2024-07-04 22:54:40,274-INFO-chatHistory.load_all_exchanges > Total exchanges loaded: 11
2024-07-04 22:54:40,275-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720120564136x271686411888959040
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720120584305x201853802422198530
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720120615266x246206982884124900
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720120635487x448895144730829100
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720120658678x448359273476094400
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720121018525x593413394017978200
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720121050399x331232550955648200
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720121082395x570314878513968260
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720121775932x383233671535407700
2024-07-04 22:54:40,275-DEBUG-chatHistory.check_summary > Checking summary on 1720138071002x268031761567931070
2024-07-04 22:54:40,277-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-04 22:54:40,278-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-04 22:54:40,318-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'where are my family'}, {'role': 'assistant', 'content': 'Your family, including Luciane, Adelaide, Bruce, Elizabeth, and Llilian, live in Annandale, VA, USA. They are all together with you.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary and keywords. \n\n                    The summary field should have a summary of our above conversation one sentence. Be sure to call out both \n                    what you think my mood is as well as identifying any people or places that I have asked about. Refer \n                    to me in the summary as the patient and yourself as the assistant.\n\n                    The keywords field should be a comma-delimited list of any places, people, or events that are referenced\n                    in our conversation.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-04 22:54:40,344-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-04 22:54:40,344-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-04 22:54:40,368-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1119607d0>
2024-07-04 22:54:40,368-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x111887050> server_hostname='api.openai.com' timeout=5.0
2024-07-04 22:54:40,382-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1111c5c10>
2024-07-04 22:54:40,383-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-04 22:54:40,383-DEBUG-send_request_headers.complete
2024-07-04 22:54:40,383-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-04 22:54:40,383-DEBUG-send_request_body.complete
2024-07-04 22:54:40,383-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-04 22:54:41,368-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 05 Jul 2024 02:54:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'786'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59799'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'201ms'), (b'x-request-id', b'req_827cfd2f78d352847e4c807d61054e18'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=u1xEGY.tWsdWkgYOklI0j29JDff7iUTu5FVBwRFma30-1720148081-1.0.1.1-XugXzUTRSbaJUutK8_.rQ7n9h35CvoLDj2TXG9EettcHYqMHO5gdZYVadqs8jian9dTnpCtnPZB94XpR7feGlw; path=/; expires=Fri, 05-Jul-24 03:24:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=UWBrNBWIQkjYWWoYpw.KLkCpodYW2zAKalDl6O65tCA-1720148081363-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89e4125e7fe657ac-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-04 22:54:41,371-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-04 22:54:41,371-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-04 22:54:41,372-DEBUG-receive_response_body.complete
2024-07-04 22:54:41,372-DEBUG-response_closed.started
2024-07-04 22:54:41,372-DEBUG-response_closed.complete
2024-07-04 22:54:41,372-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 05 Jul 2024 02:54:41 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '786'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59799'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '201ms'), ('x-request-id', 'req_827cfd2f78d352847e4c807d61054e18'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=u1xEGY.tWsdWkgYOklI0j29JDff7iUTu5FVBwRFma30-1720148081-1.0.1.1-XugXzUTRSbaJUutK8_.rQ7n9h35CvoLDj2TXG9EettcHYqMHO5gdZYVadqs8jian9dTnpCtnPZB94XpR7feGlw; path=/; expires=Fri, 05-Jul-24 03:24:41 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=UWBrNBWIQkjYWWoYpw.KLkCpodYW2zAKalDl6O65tCA-1720148081363-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89e4125e7fe657ac-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-04 22:54:41,373-DEBUG-request_id: req_827cfd2f78d352847e4c807d61054e18
2024-07-04 22:54:41,380-INFO-chatHistory.check_summary > Adding summary to ID 1720138071002x268031761567931070 fill out as it is empty: The patient inquires about the whereabouts of their family members and confirms they are all together in Annandale, VA, USA, showing concern and care for their loved ones.
2024-07-04 22:54:41,380-DEBUG-chatHistory.check_summary > Checking summary on 1720138127763x201956807277150270
2024-07-04 22:54:41,381-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-04 22:54:41,382-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-04 22:54:41,409-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'what should I do with Luciani today what should I do with Luciana today'}, {'role': 'assistant', 'content': 'You could spend quality time with Luciane by going for a walk, having a picnic, or watching a movie together. Maybe you can also engage in her hobbies like camping, gardening, or playing volleyball.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary and keywords. \n\n                    The summary field should have a summary of our above conversation one sentence. Be sure to call out both \n                    what you think my mood is as well as identifying any people or places that I have asked about. Refer \n                    to me in the summary as the patient and yourself as the assistant.\n\n                    The keywords field should be a comma-delimited list of any places, people, or events that are referenced\n                    in our conversation.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-04 22:54:41,410-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-04 22:54:41,410-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-04 22:54:41,419-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111b043e0>
2024-07-04 22:54:41,419-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x1118863d0> server_hostname='api.openai.com' timeout=5.0
2024-07-04 22:54:41,436-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111939a30>
2024-07-04 22:54:41,436-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-04 22:54:41,436-DEBUG-send_request_headers.complete
2024-07-04 22:54:41,436-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-04 22:54:41,436-DEBUG-send_request_body.complete
2024-07-04 22:54:41,436-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-04 22:54:42,606-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 05 Jul 2024 02:54:42 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'1058'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'59769'), (b'x-ratelimit-reset-requests', b'16.223s'), (b'x-ratelimit-reset-tokens', b'231ms'), (b'x-request-id', b'req_56365ecf73f73cb9b837fdbbd3bdb6fa'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=f4KnFn.LQWzQmhap6A8unPmeNoCO0SFTjGbbr_EAyJQ-1720148082-1.0.1.1-bhzm6O81KYhOWgbxTtGYvPMEJCpAaAUKT8NSVcHKT2h0FHXZ6.zv_fde5RfM048TQ4FxSmka_J_J0DKnPjvQEQ; path=/; expires=Fri, 05-Jul-24 03:24:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=Kl7nCsglp0xIE.UmNb1r.a.U2HwqlWs.jtvZ_SZYBbI-1720148082603-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89e412650f962d06-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-04 22:54:42,608-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-04 22:54:42,608-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-04 22:54:42,609-DEBUG-receive_response_body.complete
2024-07-04 22:54:42,609-DEBUG-response_closed.started
2024-07-04 22:54:42,609-DEBUG-response_closed.complete
2024-07-04 22:54:42,610-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 05 Jul 2024 02:54:42 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '1058'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '59769'), ('x-ratelimit-reset-requests', '16.223s'), ('x-ratelimit-reset-tokens', '231ms'), ('x-request-id', 'req_56365ecf73f73cb9b837fdbbd3bdb6fa'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=f4KnFn.LQWzQmhap6A8unPmeNoCO0SFTjGbbr_EAyJQ-1720148082-1.0.1.1-bhzm6O81KYhOWgbxTtGYvPMEJCpAaAUKT8NSVcHKT2h0FHXZ6.zv_fde5RfM048TQ4FxSmka_J_J0DKnPjvQEQ; path=/; expires=Fri, 05-Jul-24 03:24:42 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=Kl7nCsglp0xIE.UmNb1r.a.U2HwqlWs.jtvZ_SZYBbI-1720148082603-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89e412650f962d06-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-04 22:54:42,610-DEBUG-request_id: req_56365ecf73f73cb9b837fdbbd3bdb6fa
2024-07-04 22:54:42,611-INFO-chatHistory.check_summary > Adding summary to ID 1720138127763x201956807277150270 fill out as it is empty: The patient is seeking suggestions on how to spend quality time with Luciani today, and the assistant recommends activities like going for a walk, having a picnic, or watching a movie together.
2024-07-04 22:54:42,611-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 11
2024-07-04 22:54:42,611-INFO-chatHistory.check_mappings > In the check_mappings function
2024-07-04 22:54:42,611-INFO-Sorting through these exchanges: 11
2024-07-04 22:54:42,615-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:42,824-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/conversation HTTP/1.1" 201 None
2024-07-04 22:54:42,826-INFO-New conversation created, ID: 1720148082758x320453311437771900
2024-07-04 22:54:42,826-INFO-Creating initial conversation and mapping conv: None to: 1720138071002x268031761567931070
2024-07-04 22:54:42,826-INFO-Total exchanges after checking mapping: 11
2024-07-04 22:54:42,826-INFO-Total conversations after checking mapping: 4
2024-07-04 22:54:42,826-INFO-Conversation to be updated for (summary, keywords, sentiment): 1720148082758x320453311437771900
2024-07-04 22:54:42,827-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-04 22:54:42,828-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-04 22:54:42,868-DEBUG-close.started
2024-07-04 22:54:42,868-DEBUG-close.complete
2024-07-04 22:54:42,868-DEBUG-close.started
2024-07-04 22:54:42,869-DEBUG-close.complete
2024-07-04 22:54:42,871-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': 'where are my family'}, {'role': 'system', 'content': 'Your family, including Luciane, Adelaide, Bruce, Elizabeth, and Llilian, live in Annandale, VA, USA. They are all together with you.'}, {'role': 'user', 'content': 'what should I do with Luciani today what should I do with Luciana today'}, {'role': 'system', 'content': 'You could spend quality time with Luciane by going for a walk, having a picnic, or watching a movie together. Maybe you can also engage in her hobbies like camping, gardening, or playing volleyball.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than five.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-04 22:54:42,871-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-04 22:54:42,872-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-04 22:54:42,883-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1111dd970>
2024-07-04 22:54:42,883-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11194d5d0> server_hostname='api.openai.com' timeout=5.0
2024-07-04 22:54:42,904-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072bbaa0>
2024-07-04 22:54:42,905-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-04 22:54:42,905-DEBUG-send_request_headers.complete
2024-07-04 22:54:42,905-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-04 22:54:42,905-DEBUG-send_request_body.complete
2024-07-04 22:54:42,905-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-04 22:54:43,626-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 05 Jul 2024 02:54:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'612'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'59612'), (b'x-ratelimit-reset-requests', b'23.394s'), (b'x-ratelimit-reset-tokens', b'388ms'), (b'x-request-id', b'req_3b5bde000cd6d7a773163700eab96f6a'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NLz1MkLl0boagDrGNpgD0JLnuUvQRICmk8oK2NWrs8I-1720148083-1.0.1.1-Klg6xo9uPdHd1qr0HcY55mVOF9e4tYCUzjxlL1QNITmtVqEc1Ui_E_jvlygPiia25ebdYgyT4p1no9A2RcT6QQ; path=/; expires=Fri, 05-Jul-24 03:24:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=Jlp8Cv28_kRogZjSkpVucplIwHsKfB73Gi5hE3uDrjw-1720148083623-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89e4126e3bd21fd4-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-04 22:54:43,628-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-04 22:54:43,628-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-04 22:54:43,629-DEBUG-receive_response_body.complete
2024-07-04 22:54:43,629-DEBUG-response_closed.started
2024-07-04 22:54:43,629-DEBUG-response_closed.complete
2024-07-04 22:54:43,630-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 05 Jul 2024 02:54:43 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '612'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9997'), ('x-ratelimit-remaining-tokens', '59612'), ('x-ratelimit-reset-requests', '23.394s'), ('x-ratelimit-reset-tokens', '388ms'), ('x-request-id', 'req_3b5bde000cd6d7a773163700eab96f6a'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=NLz1MkLl0boagDrGNpgD0JLnuUvQRICmk8oK2NWrs8I-1720148083-1.0.1.1-Klg6xo9uPdHd1qr0HcY55mVOF9e4tYCUzjxlL1QNITmtVqEc1Ui_E_jvlygPiia25ebdYgyT4p1no9A2RcT6QQ; path=/; expires=Fri, 05-Jul-24 03:24:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=Jlp8Cv28_kRogZjSkpVucplIwHsKfB73Gi5hE3uDrjw-1720148083623-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89e4126e3bd21fd4-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-04 22:54:43,630-DEBUG-request_id: req_3b5bde000cd6d7a773163700eab96f6a
2024-07-04 22:54:43,631-INFO-Checked conversations and identified those to be updated.
2024-07-04 22:54:43,631-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-04 22:54:43,631-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-04 22:54:43,631-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-07-04 20:08:45.690000
2024-07-04 22:54:43,631-DEBUG-chatHistory.rev_conversations > Difference in time: 9957.941671
2024-07-04 22:54:43,631-INFO-chatHistory.rev_conversations > Cleaning conversation: 1720148082758x320453311437771900
2024-07-04 22:54:43,632-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-04 22:54:43,634-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-04 22:54:43,673-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': 'where are my family'}, {'role': 'system', 'content': 'Your family, including Luciane, Adelaide, Bruce, Elizabeth, and Llilian, live in Annandale, VA, USA. They are all together with you.'}, {'role': 'user', 'content': 'what should I do with Luciani today what should I do with Luciana today'}, {'role': 'system', 'content': 'You could spend quality time with Luciane by going for a walk, having a picnic, or watching a movie together. Maybe you can also engage in her hobbies like camping, gardening, or playing volleyball.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than five.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-04 22:54:43,674-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-04 22:54:43,674-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-04 22:54:43,684-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111b1c5f0>
2024-07-04 22:54:43,684-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x111887050> server_hostname='api.openai.com' timeout=5.0
2024-07-04 22:54:43,701-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111b040e0>
2024-07-04 22:54:43,701-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-04 22:54:43,701-DEBUG-send_request_headers.complete
2024-07-04 22:54:43,701-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-04 22:54:43,701-DEBUG-send_request_body.complete
2024-07-04 22:54:43,701-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-04 22:54:44,673-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 05 Jul 2024 02:54:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'841'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'59612'), (b'x-ratelimit-reset-requests', b'31.232s'), (b'x-ratelimit-reset-tokens', b'388ms'), (b'x-request-id', b'req_6e8d8bfba7ff01c8b3abe48619454a57'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=619Q0Pyaesq7A0.heL18mfNVQ3rgOAGaQNOEb2O8d.4-1720148084-1.0.1.1-zfQ0bKdc.nhhKT2gOQKnKKSAN4gOjRTz6zLIUts5D1t1hOcVuTeIko55DK5IEDuZhaqfwP0UWt9a9pM2z7NU_A; path=/; expires=Fri, 05-Jul-24 03:24:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=RY9r2FvEkDgRYc0.qMrBHOUlp..2.u5aRZoZelB7MAU-1720148084669-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89e412733a4505fc-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-04 22:54:44,675-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-04 22:54:44,675-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-04 22:54:44,675-DEBUG-receive_response_body.complete
2024-07-04 22:54:44,676-DEBUG-response_closed.started
2024-07-04 22:54:44,676-DEBUG-response_closed.complete
2024-07-04 22:54:44,676-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 05 Jul 2024 02:54:44 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '841'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9996'), ('x-ratelimit-remaining-tokens', '59612'), ('x-ratelimit-reset-requests', '31.232s'), ('x-ratelimit-reset-tokens', '388ms'), ('x-request-id', 'req_6e8d8bfba7ff01c8b3abe48619454a57'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=619Q0Pyaesq7A0.heL18mfNVQ3rgOAGaQNOEb2O8d.4-1720148084-1.0.1.1-zfQ0bKdc.nhhKT2gOQKnKKSAN4gOjRTz6zLIUts5D1t1hOcVuTeIko55DK5IEDuZhaqfwP0UWt9a9pM2z7NU_A; path=/; expires=Fri, 05-Jul-24 03:24:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=RY9r2FvEkDgRYc0.qMrBHOUlp..2.u5aRZoZelB7MAU-1720148084669-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89e412733a4505fc-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-04 22:54:44,676-DEBUG-request_id: req_6e8d8bfba7ff01c8b3abe48619454a57
2024-07-04 22:54:44,677-DEBUG-chatHistory.save_history > Saving exchange: where are my family
2024-07-04 22:54:44,677-INFO-bubbleAPI.update_exch_rcds > Updating exchange (ID: 1720138071002x268031761567931070) to Bubble.
2024-07-04 22:54:44,680-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:44,981-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_exchange HTTP/1.1" 200 None
2024-07-04 22:54:44,983-DEBUG-chatHistory.save_history > Saving exchange: what should I do with Luciani today what should I do with Luciana today
2024-07-04 22:54:44,983-INFO-bubbleAPI.update_exch_rcds > Updating exchange (ID: 1720138127763x201956807277150270) to Bubble.
2024-07-04 22:54:44,986-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:45,222-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_exchange HTTP/1.1" 200 None
2024-07-04 22:54:45,223-DEBUG-chatHistory.save_history > Saving conversation: 1720148082758x320453311437771900
2024-07-04 22:54:45,223-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1720148082758x320453311437771900) to Bubble.
2024-07-04 22:54:45,227-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:45,456-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-07-04 22:54:45,457-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-07-04 22:54:45,457-DEBUG-patientInfo.__init__ > Getting patient information.
2024-07-04 22:54:45,457-INFO-bubbleAPI.get_exch_conv > Getting, user, records from Bubble.
2024-07-04 22:54:45,461-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:45,679-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/user?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:54:45,681-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T20:06:35.999Z', 'Created Date': '2024-07-04T16:37:38.938Z', 'first_name': 'Colin', 'last_name': 'Raymond', 'user_signed_up': True, 'authentication': {'email': {'email': 'colin@judydevice.com', 'email_confirmed': None}}, 'middle_name': 'Kile', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'bday': '1979-08-06T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Annandale, VA', '_id': '1720111058938x567839568571831800'}]
2024-07-04 22:54:45,681-INFO-bubbleAPI.get_records > Total user records pulled: 1
2024-07-04 22:54:45,681-DEBUG-patientInfo.import_data > {'Modified Date': '2024-07-04T20:06:35.999Z', 'Created Date': '2024-07-04T16:37:38.938Z', 'first_name': 'Colin', 'last_name': 'Raymond', 'user_signed_up': True, 'authentication': {'email': {'email': 'colin@judydevice.com', 'email_confirmed': None}}, 'middle_name': 'Kile', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'bday': '1979-08-06T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Annandale, VA', '_id': '1720111058938x567839568571831800'}
2024-07-04 22:54:45,681-INFO-bubbleAPI.get_exch_conv > Getting, interest, records from Bubble.
2024-07-04 22:54:45,684-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:45,878-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/interest?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:54:45,880-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T16:42:04.414Z', 'Created Date': '2024-07-04T16:42:04.414Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'United States Military Academy', 'patient': '1720111058938x567839568571831800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111324098x329160056985092100'}, {'Modified Date': '2024-07-04T16:42:12.546Z', 'Created Date': '2024-07-04T16:42:12.545Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Carnegie Mellon University', 'patient': '1720111058938x567839568571831800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111332403x851076958578802700'}, {'Modified Date': '2024-07-04T16:42:21.076Z', 'Created Date': '2024-07-04T16:42:21.075Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Upper Saint Clair High School', 'patient': '1720111058938x567839568571831800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111340932x971953488665509900'}, {'Modified Date': '2024-07-04T16:42:33.503Z', 'Created Date': '2024-07-04T16:42:33.503Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Steelers', 'patient': '1720111058938x567839568571831800', 'type': 'sport', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111353206x612392321700855800'}, {'Modified Date': '2024-07-04T16:42:37.345Z', 'Created Date': '2024-07-04T16:42:37.345Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Soccer', 'patient': '1720111058938x567839568571831800', 'type': 'sport', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111357204x221548795553382400'}]
2024-07-04 22:54:45,880-INFO-bubbleAPI.get_records > Total interest records pulled: 17
2024-07-04 22:54:45,880-DEBUG-patientBG.__init__ > {'school': ['United States Military Academy', 'Carnegie Mellon University', 'Upper Saint Clair High School'], 'sport': ['Steelers', 'Soccer'], 'food': ['Carpaccio', "Tour d'Argent", 'Italian Food', 'Candy', 'Buffalo Wings'], 'place': ['Pittsburgh', 'Lisbon'], 'hobby': ['Computer Programming', 'Travel', 'Reading', 'Science Fiction', 'Fantasy'], 'other': []}
2024-07-04 22:54:45,880-INFO-bubbleAPI.get_exch_conv > Getting, friends, records from Bubble.
2024-07-04 22:54:45,884-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:46,089-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/friends?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:54:46,095-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T16:38:45.666Z', 'Created Date': '2024-07-04T16:38:45.548Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1979-05-21T04:00:00.000Z', 'deceased': False, 'first_name': 'Luciane', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Lucy', 'relationship': 'Wife', 'interests': 'Camping, Gardening, Volleyball', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111125158x151467745509638140'}, {'Modified Date': '2024-07-04T16:39:28.865Z', 'Created Date': '2024-07-04T16:39:28.855Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2009-03-21T04:00:00.000Z', 'deceased': False, 'first_name': 'Adelaide', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Addie', 'relationship': 'Daughter', 'interests': 'Volleyball, Drawing, History', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111168595x906466426238271500'}, {'Modified Date': '2024-07-04T16:40:13.729Z', 'Created Date': '2024-07-04T16:40:13.719Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2011-01-15T05:00:00.000Z', 'deceased': False, 'first_name': 'Bruce', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Boo Boo', 'relationship': 'Son', 'interests': 'Soccer, History, Model Making', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111213481x670261540952997900'}, {'Modified Date': '2024-07-04T16:41:14.778Z', 'Created Date': '2024-07-04T16:41:14.722Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2012-07-16T04:00:00.000Z', 'deceased': False, 'first_name': 'Elizabeth', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Liz', 'relationship': 'Daughter', 'interests': 'Tae Kwan Do, Volleyball, Reading, Writing', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111274111x705272155291779100'}, {'Modified Date': '2024-07-04T16:41:54.388Z', 'Created Date': '2024-07-04T16:41:54.359Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '2014-09-14T04:00:00.000Z', 'deceased': False, 'first_name': 'Llilian', 'last_name': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nickname': 'Lily', 'relationship': 'Daughter', 'interests': 'Diving, Gymnastics, Art, Exploring', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111313805x974908641979400200'}]
2024-07-04 22:54:46,095-INFO-bubbleAPI.get_records > Total friends records pulled: 5
2024-07-04 22:54:46,095-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-04 22:54:46,096-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-04 22:54:46,096-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-04 22:54:46,096-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-04 22:54:46,096-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-07-04 22:54:46,096-DEBUG-patientFriends.__init__ > [{'bday': '1979-05-21T04:00:00.000Z', 'deceased': False, 'fname': 'Luciane', 'interests': 'Camping, Gardening, Volleyball', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Lucy', 'relationship': 'Wife'}, {'bday': '2009-03-21T04:00:00.000Z', 'deceased': False, 'fname': 'Adelaide', 'interests': 'Volleyball, Drawing, History', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Addie', 'relationship': 'Daughter'}, {'bday': '2011-01-15T05:00:00.000Z', 'deceased': False, 'fname': 'Bruce', 'interests': 'Soccer, History, Model Making', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Boo Boo', 'relationship': 'Son'}, {'bday': '2012-07-16T04:00:00.000Z', 'deceased': False, 'fname': 'Elizabeth', 'interests': 'Tae Kwan Do, Volleyball, Reading, Writing', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Liz', 'relationship': 'Daughter'}, {'bday': '2014-09-14T04:00:00.000Z', 'deceased': False, 'fname': 'Llilian', 'interests': 'Diving, Gymnastics, Art, Exploring', 'lname': 'Raymond', 'location': {'address': 'Annandale, VA, USA', 'lat': 38.8303905, 'lng': -77.1963703}, 'nname': 'Lily', 'relationship': 'Daughter'}]
2024-07-04 22:54:46,096-INFO-bubbleAPI.get_exch_conv > Getting, faq, records from Bubble.
2024-07-04 22:54:46,100-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:54:46,285-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/faq?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:54:46,287-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-04T16:44:14.146Z', 'Created Date': '2024-07-04T16:44:14.146Z', 'Created By': '1719433427015x760125662067258500', 'answer': 'Six but there are going to be many more!', 'patient': '1720111058938x567839568571831800', 'question': 'How many superbowls have the Steelers won?', '_id': '1720111453605x972362936015650800'}, {'Modified Date': '2024-07-04T16:44:40.155Z', 'Created Date': '2024-07-04T16:44:40.154Z', 'Created By': '1719433427015x760125662067258500', 'answer': 'As long as the sun is shining in the sky.', 'patient': '1720111058938x567839568571831800', 'question': 'Will Army beat Navy?', '_id': '1720111479990x430417171840237600'}]
2024-07-04 22:54:46,287-INFO-bubbleAPI.get_records > Total faq records pulled: 2
2024-07-04 22:54:46,287-INFO-judyMVP.__init__ > Starting maintenance thread.
2024-07-04 22:55:46,292-INFO-judyMaint.run_background > Running maintenance routine
2024-07-04 22:55:46,294-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-07-04 22:55:46,298-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:55:46,612-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-07-04 22:55:46,614-INFO-bubbleAPI.get_settings > response: {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-07-04T19:33:16.374Z', 'Created Date':
2024-07-04 22:55:46,614-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-07-04T19:33:16.374Z', 'Created Date': '2024-07-04T16:37:39.082Z', 'Created By': '1719433427015x760125662067258500', 'accent': 'Australian', 'photo_delay': 3, 'trigger': 'Judy', 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', '_id': '1720111058482x902662854976995300'}], 'count': 1, 'remaining': 0}}
2024-07-04 22:55:46,615-ERROR-patientSettings.pull_settings > Unable to load any watchers.
2024-07-04 22:55:46,615-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 3, 'accent': 'Australian', 'trigger': 'Judy'}
2024-07-04 22:55:46,615-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720120564136x271686411888959040
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720120584305x201853802422198530
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720120615266x246206982884124900
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720120635487x448895144730829100
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720120658678x448359273476094400
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720121018525x593413394017978200
2024-07-04 22:55:46,615-DEBUG-chatHistory.check_summary > Checking summary on 1720121050399x331232550955648200
2024-07-04 22:55:46,616-DEBUG-chatHistory.check_summary > Checking summary on 1720121082395x570314878513968260
2024-07-04 22:55:46,616-DEBUG-chatHistory.check_summary > Checking summary on 1720121775932x383233671535407700
2024-07-04 22:55:46,616-DEBUG-chatHistory.check_summary > Checking summary on 1720138071002x268031761567931070
2024-07-04 22:55:46,616-DEBUG-chatHistory.check_summary > Checking summary on 1720138127763x201956807277150270
2024-07-04 22:55:46,616-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 11
2024-07-04 22:55:46,616-INFO-chatHistory.check_mappings > In the check_mappings function
2024-07-04 22:55:46,616-INFO-Sorting through these exchanges: 11
2024-07-04 22:55:46,616-INFO-Total exchanges after checking mapping: 11
2024-07-04 22:55:46,616-INFO-Total conversations after checking mapping: 4
2024-07-04 22:55:46,616-INFO-Checked conversations and identified those to be updated.
2024-07-04 22:55:46,617-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-04 22:55:46,617-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-07-04 22:55:46,617-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-07-04 20:08:45.690000
2024-07-04 22:55:46,617-DEBUG-chatHistory.rev_conversations > Difference in time: 10020.927288
2024-07-04 22:55:46,617-INFO-chatHistory.rev_conversations > Cleaning conversation: 1720148082758x320453311437771900
2024-07-04 22:55:46,618-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-07-04 22:55:46,619-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-07-04 22:55:46,661-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': 'where are my family'}, {'role': 'system', 'content': 'Your family, including Luciane, Adelaide, Bruce, Elizabeth, and Llilian, live in Annandale, VA, USA. They are all together with you.'}, {'role': 'user', 'content': 'what should I do with Luciani today what should I do with Luciana today'}, {'role': 'system', 'content': 'You could spend quality time with Luciane by going for a walk, having a picnic, or watching a movie together. Maybe you can also engage in her hobbies like camping, gardening, or playing volleyball.'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than five.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-07-04 22:55:46,662-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-07-04 22:55:46,662-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-07-04 22:55:46,672-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111b25f70>
2024-07-04 22:55:46,672-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x111886d50> server_hostname='api.openai.com' timeout=5.0
2024-07-04 22:55:46,689-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x111b25e80>
2024-07-04 22:55:46,689-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-07-04 22:55:46,689-DEBUG-send_request_headers.complete
2024-07-04 22:55:46,689-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-07-04 22:55:46,689-DEBUG-send_request_body.complete
2024-07-04 22:55:46,689-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-07-04 22:55:47,657-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 05 Jul 2024 02:55:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'849'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59612'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'388ms'), (b'x-request-id', b'req_913a1de741a72c5dd914063ed48935a8'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=D5H07dWZa308cFyjBQLjfljvsdzDQDLWE3SSVADyTIU-1720148147-1.0.1.1-5wueRxgz0Rz6CKs9vwtYhkSgOLVUKgxmKOgGRwX0MtO4mfQCJo6oAhNNrSl9kO.7ndBcOZeb97wF23nSBWpMgw; path=/; expires=Fri, 05-Jul-24 03:25:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=.YMHxJ59FwMmEEfYArQ4trLKqE7uKf4r28ghY9GCTWg-1720148147653-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89e413fcda727fbb-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-07-04 22:55:47,659-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-07-04 22:55:47,659-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-07-04 22:55:47,660-DEBUG-receive_response_body.complete
2024-07-04 22:55:47,660-DEBUG-response_closed.started
2024-07-04 22:55:47,660-DEBUG-response_closed.complete
2024-07-04 22:55:47,660-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 05 Jul 2024 02:55:47 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '849'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59612'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '388ms'), ('x-request-id', 'req_913a1de741a72c5dd914063ed48935a8'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=D5H07dWZa308cFyjBQLjfljvsdzDQDLWE3SSVADyTIU-1720148147-1.0.1.1-5wueRxgz0Rz6CKs9vwtYhkSgOLVUKgxmKOgGRwX0MtO4mfQCJo6oAhNNrSl9kO.7ndBcOZeb97wF23nSBWpMgw; path=/; expires=Fri, 05-Jul-24 03:25:47 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=.YMHxJ59FwMmEEfYArQ4trLKqE7uKf4r28ghY9GCTWg-1720148147653-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89e413fcda727fbb-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-07-04 22:55:47,661-DEBUG-request_id: req_913a1de741a72c5dd914063ed48935a8
2024-07-04 22:55:47,662-DEBUG-chatHistory.save_history > Saving conversation: 1720148082758x320453311437771900
2024-07-04 22:55:47,662-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1720148082758x320453311437771900) to Bubble.
2024-07-04 22:55:47,665-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:55:47,871-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-07-04 22:55:47,872-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-07-04 22:55:47,872-INFO-messageHandler.clean_messages > Checking for messages on Bubble
2024-07-04 22:55:47,873-INFO-bubbleAPI.get_exch_conv > Getting, message, records from Bubble.
2024-07-04 22:55:47,876-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:55:48,050-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/message?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:55:48,052-INFO-bubbleAPI.get_records > []
2024-07-04 22:55:48,052-INFO-bubbleAPI.get_records > Total message records pulled: 0
2024-07-04 22:55:48,052-INFO-messageHandler.clean_messages > Cleaning messages
2024-07-04 22:55:48,052-INFO-messageHandler.clean_messages > Validating if any messages should be announced
2024-07-04 22:56:48,057-INFO-messageHandler.clean_messages > Checking for messages on Bubble
2024-07-04 22:56:48,059-INFO-bubbleAPI.get_exch_conv > Getting, message, records from Bubble.
2024-07-04 22:56:48,064-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:56:48,267-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/message?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:56:48,269-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-05T02:56:13.881Z', 'Created Date': '2024-07-05T02:56:13.876Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'Hey man, how are things? Stopping by at 5pm.', 'Expiration': 1, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720148173553x335348303041134600'}]
2024-07-04 22:56:48,269-INFO-bubbleAPI.get_records > Total message records pulled: 1
2024-07-04 22:56:48,271-INFO-messageHandler.clean_messages > Cleaning messages
2024-07-04 22:56:48,271-INFO-messageHandler.clean_messages > Validating if any messages should be announced
2024-07-04 22:56:48,326-DEBUG-close.started
2024-07-04 22:56:48,326-DEBUG-close.complete
2024-07-04 22:56:48,326-DEBUG-close.started
2024-07-04 22:56:48,326-DEBUG-close.complete
2024-07-04 22:56:49,609-DEBUG-text: You have received a message from Colin Raymond: Hey man, how are things? Stopping by at 5pm.
2024-07-04 22:56:49,610-DEBUG-tld: com.au
2024-07-04 22:56:49,610-DEBUG-lang: en
2024-07-04 22:56:49,610-DEBUG-slow: False
2024-07-04 22:56:49,610-DEBUG-lang_check: True
2024-07-04 22:56:49,610-DEBUG-pre_processor_funcs: [<function tone_marks at 0x1072816c0>, <function end_of_line at 0x107281b20>, <function abbreviations at 0x1072823e0>, <function word_sub at 0x107282480>]
2024-07-04 22:56:49,610-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|\\(|;|\\)|،|。|\\\n|¡|，|\\[|‥|、|—|\\]|¿|…|：', re.IGNORECASE) from: [<function tone_marks at 0x1072825c0>, <function period_comma at 0x107282660>, <function colon at 0x107282700>, <function other_punctuation at 0x1072827a0>]>
2024-07-04 22:56:49,610-DEBUG-timeout: None
2024-07-04 22:56:49,611-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-04 22:56:49,611-DEBUG-pre-processing: <function tone_marks at 0x1072816c0>
2024-07-04 22:56:49,611-DEBUG-pre-processing: <function end_of_line at 0x107281b20>
2024-07-04 22:56:49,612-DEBUG-pre-processing: <function abbreviations at 0x1072823e0>
2024-07-04 22:56:49,613-DEBUG-pre-processing: <function word_sub at 0x107282480>
2024-07-04 22:56:49,613-DEBUG-text_parts: ['You have received a message from Colin Raymond: Hey man, how are things?  Stopping by at 5pm.']
2024-07-04 22:56:49,613-DEBUG-text_parts: 1
2024-07-04 22:56:49,613-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20Hey%20man%2C%20how%20are%20things%3F%20%20Stopping%20by%20at%205pm.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-04 22:56:49,616-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-04 22:56:49,931-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-04 22:56:49,962-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '263'}
2024-07-04 22:56:49,962-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-04 22:56:49,962-DEBUG-status-0: 200
2024-07-04 22:56:49,973-DEBUG-part-0 written to <_io.BytesIO object at 0x1111e54e0>
2024-07-04 22:56:49,974-DEBUG-part-0 created
2024-07-04 22:57:58,907-INFO-messageHandler.clean_messages > Checking for messages on Bubble
2024-07-04 22:57:58,909-INFO-bubbleAPI.get_exch_conv > Getting, message, records from Bubble.
2024-07-04 22:57:58,917-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-07-04 22:57:59,122-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/message?cursor=0&limit=100 HTTP/1.1" 200 None
2024-07-04 22:57:59,124-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-07-05T02:56:13.881Z', 'Created Date': '2024-07-05T02:56:13.876Z', 'Created By': '1719433427015x760125662067258500', 'Message': 'Hey man, how are things? Stopping by at 5pm.', 'Expiration': 1, 'Frequency': 1, 'patient': '1720111058938x567839568571831800', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719860906321x399833294943004350', '1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'sender_first_name': 'Colin', 'sender_last_name': 'Raymond', '_id': '1720148173553x335348303041134600'}]
2024-07-04 22:57:59,124-INFO-bubbleAPI.get_records > Total message records pulled: 1
2024-07-04 22:57:59,125-INFO-messageHandler.clean_messages > Cleaning messages
2024-07-04 22:57:59,125-INFO-messageHandler.clean_messages > Validating if any messages should be announced
2024-07-04 22:58:00,349-DEBUG-text: You have received a message from Colin Raymond: Hey man, how are things? Stopping by at 5pm.
2024-07-04 22:58:00,350-DEBUG-tld: com.au
2024-07-04 22:58:00,350-DEBUG-lang: en
2024-07-04 22:58:00,350-DEBUG-slow: False
2024-07-04 22:58:00,350-DEBUG-lang_check: True
2024-07-04 22:58:00,350-DEBUG-pre_processor_funcs: [<function tone_marks at 0x1072816c0>, <function end_of_line at 0x107281b20>, <function abbreviations at 0x1072823e0>, <function word_sub at 0x107282480>]
2024-07-04 22:58:00,350-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|\\(|;|\\)|،|。|\\\n|¡|，|\\[|‥|、|—|\\]|¿|…|：', re.IGNORECASE) from: [<function tone_marks at 0x1072825c0>, <function period_comma at 0x107282660>, <function colon at 0x107282700>, <function other_punctuation at 0x1072827a0>]>
2024-07-04 22:58:00,350-DEBUG-timeout: None
2024-07-04 22:58:00,351-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-07-04 22:58:00,351-DEBUG-pre-processing: <function tone_marks at 0x1072816c0>
2024-07-04 22:58:00,351-DEBUG-pre-processing: <function end_of_line at 0x107281b20>
2024-07-04 22:58:00,351-DEBUG-pre-processing: <function abbreviations at 0x1072823e0>
2024-07-04 22:58:00,352-DEBUG-pre-processing: <function word_sub at 0x107282480>
2024-07-04 22:58:00,352-DEBUG-text_parts: ['You have received a message from Colin Raymond: Hey man, how are things?  Stopping by at 5pm.']
2024-07-04 22:58:00,352-DEBUG-text_parts: 1
2024-07-04 22:58:00,352-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20received%20a%20message%20from%20Colin%20Raymond%3A%20Hey%20man%2C%20how%20are%20things%3F%20%20Stopping%20by%20at%205pm.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-07-04 22:58:00,354-DEBUG-Starting new HTTPS connection (1): translate.google.com.au:443
2024-07-04 22:58:00,642-DEBUG-https://translate.google.com.au:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-07-04 22:58:00,672-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '263'}
2024-07-04 22:58:00,672-DEBUG-url-0: https://translate.google.com.au/_/TranslateWebserverUi/data/batchexecute
2024-07-04 22:58:00,672-DEBUG-status-0: 200
2024-07-04 22:58:00,679-DEBUG-part-0 written to <_io.BytesIO object at 0x111cfec00>
2024-07-04 22:58:00,679-DEBUG-part-0 created
