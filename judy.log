2024-06-28 23:19:45,557-INFO-__main__ > Initializing the program.
2024-06-28 23:19:47,217-INFO-judyMVP.__init__ > Initializing the program.
2024-06-28 23:19:47,218-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-06-28 23:19:47,232-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:47,409-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 401 None
2024-06-28 23:19:47,411-INFO-bubbleAPI.get_settings > response: {'error_class': 'Unauthorized', 'args': {'code': '1719631187374x388808612076313000'}, 'message': Non
2024-06-28 23:19:47,415-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:47,624-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/wf/gen_api_token?email=al@judypatient.com&pw=%5DK:kAh24 HTTP/1.1" 200 None
2024-06-28 23:19:47,626-INFO-bubbleAPI.get_token > Getting new API key using credentials for al@judypatient.com
2024-06-28 23:19:47,630-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:47,824-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-06-28 23:19:47,826-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-06-28T22:22:20.075Z', 'Created Date': '2024-06-27T21:01:07.893Z', 'Created By': 'admin_user_colinkraymond_test', 'accent': 'Nigerian', 'photo_delay': 5, 'trigger': 'Hey Mary', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', '_id': '1719522067893x328829464095951940'}], 'count': 1, 'remaining': 0}}
2024-06-28 23:19:47,826-ERROR-patientSettings.pull_settings > Unable to load any watchers.
2024-06-28 23:19:47,827-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 5, 'accent': 'Nigerian', 'trigger': 'Hey Mary'}
2024-06-28 23:19:47,827-INFO-chatHistory.__init__ > Loading the chat history
2024-06-28 23:19:47,827-INFO-chatHistory.load_all_conversations > Starting to load all of the conversations.
2024-06-28 23:19:47,827-INFO-bubbleAPI.get_exch_conv > Getting, conversation, records from Bubble.
2024-06-28 23:19:47,831-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:48,037-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/conversation?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 23:19:48,039-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T22:18:35.341Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:50.480Z', 'summary': "The patient expressed curiosity about life and inquired about the assistant's activities for the day.", 'date': '2024-06-28T18:12:05.071Z', 'sentiment': 3, 'keywords': 'life,activities', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434837706x144782149579859800', 'watcher': [], '_id': '1719613115341x524425913000597250'}, {'Created Date': '2024-06-28T22:19:12.528Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:24:21.251Z', 'summary': 'The patient expressed interest in going out and mentioned the Ford Theater in Washington DC, with the assistant advising against it due to emotional reasons.', 'date': '2024-06-28T18:18:47.805Z', 'sentiment': 2, 'keywords': 'Ford Theater,Washington DC', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434837706x144782149579859800', 'watcher': [], '_id': '1719613152528x834074611163164900'}, {'Created Date': '2024-06-29T03:15:06.406Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-29T03:19:19.017Z', 'summary': "The patient expressed interest in visiting Ford's Theater in Washington DC but was reminded of the historical significance and potential emotional impact. The assistant suggested a walk in the garden or reading a book together instead.", 'date': '2024-06-28T18:23:34.324Z', 'sentiment': 3, 'keywords': "Ford's Theater,Washington DC,historical significance,memories,walk in the garden,reading a book", 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434837706x144782149579859800', 'watcher': [], '_id': '1719630906406x680976235100116100'}]
2024-06-28 23:19:48,041-INFO-bubbleAPI.get_records > Total conversation records pulled: 3
2024-06-28 23:19:48,041-INFO-chatHistory.load_all_conversations > [{'Created Date': '2024-06-28T22:18:35.341Z', 'Cre
2024-06-28 23:19:48,044-INFO-chatHistory.load_all_conversations > Total conversations loaded: 3
2024-06-28 23:19:48,044-INFO-chatHistory.load_all_exchangess > Pulling list of exchanges from Bubble API.
2024-06-28 23:19:48,045-INFO-bubbleAPI.get_exch_conv > Getting, chatexchange, records from Bubble.
2024-06-28 23:19:48,047-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:48,241-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/chatexchange?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 23:19:48,243-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T22:12:06.659Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:37.769Z', 'date': '2024-06-28T18:12:05.071Z', 'query': 'where is my wife', 'response': "Abraham, your wife's name was Mary Todd Lincoln. She was your partner during your time as the 16th President of the United States.", 'summary': 'The patient inquires about the whereabouts of his wife, Mary Todd Lincoln, showing curiosity and concern.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612726659x155447070310034560'}, {'Created Date': '2024-06-28T22:12:39.524Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:38.301Z', 'date': '2024-06-28T18:12:38.413Z', 'query': 'what should I do today', 'response': 'Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you.', 'summary': 'The patient, Abraham, is seeking advice on how to spend his day and the assistant suggests reading about history or writing in a journal, which might be enjoyable for him.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612759524x495422666199701440'}, {'Created Date': '2024-06-28T22:14:16.681Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:38.716Z', 'date': '2024-06-28T18:14:15.622Z', 'query': 'what do you think about life', 'response': "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times.", 'summary': 'The patient is reflecting on the precious gift of life and the importance of staying strong during challenging times, while the assistant provides support and encouragement.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612856681x411741615588036900'}, {'Created Date': '2024-06-28T22:14:50.907Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:39.012Z', 'date': '2024-06-28T18:14:49.752Z', 'query': 'what are you doing today', 'response': "I'm here to assist you, Abraham. Is there anything specific you would like help with today?", 'summary': 'The patient, Abraham, is seeking assistance today and the assistant is here to help.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612890907x344576079477937340'}, {'Created Date': '2024-06-28T22:18:49.980Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:19:13.929Z', 'date': '2024-06-28T18:18:47.805Z', 'query': 'uit program', 'response': "I'm here to help, Abraham. What would you like assistance with today?", 'summary': 'The patient, Abraham, requested assistance with a quit program and the assistant is here to help.', 'conversation': '1719613152528x834074611163164900', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719613129980x226863355498843080'}]
2024-06-28 23:19:48,243-INFO-bubbleAPI.get_records > Total chatexchange records pulled: 9
2024-06-28 23:19:48,243-INFO-chatHistory.load_all_exchanges > Loaded 9 exchanges from Bubble.
2024-06-28 23:19:48,243-INFO-chatHistory.load_all_exchanges > Added ID 1719612726659x155447070310034560 to exchanges: {'query': 'where is my wife', 'response': "Abraham
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719612759524x495422666199701440 to exchanges: {'query': 'what should I do today', 'response': 'A
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719612856681x411741615588036900 to exchanges: {'query': 'what do you think about life', 'respons
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719612890907x344576079477937340 to exchanges: {'query': 'what are you doing today', 'response': 
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719613129980x226863355498843080 to exchanges: {'query': 'uit program', 'response': "I'm here to 
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719613203321x464569985382809800 to exchanges: {'query': 'yeah where is my wife Mary right now', 
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719613274472x553181826263537900 to exchanges: {'query': "I'm thinking about going out and doing 
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719613417337x259376082894241540 to exchanges: {'query': "I was thinking about going to the Ford'
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Added ID 1719613460784x635708730006605300 to exchanges: {'query': 'what do you think I should do today', '
2024-06-28 23:19:48,244-INFO-chatHistory.load_all_exchanges > Total exchanges loaded: 9
2024-06-28 23:19:48,244-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-06-28 23:19:48,244-DEBUG-chatHistory.check_summary > Checking summary on 1719612726659x155447070310034560
2024-06-28 23:19:48,244-DEBUG-chatHistory.check_summary > Checking summary on 1719612759524x495422666199701440
2024-06-28 23:19:48,244-DEBUG-chatHistory.check_summary > Checking summary on 1719612856681x411741615588036900
2024-06-28 23:19:48,244-DEBUG-chatHistory.check_summary > Checking summary on 1719612890907x344576079477937340
2024-06-28 23:19:48,245-DEBUG-chatHistory.check_summary > Checking summary on 1719613129980x226863355498843080
2024-06-28 23:19:48,245-DEBUG-chatHistory.check_summary > Checking summary on 1719613203321x464569985382809800
2024-06-28 23:19:48,245-DEBUG-chatHistory.check_summary > Checking summary on 1719613274472x553181826263537900
2024-06-28 23:19:48,245-DEBUG-chatHistory.check_summary > Checking summary on 1719613417337x259376082894241540
2024-06-28 23:19:48,245-DEBUG-chatHistory.check_summary > Checking summary on 1719613460784x635708730006605300
2024-06-28 23:19:48,245-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 9
2024-06-28 23:19:48,245-INFO-chatHistory.check_mappings > In the check_mappings function
2024-06-28 23:19:48,245-INFO-Sorting through these exchanges: 9
2024-06-28 23:19:48,245-INFO-Total exchanges after checking mapping: 9
2024-06-28 23:19:48,245-INFO-Total conversations after checking mapping: 3
2024-06-28 23:19:48,245-INFO-Checked conversations and identified those to be updated.
2024-06-28 23:19:48,245-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 23:19:48,245-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 23:19:48,245-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 18:24:18.374000
2024-06-28 23:19:48,245-DEBUG-chatHistory.rev_conversations > Difference in time: 17729.871867
2024-06-28 23:19:48,245-INFO-chatHistory.rev_conversations > Cleaning conversation: 1719630906406x680976235100116100
2024-06-28 23:19:48,247-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 23:19:48,248-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 23:19:48,289-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'system', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'system', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than 10.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 23:19:48,309-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 23:19:48,310-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 23:19:48,335-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ccb1b50>
2024-06-28 23:19:48,335-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x10cbde9d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 23:19:48,352-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10cc7e1b0>
2024-06-28 23:19:48,352-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 23:19:48,352-DEBUG-send_request_headers.complete
2024-06-28 23:19:48,352-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 23:19:48,352-DEBUG-send_request_body.complete
2024-06-28 23:19:48,352-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 23:19:49,554-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 29 Jun 2024 03:19:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'987'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59612'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'388ms'), (b'x-request-id', b'req_d3667f195a3aeb5ab6c20b91e314c2b1'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XyUJrJe36l7suTjhrrHlxWWyhfvz0Mn4BY6PHEglxUg-1719631189-1.0.1.1-epQ2B2EzO9vk4AOYz0VUBwyIieEABkbkUi4KDSIMMGMOeq8tqTr0mcqkbnsLag8S9CibGx2f8x5YXySualqShg; path=/; expires=Sat, 29-Jun-24 03:49:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=Lvo3qwNLB.c2OojMYXxq3DAF_SBrvxy7a75E60BsQZc-1719631189580-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b2c6ef7c085ae0-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 23:19:49,557-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 23:19:49,557-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 23:19:49,558-DEBUG-receive_response_body.complete
2024-06-28 23:19:49,558-DEBUG-response_closed.started
2024-06-28 23:19:49,558-DEBUG-response_closed.complete
2024-06-28 23:19:49,558-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 29 Jun 2024 03:19:49 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '987'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59612'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '388ms'), ('x-request-id', 'req_d3667f195a3aeb5ab6c20b91e314c2b1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=XyUJrJe36l7suTjhrrHlxWWyhfvz0Mn4BY6PHEglxUg-1719631189-1.0.1.1-epQ2B2EzO9vk4AOYz0VUBwyIieEABkbkUi4KDSIMMGMOeq8tqTr0mcqkbnsLag8S9CibGx2f8x5YXySualqShg; path=/; expires=Sat, 29-Jun-24 03:49:49 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=Lvo3qwNLB.c2OojMYXxq3DAF_SBrvxy7a75E60BsQZc-1719631189580-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b2c6ef7c085ae0-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 23:19:49,559-DEBUG-request_id: req_d3667f195a3aeb5ab6c20b91e314c2b1
2024-06-28 23:19:49,565-DEBUG-chatHistory.save_history > Saving conversation: 1719630906406x680976235100116100
2024-06-28 23:19:49,565-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719630906406x680976235100116100) to Bubble.
2024-06-28 23:19:49,568-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:49,983-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 23:19:49,985-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-06-28 23:19:49,985-DEBUG-patientInfo.__init__ > Getting patient information.
2024-06-28 23:19:49,985-INFO-bubbleAPI.get_exch_conv > Getting, user, records from Bubble.
2024-06-28 23:19:49,989-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:50,418-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/user?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 23:19:50,420-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-28T01:11:47.572Z', 'Created Date': '2024-06-26T20:47:17.706Z', 'first_name': 'Abraham', 'last_name': 'Lincoln', 'user_signed_up': True, 'authentication': {'email': {'email': 'al@judypatient.com', 'email_confirmed': None}}, 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Honest Abe', 'bday': '1924-02-12T05:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Springfield, IL', '_id': '1719434837706x144782149579859800'}]
2024-06-28 23:19:50,420-INFO-bubbleAPI.get_records > Total user records pulled: 1
2024-06-28 23:19:50,420-DEBUG-patientInfo.import_data > {'Modified Date': '2024-06-28T01:11:47.572Z', 'Created Date': '2024-06-26T20:47:17.706Z', 'first_name': 'Abraham', 'last_name': 'Lincoln', 'user_signed_up': True, 'authentication': {'email': {'email': 'al@judypatient.com', 'email_confirmed': None}}, 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Honest Abe', 'bday': '1924-02-12T05:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Springfield, IL', '_id': '1719434837706x144782149579859800'}
2024-06-28 23:19:50,420-INFO-bubbleAPI.get_exch_conv > Getting, interest, records from Bubble.
2024-06-28 23:19:50,424-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:50,828-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/interest?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 23:19:50,829-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-28T22:24:55.712Z', 'Created Date': '2024-06-28T22:24:55.706Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'School of Hard Knocks', 'patient': '1719434837706x144782149579859800', 'type': 'school', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], '_id': '1719613495429x827600097773617200'}, {'Modified Date': '2024-06-28T22:25:04.347Z', 'Created Date': '2024-06-28T22:25:04.341Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Ford Theater', 'patient': '1719434837706x144782149579859800', 'type': 'place', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], '_id': '1719613504165x722623519935168500'}, {'Modified Date': '2024-06-28T22:25:10.879Z', 'Created Date': '2024-06-28T22:25:10.873Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Gettysburg', 'patient': '1719434837706x144782149579859800', 'type': 'place', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], '_id': '1719613510701x349490952488878100'}, {'Modified Date': '2024-06-28T22:25:19.101Z', 'Created Date': '2024-06-28T22:25:19.095Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Spaghetti', 'patient': '1719434837706x144782149579859800', 'type': 'food', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], '_id': '1719613518899x852710377844899800'}, {'Modified Date': '2024-06-28T22:25:27.177Z', 'Created Date': '2024-06-28T22:25:27.171Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Comfort Food', 'patient': '1719434837706x144782149579859800', 'type': 'food', 'caretaker': '1719433427015x760125662067258500', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], '_id': '1719613526998x703186396424175600'}]
2024-06-28 23:19:50,829-INFO-bubbleAPI.get_records > Total interest records pulled: 10
2024-06-28 23:19:50,829-DEBUG-patientBG.__init__ > {'school': ['School of Hard Knocks'], 'sport': ['Running'], 'food': ['Spaghetti', 'Comfort Food'], 'place': ['Ford Theater', 'Gettysburg'], 'hobby': ['Tree Chopping', 'Orating'], 'other': ['Hates guns', 'Military History']}
2024-06-28 23:19:50,830-INFO-bubbleAPI.get_exch_conv > Getting, friends, records from Bubble.
2024-06-28 23:19:50,833-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:51,190-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/friends?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 23:19:51,191-INFO-bubbleAPI.get_records > []
2024-06-28 23:19:51,191-INFO-bubbleAPI.get_records > Total friends records pulled: 0
2024-06-28 23:19:51,191-DEBUG-patientFriends.__init__ > []
2024-06-28 23:19:51,192-INFO-bubbleAPI.get_exch_conv > Getting, faq, records from Bubble.
2024-06-28 23:19:51,195-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:19:51,542-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/faq?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 23:19:51,544-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-29T03:17:41.720Z', 'Created Date': '2024-06-29T03:17:41.719Z', 'Created By': '1719433427015x760125662067258500', 'answer': 'Absolutely not!', 'patient': '1719434837706x144782149579859800', 'question': 'Should I go to the Ford Theater?', '_id': '1719631061395x774342694957219800'}, {'Modified Date': '2024-06-29T03:17:58.645Z', 'Created Date': '2024-06-29T03:17:58.645Z', 'Created By': '1719433427015x760125662067258500', 'answer': 'You hate him with all your heart!', 'patient': '1719434837706x144782149579859800', 'question': 'What do I think of Jefferson Davis?', '_id': '1719631078479x341367595730993150'}]
2024-06-28 23:19:51,544-INFO-bubbleAPI.get_records > Total faq records pulled: 2
2024-06-28 23:19:51,544-INFO-judyMVP.__init__ > Starting audio thread.
2024-06-28 23:19:51,566-DEBUG-close.started
2024-06-28 23:19:51,566-DEBUG-close.complete
2024-06-28 23:19:52,864-INFO-judyVoice.listen > Starting to listen through microphone.
2024-06-28 23:20:01,345-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 23:20:01,346-INFO-promptCreate.__init__ > Generating the GPT prompt.
2024-06-28 23:20:01,346-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 23:20:01,346-DEBUG-promptCreate.update_info > {'info': 'My name is Abraham None Lincoln, but people call me Honest Abe.', 'family': 'This is information about my friends and family:', 'background': ''}
2024-06-28 23:20:01,346-DEBUG-promptCreate.build_message > [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:This is a list of questions along with their answers that I may ask. If I ask one of these questions, or something similiar you should respond with the answers as I've given them here.\nQuestion: Should I go to the Ford Theater?.\nAnswer: Absolutely not!.\nQuestion: What do I think of Jefferson Davis?.\nAnswer: You hate him with all your heart!."}, {'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}, {'role': 'assistant', 'content': "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}, {'role': 'user', 'content': "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}, {'role': 'assistant', 'content': 'Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'assistant', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'assistant', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'What do I think of Jefferson Davis?'}]
2024-06-28 23:20:01,346-INFO-openAIGPT.run_Query > Contacting OpenAI with query: What do I think of Jefferson Davis?
2024-06-28 23:20:01,346-DEBUG-openAIGPT.run_query > {"role": "system", "content": "You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n"}
2024-06-28 23:20:01,346-DEBUG-openAIGPT.run_query > {"role": "user", "content": "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:This is a list of questions along with their answers that I may ask. If I ask one of these questions, or something similiar you should respond with the answers as I've given them here.\nQuestion: Should I go to the Ford Theater?.\nAnswer: Absolutely not!.\nQuestion: What do I think of Jefferson Davis?.\nAnswer: You hate him with all your heart!."}
2024-06-28 23:20:01,346-DEBUG-openAIGPT.run_query > {"role": "user", "content": "uit program"}
2024-06-28 23:20:01,346-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "I'm here to help, Abraham. What would you like assistance with today?"}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "user", "content": "yeah where is my wife Mary right now"}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "user", "content": "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you."}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "user", "content": "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what do you think I should do today"}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "How about we take a walk in the garden or read a book together, Abraham?"}
2024-06-28 23:20:01,347-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What do I think of Jefferson Davis?"}
2024-06-28 23:20:01,348-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 23:20:01,348-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 23:20:01,391-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:This is a list of questions along with their answers that I may ask. If I ask one of these questions, or something similiar you should respond with the answers as I've given them here.\nQuestion: Should I go to the Ford Theater?.\nAnswer: Absolutely not!.\nQuestion: What do I think of Jefferson Davis?.\nAnswer: You hate him with all your heart!."}, {'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}, {'role': 'assistant', 'content': "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}, {'role': 'user', 'content': "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}, {'role': 'assistant', 'content': 'Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'assistant', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'assistant', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'What do I think of Jefferson Davis?'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 23:20:01,391-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 23:20:01,391-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 23:20:01,404-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c8f5430>
2024-06-28 23:20:01,404-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11c88f650> server_hostname='api.openai.com' timeout=5.0
2024-06-28 23:20:01,419-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c8cd4f0>
2024-06-28 23:20:01,419-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 23:20:01,419-DEBUG-send_request_headers.complete
2024-06-28 23:20:01,419-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 23:20:01,419-DEBUG-send_request_body.complete
2024-06-28 23:20:01,419-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 23:20:02,194-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 29 Jun 2024 03:20:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'449'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59491'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'509ms'), (b'x-request-id', b'req_d919f9671727ff07a7ea88a5100a3f85'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=IiYWxgRugzJQu8v.zShCV59R5LVOPhB2UdKvQ3FnZoE-1719631202-1.0.1.1-vLKrtkyL6tpS640FMtm9BZ2SmXOUrIAIsmk5Zoip_sadAF1eLImleVu7Ux_x_3Xx3lTM4QwCUYPCE27WzunOiQ; path=/; expires=Sat, 29-Jun-24 03:50:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=F6sRWacKmIOlSoECuGpjM.8f0U24KWfQ1c54uYSCI_o-1719631202116-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b2c74128523b74-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 23:20:02,196-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 23:20:02,196-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 23:20:02,197-DEBUG-receive_response_body.complete
2024-06-28 23:20:02,197-DEBUG-response_closed.started
2024-06-28 23:20:02,197-DEBUG-response_closed.complete
2024-06-28 23:20:02,197-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 29 Jun 2024 03:20:02 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '449'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59491'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '509ms'), ('x-request-id', 'req_d919f9671727ff07a7ea88a5100a3f85'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=IiYWxgRugzJQu8v.zShCV59R5LVOPhB2UdKvQ3FnZoE-1719631202-1.0.1.1-vLKrtkyL6tpS640FMtm9BZ2SmXOUrIAIsmk5Zoip_sadAF1eLImleVu7Ux_x_3Xx3lTM4QwCUYPCE27WzunOiQ; path=/; expires=Sat, 29-Jun-24 03:50:02 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=F6sRWacKmIOlSoECuGpjM.8f0U24KWfQ1c54uYSCI_o-1719631202116-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b2c74128523b74-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 23:20:02,198-DEBUG-request_id: req_d919f9671727ff07a7ea88a5100a3f85
2024-06-28 23:20:02,199-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fIv3fycyiCI6dZmZN4Xz9UrbRIGF', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='You hate him with all your heart, Abraham.', role='assistant', function_call=None, tool_calls=None))], created=1719631201, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=10, prompt_tokens=465, total_tokens=475))
2024-06-28 23:20:02,199-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 23:20:02,199-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 23:20:02,199-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 18:24:18.374000
2024-06-28 23:20:02,199-DEBUG-chatHistory.rev_conversations > Difference in time: 17743.825808
2024-06-28 23:20:02,199-INFO-chatHistory.rev_conversations > Cleaning conversation: 1719630906406x680976235100116100
2024-06-28 23:20:02,200-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 23:20:02,201-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 23:20:02,242-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'system', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'system', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than 10.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 23:20:02,242-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 23:20:02,242-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 23:20:02,254-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ca01790>
2024-06-28 23:20:02,254-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11c8e1e50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 23:20:02,270-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ca016a0>
2024-06-28 23:20:02,270-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 23:20:02,270-DEBUG-send_request_headers.complete
2024-06-28 23:20:02,270-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 23:20:02,270-DEBUG-send_request_body.complete
2024-06-28 23:20:02,270-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 23:20:03,730-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 29 Jun 2024 03:20:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'1294'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'59612'), (b'x-ratelimit-reset-requests', b'16.425s'), (b'x-ratelimit-reset-tokens', b'388ms'), (b'x-request-id', b'req_c72f5449fb5b9bbc524fe28044d3d7b3'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ZpXAlS1r0IGaFCDwbM4YnrlQ.xHdCUy3w07POmeka.E-1719631203-1.0.1.1-IHA0crXoO0p9cMrtm289RyMed6F5fG0MPwL82ud5Z8oWTK0KceO2uTYePnDyhMXXQqQad0d9_bLKzHwDq50oug; path=/; expires=Sat, 29-Jun-24 03:50:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=ejsvXHw3Ob32GVCxI_yW983FNLJGMkQJN3GwBD7.Ig0-1719631203719-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b2c7467f6c818f-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 23:20:03,732-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 23:20:03,732-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 23:20:03,732-DEBUG-receive_response_body.complete
2024-06-28 23:20:03,733-DEBUG-response_closed.started
2024-06-28 23:20:03,733-DEBUG-response_closed.complete
2024-06-28 23:20:03,733-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 29 Jun 2024 03:20:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '1294'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '59612'), ('x-ratelimit-reset-requests', '16.425s'), ('x-ratelimit-reset-tokens', '388ms'), ('x-request-id', 'req_c72f5449fb5b9bbc524fe28044d3d7b3'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=ZpXAlS1r0IGaFCDwbM4YnrlQ.xHdCUy3w07POmeka.E-1719631203-1.0.1.1-IHA0crXoO0p9cMrtm289RyMed6F5fG0MPwL82ud5Z8oWTK0KceO2uTYePnDyhMXXQqQad0d9_bLKzHwDq50oug; path=/; expires=Sat, 29-Jun-24 03:50:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=ejsvXHw3Ob32GVCxI_yW983FNLJGMkQJN3GwBD7.Ig0-1719631203719-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b2c7467f6c818f-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 23:20:03,733-DEBUG-request_id: req_c72f5449fb5b9bbc524fe28044d3d7b3
2024-06-28 23:20:03,734-DEBUG-chatHistory.save_history > Saving exchange: What do I think of Jefferson Davis?
2024-06-28 23:20:03,738-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:20:03,954-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 23:20:03,954-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719631203921x641588940522680000
2024-06-28 23:20:03,954-DEBUG-chatHistory.save_history > Saving conversation: 1719630906406x680976235100116100
2024-06-28 23:20:03,955-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719630906406x680976235100116100) to Bubble.
2024-06-28 23:20:03,957-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:20:04,347-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 23:20:04,349-DEBUG-text: You hate him with all your heart, Abraham.
2024-06-28 23:20:04,349-DEBUG-tld: com.ng
2024-06-28 23:20:04,349-DEBUG-lang: en
2024-06-28 23:20:04,349-DEBUG-slow: False
2024-06-28 23:20:04,349-DEBUG-lang_check: True
2024-06-28 23:20:04,349-DEBUG-pre_processor_funcs: [<function tone_marks at 0x106681800>, <function end_of_line at 0x1066818a0>, <function abbreviations at 0x106682160>, <function word_sub at 0x106682200>]
2024-06-28 23:20:04,349-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|\\]|…|。|，|\\\n|—|\\[|\\(|：|‥|\\)|،|¿|、|¡|;', re.IGNORECASE) from: [<function tone_marks at 0x106682340>, <function period_comma at 0x1066823e0>, <function colon at 0x106682480>, <function other_punctuation at 0x106682520>]>
2024-06-28 23:20:04,349-DEBUG-timeout: None
2024-06-28 23:20:04,350-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 23:20:04,351-DEBUG-pre-processing: <function tone_marks at 0x106681800>
2024-06-28 23:20:04,352-DEBUG-pre-processing: <function end_of_line at 0x1066818a0>
2024-06-28 23:20:04,352-DEBUG-pre-processing: <function abbreviations at 0x106682160>
2024-06-28 23:20:04,353-DEBUG-pre-processing: <function word_sub at 0x106682200>
2024-06-28 23:20:04,353-DEBUG-text_parts: ['You hate him with all your heart, Abraham.']
2024-06-28 23:20:04,353-DEBUG-text_parts: 1
2024-06-28 23:20:04,354-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20hate%20him%20with%20all%20your%20heart%2C%20Abraham.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 23:20:04,355-DEBUG-Starting new HTTPS connection (1): translate.google.com.ng:443
2024-06-28 23:20:04,562-DEBUG-https://translate.google.com.ng:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 23:20:04,577-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '188'}
2024-06-28 23:20:04,577-DEBUG-url-0: https://translate.google.com.ng/_/TranslateWebserverUi/data/batchexecute
2024-06-28 23:20:04,578-DEBUG-status-0: 200
2024-06-28 23:20:04,581-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 23:20:04,581-DEBUG-part-0 created
2024-06-28 23:20:04,582-DEBUG-Saved to ./temp/response.mp3
2024-06-28 23:20:15,530-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 23:20:15,530-INFO-promptCreate.__init__ > Generating the GPT prompt.
2024-06-28 23:20:15,530-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 23:20:15,531-DEBUG-promptCreate.update_info > {'info': 'My name is Abraham None Lincoln, but people call me Honest Abe.', 'family': 'This is information about my friends and family:', 'background': ''}
2024-06-28 23:20:15,531-DEBUG-promptCreate.build_message > [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:This is a list of questions along with their answers that I may ask. If I ask one of these questions, or something similiar you should respond with the answers as I've given them here.\nQuestion: Should I go to the Ford Theater?.\nAnswer: Absolutely not!.\nQuestion: What do I think of Jefferson Davis?.\nAnswer: You hate him with all your heart!."}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}, {'role': 'assistant', 'content': "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}, {'role': 'user', 'content': "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}, {'role': 'assistant', 'content': 'Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'assistant', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'assistant', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'What do I think of Jefferson Davis?'}, {'role': 'assistant', 'content': 'You hate him with all your heart, Abraham.'}, {'role': 'user', 'content': 'Should I go to the Ford Theater?'}]
2024-06-28 23:20:15,531-INFO-openAIGPT.run_Query > Contacting OpenAI with query: Should I go to the Ford Theater?
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "system", "content": "You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:This is a list of questions along with their answers that I may ask. If I ask one of these questions, or something similiar you should respond with the answers as I've given them here.\nQuestion: Should I go to the Ford Theater?.\nAnswer: Absolutely not!.\nQuestion: What do I think of Jefferson Davis?.\nAnswer: You hate him with all your heart!."}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "yeah where is my wife Mary right now"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you."}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what do you think I should do today"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "How about we take a walk in the garden or read a book together, Abraham?"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "What do I think of Jefferson Davis?"}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "You hate him with all your heart, Abraham."}
2024-06-28 23:20:15,531-DEBUG-openAIGPT.run_query > {"role": "user", "content": "Should I go to the Ford Theater?"}
2024-06-28 23:20:15,532-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 23:20:15,533-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 23:20:15,575-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:This is a list of questions along with their answers that I may ask. If I ask one of these questions, or something similiar you should respond with the answers as I've given them here.\nQuestion: Should I go to the Ford Theater?.\nAnswer: Absolutely not!.\nQuestion: What do I think of Jefferson Davis?.\nAnswer: You hate him with all your heart!."}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}, {'role': 'assistant', 'content': "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}, {'role': 'user', 'content': "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}, {'role': 'assistant', 'content': 'Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'assistant', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'assistant', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'What do I think of Jefferson Davis?'}, {'role': 'assistant', 'content': 'You hate him with all your heart, Abraham.'}, {'role': 'user', 'content': 'Should I go to the Ford Theater?'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 23:20:15,575-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 23:20:15,575-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 23:20:15,596-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ca02b10>
2024-06-28 23:20:15,596-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11c88d6d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 23:20:15,611-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ca1cc80>
2024-06-28 23:20:15,611-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 23:20:15,612-DEBUG-send_request_headers.complete
2024-06-28 23:20:15,612-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 23:20:15,612-DEBUG-send_request_body.complete
2024-06-28 23:20:15,612-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 23:20:16,007-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 29 Jun 2024 03:20:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'190'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'59492'), (b'x-ratelimit-reset-requests', b'11.728s'), (b'x-ratelimit-reset-tokens', b'508ms'), (b'x-request-id', b'req_ce3f96f8292cdf508c3d000d5b69c351'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ACFRlxUDWRetjYZmP0eEbcx0dIFEWwoGcUWyooMYMIc-1719631216-1.0.1.1-Fj8otHeJR1wmkk41eInK1mPU3kKmYhzHq84DrJi5kiLLe_e5PaJyqqivrPQcpED.bI6054HDU0618unGLIZC4Q; path=/; expires=Sat, 29-Jun-24 03:50:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=8MltztK1pqkj6_KKviw93MO_ct_hGno63IA8zoYc_xU-1719631216035-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b2c799deeb1ffa-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 23:20:16,009-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 23:20:16,009-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 23:20:16,010-DEBUG-receive_response_body.complete
2024-06-28 23:20:16,010-DEBUG-response_closed.started
2024-06-28 23:20:16,010-DEBUG-response_closed.complete
2024-06-28 23:20:16,010-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 29 Jun 2024 03:20:16 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '190'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '59492'), ('x-ratelimit-reset-requests', '11.728s'), ('x-ratelimit-reset-tokens', '508ms'), ('x-request-id', 'req_ce3f96f8292cdf508c3d000d5b69c351'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=ACFRlxUDWRetjYZmP0eEbcx0dIFEWwoGcUWyooMYMIc-1719631216-1.0.1.1-Fj8otHeJR1wmkk41eInK1mPU3kKmYhzHq84DrJi5kiLLe_e5PaJyqqivrPQcpED.bI6054HDU0618unGLIZC4Q; path=/; expires=Sat, 29-Jun-24 03:50:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=8MltztK1pqkj6_KKviw93MO_ct_hGno63IA8zoYc_xU-1719631216035-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b2c799deeb1ffa-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 23:20:16,011-DEBUG-request_id: req_ce3f96f8292cdf508c3d000d5b69c351
2024-06-28 23:20:16,012-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fIvHAsxcqLefWJQXnqn9kQTEAvvC', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='Absolutely not, Abraham.', role='assistant', function_call=None, tool_calls=None))], created=1719631215, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=5, prompt_tokens=465, total_tokens=470))
2024-06-28 23:20:16,012-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 23:20:16,013-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 23:20:16,013-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 18:24:18.374000
2024-06-28 23:20:16,013-DEBUG-chatHistory.rev_conversations > Difference in time: 17757.639261
2024-06-28 23:20:16,013-INFO-chatHistory.rev_conversations > Cleaning conversation: 1719630906406x680976235100116100
2024-06-28 23:20:16,014-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 23:20:16,015-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 23:20:16,054-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': "I was thinking about going to the Ford's Theater in Washington DC do you think that's a good idea"}, {'role': 'system', 'content': "Abraham, it's important to remember that the Ford's Theater in Washington DC holds a lot of historical significance for you. It might bring up some difficult memories, so it's up to you if you feel comfortable visiting."}, {'role': 'user', 'content': 'what do you think I should do today'}, {'role': 'system', 'content': 'How about we take a walk in the garden or read a book together, Abraham?'}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than 10.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 23:20:16,054-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 23:20:16,054-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 23:20:16,063-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ca1c980>
2024-06-28 23:20:16,063-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11ca0a4d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 23:20:16,080-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11ca1c9b0>
2024-06-28 23:20:16,080-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 23:20:16,080-DEBUG-send_request_headers.complete
2024-06-28 23:20:16,080-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 23:20:16,080-DEBUG-send_request_body.complete
2024-06-28 23:20:16,080-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 23:20:17,585-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 29 Jun 2024 03:20:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'1382'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'59594'), (b'x-ratelimit-reset-requests', b'19.916s'), (b'x-ratelimit-reset-tokens', b'405ms'), (b'x-request-id', b'req_25a4e7000bd57ed868698287d0affb59'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=RKaRaA95duk6CW1QyiZpSh7F3agtUubvfqbH_jnZ0T4-1719631217-1.0.1.1-oV8AzVpsmO8pYURNurIJ9uKQsR8ik2IPGjpeippwf8J2bhwio8ccmDjivZRs1fCjvPTt8feok3Cee2sTc2TFjw; path=/; expires=Sat, 29-Jun-24 03:50:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=Ns48UICpvRh8s0hX5sznOGVmhhVjpD7_55zEqVLATWE-1719631217614-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b2c79ccaf60587-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 23:20:17,587-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 23:20:17,587-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 23:20:17,588-DEBUG-receive_response_body.complete
2024-06-28 23:20:17,588-DEBUG-response_closed.started
2024-06-28 23:20:17,588-DEBUG-response_closed.complete
2024-06-28 23:20:17,588-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Sat, 29 Jun 2024 03:20:17 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '1382'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9997'), ('x-ratelimit-remaining-tokens', '59594'), ('x-ratelimit-reset-requests', '19.916s'), ('x-ratelimit-reset-tokens', '405ms'), ('x-request-id', 'req_25a4e7000bd57ed868698287d0affb59'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=RKaRaA95duk6CW1QyiZpSh7F3agtUubvfqbH_jnZ0T4-1719631217-1.0.1.1-oV8AzVpsmO8pYURNurIJ9uKQsR8ik2IPGjpeippwf8J2bhwio8ccmDjivZRs1fCjvPTt8feok3Cee2sTc2TFjw; path=/; expires=Sat, 29-Jun-24 03:50:17 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=Ns48UICpvRh8s0hX5sznOGVmhhVjpD7_55zEqVLATWE-1719631217614-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b2c79ccaf60587-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 23:20:17,589-DEBUG-request_id: req_25a4e7000bd57ed868698287d0affb59
2024-06-28 23:20:17,590-DEBUG-chatHistory.save_history > Saving exchange: Should I go to the Ford Theater?
2024-06-28 23:20:17,593-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:20:17,784-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 23:20:17,786-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719631217759x430596997465048770
2024-06-28 23:20:17,786-DEBUG-chatHistory.save_history > Saving conversation: 1719630906406x680976235100116100
2024-06-28 23:20:17,786-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719630906406x680976235100116100) to Bubble.
2024-06-28 23:20:17,790-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 23:20:18,634-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 23:20:18,637-DEBUG-text: Absolutely not, Abraham.
2024-06-28 23:20:18,637-DEBUG-tld: com.ng
2024-06-28 23:20:18,637-DEBUG-lang: en
2024-06-28 23:20:18,637-DEBUG-slow: False
2024-06-28 23:20:18,637-DEBUG-lang_check: True
2024-06-28 23:20:18,637-DEBUG-pre_processor_funcs: [<function tone_marks at 0x106681800>, <function end_of_line at 0x1066818a0>, <function abbreviations at 0x106682160>, <function word_sub at 0x106682200>]
2024-06-28 23:20:18,637-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|\\]|…|。|，|\\\n|—|\\[|\\(|：|‥|\\)|،|¿|、|¡|;', re.IGNORECASE) from: [<function tone_marks at 0x106682340>, <function period_comma at 0x1066823e0>, <function colon at 0x106682480>, <function other_punctuation at 0x106682520>]>
2024-06-28 23:20:18,638-DEBUG-timeout: None
2024-06-28 23:20:18,638-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 23:20:18,639-DEBUG-pre-processing: <function tone_marks at 0x106681800>
2024-06-28 23:20:18,639-DEBUG-pre-processing: <function end_of_line at 0x1066818a0>
2024-06-28 23:20:18,639-DEBUG-pre-processing: <function abbreviations at 0x106682160>
2024-06-28 23:20:18,639-DEBUG-pre-processing: <function word_sub at 0x106682200>
2024-06-28 23:20:18,639-DEBUG-text_parts: ['Absolutely not, Abraham.']
2024-06-28 23:20:18,639-DEBUG-text_parts: 1
2024-06-28 23:20:18,640-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Absolutely%20not%2C%20Abraham.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 23:20:18,641-DEBUG-Starting new HTTPS connection (1): translate.google.com.ng:443
2024-06-28 23:20:18,797-DEBUG-https://translate.google.com.ng:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 23:20:18,809-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '160'}
2024-06-28 23:20:18,809-DEBUG-url-0: https://translate.google.com.ng/_/TranslateWebserverUi/data/batchexecute
2024-06-28 23:20:18,809-DEBUG-status-0: 200
2024-06-28 23:20:18,811-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 23:20:18,811-DEBUG-part-0 created
2024-06-28 23:20:18,812-DEBUG-Saved to ./temp/response.mp3
