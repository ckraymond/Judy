2024-06-28 18:19:01,608-INFO-__main__ > Initializing the program.
2024-06-28 18:19:09,521-INFO-judyMVP.__init__ > Initializing the program.
2024-06-28 18:19:09,521-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-06-28 18:19:09,536-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:09,726-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 401 None
2024-06-28 18:19:09,728-INFO-bubbleAPI.get_settings > response: {'error_class': 'Unauthorized', 'args': {'code': '1719613149684x907016072945873400'}, 'message': Non
2024-06-28 18:19:09,733-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:10,208-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/wf/gen_api_token?email=al@judypatient.com&pw=%5DK:kAh24 HTTP/1.1" 200 None
2024-06-28 18:19:10,210-INFO-bubbleAPI.get_token > Getting new API key using credentials for al@judypatient.com
2024-06-28 18:19:10,212-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:10,621-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-06-28 18:19:10,623-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-06-28T22:13:08.371Z', 'Created Date': '2024-06-27T21:01:07.893Z', 'Created By': 'admin_user_colinkraymond_test', 'accent': 'Irish', 'photo_delay': 5, 'trigger': 'Hey Mary', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', '_id': '1719522067893x328829464095951940'}], 'count': 1, 'remaining': 0}}
2024-06-28 18:19:10,623-ERROR-patientSettings.pull_settings > Unable to load any watchers.
2024-06-28 18:19:10,624-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 5, 'accent': 'Irish', 'trigger': 'Hey Mary'}
2024-06-28 18:19:10,624-INFO-chatHistory.__init__ > Loading the chat history
2024-06-28 18:19:10,624-INFO-chatHistory.load_all_conversations > Starting to load all of the conversations.
2024-06-28 18:19:10,624-INFO-bubbleAPI.get_exch_conv > Getting, conversation, records from Bubble.
2024-06-28 18:19:10,626-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:10,836-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/conversation?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 18:19:10,838-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T22:18:35.341Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:50.480Z', 'summary': "The patient expressed curiosity about life and inquired about the assistant's activities for the day.", 'date': '2024-06-28T18:12:05.071Z', 'sentiment': 3, 'keywords': 'life,activities', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434837706x144782149579859800', 'watcher': [], '_id': '1719613115341x524425913000597250'}]
2024-06-28 18:19:10,838-INFO-bubbleAPI.get_records > Total conversation records pulled: 1
2024-06-28 18:19:10,838-INFO-chatHistory.load_all_conversations > [{'Created Date': '2024-06-28T22:18:35.341Z', 'Cre
2024-06-28 18:19:10,843-INFO-chatHistory.load_all_conversations > Total conversations loaded: 1
2024-06-28 18:19:10,843-INFO-chatHistory.load_all_exchangess > Pulling list of exchanges from Bubble API.
2024-06-28 18:19:10,843-INFO-bubbleAPI.get_exch_conv > Getting, chatexchange, records from Bubble.
2024-06-28 18:19:10,847-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:11,196-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/chatexchange?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 18:19:11,198-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T22:12:06.659Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:37.769Z', 'date': '2024-06-28T18:12:05.071Z', 'query': 'where is my wife', 'response': "Abraham, your wife's name was Mary Todd Lincoln. She was your partner during your time as the 16th President of the United States.", 'summary': 'The patient inquires about the whereabouts of his wife, Mary Todd Lincoln, showing curiosity and concern.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612726659x155447070310034560'}, {'Created Date': '2024-06-28T22:12:39.524Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:38.301Z', 'date': '2024-06-28T18:12:38.413Z', 'query': 'what should I do today', 'response': 'Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you.', 'summary': 'The patient, Abraham, is seeking advice on how to spend his day and the assistant suggests reading about history or writing in a journal, which might be enjoyable for him.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612759524x495422666199701440'}, {'Created Date': '2024-06-28T22:14:16.681Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:38.716Z', 'date': '2024-06-28T18:14:15.622Z', 'query': 'what do you think about life', 'response': "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times.", 'summary': 'The patient is reflecting on the precious gift of life and the importance of staying strong during challenging times, while the assistant provides support and encouragement.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612856681x411741615588036900'}, {'Created Date': '2024-06-28T22:14:50.907Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:39.012Z', 'date': '2024-06-28T18:14:49.752Z', 'query': 'what are you doing today', 'response': "I'm here to assist you, Abraham. Is there anything specific you would like help with today?", 'summary': 'The patient, Abraham, is seeking assistance today and the assistant is here to help.', 'conversation': '1719613115341x524425913000597250', 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719612890907x344576079477937340'}, {'Created Date': '2024-06-28T22:18:49.980Z', 'Created By': '1719434837706x144782149579859800', 'Modified Date': '2024-06-28T22:18:49.980Z', 'date': '2024-06-28T18:18:47.805Z', 'query': 'uit program', 'response': "I'm here to help, Abraham. What would you like assistance with today?", 'patient': '1719434837706x144782149579859800', 'caretaker': '1719433427015x760125662067258500', 'watcher': [], '_id': '1719613129980x226863355498843080'}]
2024-06-28 18:19:11,198-INFO-bubbleAPI.get_records > Total chatexchange records pulled: 5
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Loaded 5 exchanges from Bubble.
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Added ID 1719612726659x155447070310034560 to exchanges: {'query': 'where is my wife', 'response': "Abraham
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Added ID 1719612759524x495422666199701440 to exchanges: {'query': 'what should I do today', 'response': 'A
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Added ID 1719612856681x411741615588036900 to exchanges: {'query': 'what do you think about life', 'respons
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Added ID 1719612890907x344576079477937340 to exchanges: {'query': 'what are you doing today', 'response': 
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Added ID 1719613129980x226863355498843080 to exchanges: {'query': 'uit program', 'response': "I'm here to 
2024-06-28 18:19:11,198-INFO-chatHistory.load_all_exchanges > Total exchanges loaded: 5
2024-06-28 18:19:11,198-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-06-28 18:19:11,199-DEBUG-chatHistory.check_summary > Checking summary on 1719612726659x155447070310034560
2024-06-28 18:19:11,199-DEBUG-chatHistory.check_summary > Checking summary on 1719612759524x495422666199701440
2024-06-28 18:19:11,199-DEBUG-chatHistory.check_summary > Checking summary on 1719612856681x411741615588036900
2024-06-28 18:19:11,199-DEBUG-chatHistory.check_summary > Checking summary on 1719612890907x344576079477937340
2024-06-28 18:19:11,199-DEBUG-chatHistory.check_summary > Checking summary on 1719613129980x226863355498843080
2024-06-28 18:19:11,200-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 18:19:11,201-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 18:19:11,242-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary and keywords. \n\n                    The summary field should have a summary of our above conversation one sentence. Be sure to call out both \n                    what you think my mood is as well as identifying any people or places that I have asked about. Refer \n                    to me in the summary as the patient and yourself as the assistant.\n\n                    The keywords field should be a comma-delimited list of any places, people, or events that are referenced\n                    in our conversation.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 18:19:11,266-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 18:19:11,266-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 18:19:11,274-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11b4b02c0>
2024-06-28 18:19:11,274-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11b3de850> server_hostname='api.openai.com' timeout=5.0
2024-06-28 18:19:11,288-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11b4a7e30>
2024-06-28 18:19:11,288-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 18:19:11,288-DEBUG-send_request_headers.complete
2024-06-28 18:19:11,288-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 18:19:11,288-DEBUG-send_request_body.complete
2024-06-28 18:19:11,288-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 18:19:12,349-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 22:19:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'783'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9995'), (b'x-ratelimit-remaining-tokens', b'59816'), (b'x-ratelimit-reset-requests', b'37.941s'), (b'x-ratelimit-reset-tokens', b'184ms'), (b'x-request-id', b'req_694c897aea4d30559881e5d73a5b8323'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SMgErVs1iHnEjSFEncNkwqeuhxY.otUcVVC1HKgEYVY-1719613152-1.0.1.1-73ZrfQm15auhNWya4i65YnwwKabc._pZUQaekJf4IvujyvT__d3K9ZugjJ0qCVqH0N1Z0v_XrAQPZJbX00G3jA; path=/; expires=Fri, 28-Jun-24 22:49:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=zN52Sf5Zjbs75iwoScQu6lYPy0hjv5bmS.la.HSu92k-1719613152339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b10e93b9ea3811-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 18:19:12,352-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 18:19:12,352-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 18:19:12,353-DEBUG-receive_response_body.complete
2024-06-28 18:19:12,353-DEBUG-response_closed.started
2024-06-28 18:19:12,353-DEBUG-response_closed.complete
2024-06-28 18:19:12,353-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 22:19:12 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '783'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9995'), ('x-ratelimit-remaining-tokens', '59816'), ('x-ratelimit-reset-requests', '37.941s'), ('x-ratelimit-reset-tokens', '184ms'), ('x-request-id', 'req_694c897aea4d30559881e5d73a5b8323'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=SMgErVs1iHnEjSFEncNkwqeuhxY.otUcVVC1HKgEYVY-1719613152-1.0.1.1-73ZrfQm15auhNWya4i65YnwwKabc._pZUQaekJf4IvujyvT__d3K9ZugjJ0qCVqH0N1Z0v_XrAQPZJbX00G3jA; path=/; expires=Fri, 28-Jun-24 22:49:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=zN52Sf5Zjbs75iwoScQu6lYPy0hjv5bmS.la.HSu92k-1719613152339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b10e93b9ea3811-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 18:19:12,353-DEBUG-request_id: req_694c897aea4d30559881e5d73a5b8323
2024-06-28 18:19:12,360-INFO-chatHistory.check_summary > Adding summary to ID 1719613129980x226863355498843080 fill out as it is empty: The patient, Abraham, requested assistance with a quit program and the assistant is here to help.
2024-06-28 18:19:12,360-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 5
2024-06-28 18:19:12,360-INFO-chatHistory.check_mappings > In the check_mappings function
2024-06-28 18:19:12,360-INFO-Sorting through these exchanges: 5
2024-06-28 18:19:12,363-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:12,584-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/conversation HTTP/1.1" 201 None
2024-06-28 18:19:12,584-INFO-New conversation created, ID: 1719613152528x834074611163164900
2024-06-28 18:19:12,584-INFO-Creating initial conversation and mapping conv: None to: 1719613129980x226863355498843080
2024-06-28 18:19:12,585-INFO-Total exchanges after checking mapping: 5
2024-06-28 18:19:12,585-INFO-Total conversations after checking mapping: 2
2024-06-28 18:19:12,585-INFO-Conversation to be updated for (summary, keywords, sentiment): 1719613152528x834074611163164900
2024-06-28 18:19:12,586-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 18:19:12,587-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 18:19:12,626-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': 'uit program'}, {'role': 'system', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than 10.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 18:19:12,626-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 18:19:12,627-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 18:19:12,637-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11b4a6a20>
2024-06-28 18:19:12,637-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11b45b8d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 18:19:12,652-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11b4b3f50>
2024-06-28 18:19:12,652-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 18:19:12,652-DEBUG-send_request_headers.complete
2024-06-28 18:19:12,652-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 18:19:12,652-DEBUG-send_request_body.complete
2024-06-28 18:19:12,652-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 18:19:13,710-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 22:19:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'927'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'59700'), (b'x-ratelimit-reset-requests', b'45.217s'), (b'x-ratelimit-reset-tokens', b'300ms'), (b'x-request-id', b'req_251e6ff2370a9fa503a7b2ab36f152e6'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=KoyDklQ.pu.XCGNhMDaTRdjj4h0cxGG6236n4Mu_7Dg-1719613153-1.0.1.1-INFk3bcNi0J2LaKNC_GADnDR04JcEhPimcGVtuhKdgTqhZVFXHVaepQqHsK7_zhUeKsBd7LiarsS2PwwmR8a7w; path=/; expires=Fri, 28-Jun-24 22:49:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=omzPRDTICWqZFXzE.RG9fEg3JlrQgdli9pupPPa8pZI-1719613153720-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b10e9c3e216fe6-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 18:19:13,712-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 18:19:13,712-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 18:19:13,713-DEBUG-receive_response_body.complete
2024-06-28 18:19:13,713-DEBUG-response_closed.started
2024-06-28 18:19:13,713-DEBUG-response_closed.complete
2024-06-28 18:19:13,713-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 22:19:13 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '927'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9994'), ('x-ratelimit-remaining-tokens', '59700'), ('x-ratelimit-reset-requests', '45.217s'), ('x-ratelimit-reset-tokens', '300ms'), ('x-request-id', 'req_251e6ff2370a9fa503a7b2ab36f152e6'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=KoyDklQ.pu.XCGNhMDaTRdjj4h0cxGG6236n4Mu_7Dg-1719613153-1.0.1.1-INFk3bcNi0J2LaKNC_GADnDR04JcEhPimcGVtuhKdgTqhZVFXHVaepQqHsK7_zhUeKsBd7LiarsS2PwwmR8a7w; path=/; expires=Fri, 28-Jun-24 22:49:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=omzPRDTICWqZFXzE.RG9fEg3JlrQgdli9pupPPa8pZI-1719613153720-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b10e9c3e216fe6-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 18:19:13,714-DEBUG-request_id: req_251e6ff2370a9fa503a7b2ab36f152e6
2024-06-28 18:19:13,715-INFO-Checked conversations and identified those to be updated.
2024-06-28 18:19:13,715-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 18:19:13,715-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 18:18:47.805000
2024-06-28 18:19:13,715-DEBUG-chatHistory.rev_conversations > Difference in time: 25.910542
2024-06-28 18:19:13,715-DEBUG-chatHistory.save_history > Saving exchange: uit program
2024-06-28 18:19:13,715-INFO-bubbleAPI.update_exch_rcds > Updating exchange (ID: 1719613129980x226863355498843080) to Bubble.
2024-06-28 18:19:13,719-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:14,099-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_exchange HTTP/1.1" 200 None
2024-06-28 18:19:14,101-DEBUG-chatHistory.save_history > Saving conversation: 1719613152528x834074611163164900
2024-06-28 18:19:14,101-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719613152528x834074611163164900) to Bubble.
2024-06-28 18:19:14,105-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:14,535-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 18:19:14,536-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversations.
2024-06-28 18:19:14,537-DEBUG-patientInfo.__init__ > Getting patient information.
2024-06-28 18:19:14,537-INFO-bubbleAPI.get_exch_conv > Getting, user, records from Bubble.
2024-06-28 18:19:14,541-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:14,741-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/user?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 18:19:14,743-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-28T01:11:47.572Z', 'Created Date': '2024-06-26T20:47:17.706Z', 'first_name': 'Abraham', 'last_name': 'Lincoln', 'user_signed_up': True, 'authentication': {'email': {'email': 'al@judypatient.com', 'email_confirmed': None}}, 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Honest Abe', 'bday': '1924-02-12T05:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Springfield, IL', '_id': '1719434837706x144782149579859800'}]
2024-06-28 18:19:14,743-INFO-bubbleAPI.get_records > Total user records pulled: 1
2024-06-28 18:19:14,743-DEBUG-patientInfo.import_data > {'Modified Date': '2024-06-28T01:11:47.572Z', 'Created Date': '2024-06-26T20:47:17.706Z', 'first_name': 'Abraham', 'last_name': 'Lincoln', 'user_signed_up': True, 'authentication': {'email': {'email': 'al@judypatient.com', 'email_confirmed': None}}, 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Honest Abe', 'bday': '1924-02-12T05:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'Springfield, IL', '_id': '1719434837706x144782149579859800'}
2024-06-28 18:19:14,743-INFO-bubbleAPI.get_exch_conv > Getting, interest, records from Bubble.
2024-06-28 18:19:14,747-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:14,940-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/interest?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 18:19:14,941-INFO-bubbleAPI.get_records > []
2024-06-28 18:19:14,942-INFO-bubbleAPI.get_records > Total interest records pulled: 0
2024-06-28 18:19:14,942-DEBUG-patientBG.__init__ > {'school': [], 'sport': [], 'food': [], 'place': [], 'hobby': [], 'other': []}
2024-06-28 18:19:14,942-INFO-bubbleAPI.get_exch_conv > Getting, friends, records from Bubble.
2024-06-28 18:19:14,946-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:19:15,131-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/friends?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 18:19:15,132-INFO-bubbleAPI.get_records > []
2024-06-28 18:19:15,132-INFO-bubbleAPI.get_records > Total friends records pulled: 0
2024-06-28 18:19:15,133-DEBUG-patientFriends.__init__ > []
2024-06-28 18:19:15,133-INFO-judyMVP.__init__ > Starting audio thread.
2024-06-28 18:19:15,153-DEBUG-close.started
2024-06-28 18:19:15,153-DEBUG-close.complete
2024-06-28 18:19:15,153-DEBUG-close.started
2024-06-28 18:19:15,153-DEBUG-close.complete
2024-06-28 18:19:16,454-INFO-judyVoice.listen > Starting to listen through microphone.
2024-06-28 18:19:49,242-DEBUG-text: Hope you are doing well. Anything I can do to assist?
2024-06-28 18:19:49,244-DEBUG-tld: ie
2024-06-28 18:19:49,245-DEBUG-lang: en
2024-06-28 18:19:49,245-DEBUG-slow: False
2024-06-28 18:19:49,245-DEBUG-lang_check: True
2024-06-28 18:19:49,245-DEBUG-pre_processor_funcs: [<function tone_marks at 0x118680c20>, <function end_of_line at 0x1186816c0>, <function abbreviations at 0x118681f80>, <function word_sub at 0x118682020>]
2024-06-28 18:19:49,245-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|。|\\(|¿|—|\\\n|‥|：|、|،|;|…|，|¡|\\]|\\)|\\[', re.IGNORECASE) from: [<function tone_marks at 0x118682160>, <function period_comma at 0x118682200>, <function colon at 0x1186822a0>, <function other_punctuation at 0x118682340>]>
2024-06-28 18:19:49,245-DEBUG-timeout: None
2024-06-28 18:19:49,245-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 18:19:49,247-DEBUG-pre-processing: <function tone_marks at 0x118680c20>
2024-06-28 18:19:49,248-DEBUG-pre-processing: <function end_of_line at 0x1186816c0>
2024-06-28 18:19:49,248-DEBUG-pre-processing: <function abbreviations at 0x118681f80>
2024-06-28 18:19:49,250-DEBUG-pre-processing: <function word_sub at 0x118682020>
2024-06-28 18:19:49,250-DEBUG-text_parts: ['Hope you are doing well. Anything I can do to assist?']
2024-06-28 18:19:49,250-DEBUG-text_parts: 1
2024-06-28 18:19:49,250-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Hope%20you%20are%20doing%20well.%20Anything%20I%20can%20do%20to%20assist%3F%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:19:49,252-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:19:49,536-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:19:49,550-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '205'}
2024-06-28 18:19:49,550-DEBUG-url-0: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:19:49,550-DEBUG-status-0: 200
2024-06-28 18:19:49,553-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:19:49,553-DEBUG-part-0 created
2024-06-28 18:19:49,553-DEBUG-Saved to ./temp/response.mp3
2024-06-28 18:20:02,123-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 18:20:02,123-INFO-promptCreate.__init__ > Generating the GPT prompt.
2024-06-28 18:20:02,124-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 18:20:02,124-DEBUG-promptCreate.update_info > {'info': 'My name is Abraham None Lincoln, but people call me Honest Abe.', 'family': 'This is information about my friends and family:', 'background': ''}
2024-06-28 18:20:02,124-DEBUG-promptCreate.build_message > [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': 'My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:'}, {'role': 'user', 'content': 'where is my wife'}, {'role': 'assistant', 'content': "Abraham, your wife's name was Mary Todd Lincoln. She was your partner during your time as the 16th President of the United States."}, {'role': 'user', 'content': 'what should I do today'}, {'role': 'assistant', 'content': 'Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you.'}, {'role': 'user', 'content': 'what do you think about life'}, {'role': 'assistant', 'content': "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times."}, {'role': 'user', 'content': 'what are you doing today'}, {'role': 'assistant', 'content': "I'm here to assist you, Abraham. Is there anything specific you would like help with today?"}, {'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}]
2024-06-28 18:20:02,124-INFO-openAIGPT.run_Query > Contacting OpenAI with query: yeah where is my wife Mary right now
2024-06-28 18:20:02,124-DEBUG-openAIGPT.run_query > {"role": "system", "content": "You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n"}
2024-06-28 18:20:02,124-DEBUG-openAIGPT.run_query > {"role": "user", "content": "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "user", "content": "where is my wife"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, your wife's name was Mary Todd Lincoln. She was your partner during your time as the 16th President of the United States."}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what should I do today"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you."}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what do you think about life"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times."}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what are you doing today"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "I'm here to assist you, Abraham. Is there anything specific you would like help with today?"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "user", "content": "uit program"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "I'm here to help, Abraham. What would you like assistance with today?"}
2024-06-28 18:20:02,125-DEBUG-openAIGPT.run_query > {"role": "user", "content": "yeah where is my wife Mary right now"}
2024-06-28 18:20:02,127-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 18:20:02,129-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 18:20:02,175-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': 'My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:'}, {'role': 'user', 'content': 'where is my wife'}, {'role': 'assistant', 'content': "Abraham, your wife's name was Mary Todd Lincoln. She was your partner during your time as the 16th President of the United States."}, {'role': 'user', 'content': 'what should I do today'}, {'role': 'assistant', 'content': 'Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you.'}, {'role': 'user', 'content': 'what do you think about life'}, {'role': 'assistant', 'content': "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times."}, {'role': 'user', 'content': 'what are you doing today'}, {'role': 'assistant', 'content': "I'm here to assist you, Abraham. Is there anything specific you would like help with today?"}, {'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 18:20:02,176-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 18:20:02,176-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 18:20:02,203-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c9fd5e0>
2024-06-28 18:20:02,204-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11c9a2f50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 18:20:02,218-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c9fd520>
2024-06-28 18:20:02,219-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 18:20:02,219-DEBUG-send_request_headers.complete
2024-06-28 18:20:02,219-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 18:20:02,219-DEBUG-send_request_body.complete
2024-06-28 18:20:02,219-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 18:20:03,128-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 22:20:03 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'609'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59633'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'367ms'), (b'x-request-id', b'req_0be0d03eae640cde319240a1192e3eea'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=m3x1pNmYU8Baa4CjSzFKy3.Wg49_.5XmlGSs772cHHI-1719613203-1.0.1.1-Qntezm8HagSl4KpOiOP2EGT2qriMZM_Zn8D8DIp.cjgUSrrCs3nHBO9e6A5zxOYmUsim3M55K0kL_t9cD96oaw; path=/; expires=Fri, 28-Jun-24 22:50:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=.rOn3dym2iqubxBYlyAzjKaKukMDoxpfpL4idVlclRM-1719613203084-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b10fd2087d8284-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 18:20:03,129-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 18:20:03,129-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 18:20:03,130-DEBUG-receive_response_body.complete
2024-06-28 18:20:03,130-DEBUG-response_closed.started
2024-06-28 18:20:03,130-DEBUG-response_closed.complete
2024-06-28 18:20:03,130-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 22:20:03 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '609'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59633'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '367ms'), ('x-request-id', 'req_0be0d03eae640cde319240a1192e3eea'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=m3x1pNmYU8Baa4CjSzFKy3.Wg49_.5XmlGSs772cHHI-1719613203-1.0.1.1-Qntezm8HagSl4KpOiOP2EGT2qriMZM_Zn8D8DIp.cjgUSrrCs3nHBO9e6A5zxOYmUsim3M55K0kL_t9cD96oaw; path=/; expires=Fri, 28-Jun-24 22:50:03 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=.rOn3dym2iqubxBYlyAzjKaKukMDoxpfpL4idVlclRM-1719613203084-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b10fd2087d8284-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 18:20:03,130-DEBUG-request_id: req_0be0d03eae640cde319240a1192e3eea
2024-06-28 18:20:03,131-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fEEkduRQhEy0hqY0XPYr0YsKkWeH', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content="Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882.", role='assistant', function_call=None, tool_calls=None))], created=1719613202, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=24, prompt_tokens=333, total_tokens=357))
2024-06-28 18:20:03,132-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 18:20:03,132-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 18:18:47.805000
2024-06-28 18:20:03,132-DEBUG-chatHistory.rev_conversations > Difference in time: 75.327186
2024-06-28 18:20:03,132-DEBUG-chatHistory.save_history > Saving exchange: yeah where is my wife Mary right now
2024-06-28 18:20:03,135-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:20:03,366-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 18:20:03,367-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719613203321x464569985382809800
2024-06-28 18:20:03,367-DEBUG-text: Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882.
2024-06-28 18:20:03,367-DEBUG-tld: ie
2024-06-28 18:20:03,367-DEBUG-lang: en
2024-06-28 18:20:03,367-DEBUG-slow: False
2024-06-28 18:20:03,367-DEBUG-lang_check: True
2024-06-28 18:20:03,367-DEBUG-pre_processor_funcs: [<function tone_marks at 0x118680c20>, <function end_of_line at 0x1186816c0>, <function abbreviations at 0x118681f80>, <function word_sub at 0x118682020>]
2024-06-28 18:20:03,367-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|。|\\(|¿|—|\\\n|‥|：|、|،|;|…|，|¡|\\]|\\)|\\[', re.IGNORECASE) from: [<function tone_marks at 0x118682160>, <function period_comma at 0x118682200>, <function colon at 0x1186822a0>, <function other_punctuation at 0x118682340>]>
2024-06-28 18:20:03,368-DEBUG-timeout: None
2024-06-28 18:20:03,368-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 18:20:03,368-DEBUG-pre-processing: <function tone_marks at 0x118680c20>
2024-06-28 18:20:03,368-DEBUG-pre-processing: <function end_of_line at 0x1186816c0>
2024-06-28 18:20:03,368-DEBUG-pre-processing: <function abbreviations at 0x118681f80>
2024-06-28 18:20:03,368-DEBUG-pre-processing: <function word_sub at 0x118682020>
2024-06-28 18:20:03,368-DEBUG-text_parts: ["Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."]
2024-06-28 18:20:03,369-DEBUG-text_parts: 1
2024-06-28 18:20:03,369-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Abraham%2C%20I%27m%20here%20to%20remind%20you%20that%20your%20wife%2C%20Mary%20Todd%20Lincoln%2C%20passed%20away%20in%201882.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:20:03,370-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:20:03,758-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:20:03,788-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '255'}
2024-06-28 18:20:03,788-DEBUG-url-0: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:20:03,788-DEBUG-status-0: 200
2024-06-28 18:20:03,798-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:20:03,798-DEBUG-part-0 created
2024-06-28 18:20:03,798-DEBUG-Saved to ./temp/response.mp3
2024-06-28 18:20:22,847-DEBUG-text: What do you need?
2024-06-28 18:20:22,848-DEBUG-tld: ie
2024-06-28 18:20:22,848-DEBUG-lang: en
2024-06-28 18:20:22,848-DEBUG-slow: False
2024-06-28 18:20:22,848-DEBUG-lang_check: True
2024-06-28 18:20:22,848-DEBUG-pre_processor_funcs: [<function tone_marks at 0x118680c20>, <function end_of_line at 0x1186816c0>, <function abbreviations at 0x118681f80>, <function word_sub at 0x118682020>]
2024-06-28 18:20:22,848-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|。|\\(|¿|—|\\\n|‥|：|、|،|;|…|，|¡|\\]|\\)|\\[', re.IGNORECASE) from: [<function tone_marks at 0x118682160>, <function period_comma at 0x118682200>, <function colon at 0x1186822a0>, <function other_punctuation at 0x118682340>]>
2024-06-28 18:20:22,849-DEBUG-timeout: None
2024-06-28 18:20:22,849-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 18:20:22,850-DEBUG-pre-processing: <function tone_marks at 0x118680c20>
2024-06-28 18:20:22,850-DEBUG-pre-processing: <function end_of_line at 0x1186816c0>
2024-06-28 18:20:22,850-DEBUG-pre-processing: <function abbreviations at 0x118681f80>
2024-06-28 18:20:22,850-DEBUG-pre-processing: <function word_sub at 0x118682020>
2024-06-28 18:20:22,850-DEBUG-text_parts: ['What do you need?']
2024-06-28 18:20:22,850-DEBUG-text_parts: 1
2024-06-28 18:20:22,851-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22What%20do%20you%20need%3F%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:20:22,853-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:20:22,973-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:20:22,982-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '155'}
2024-06-28 18:20:22,983-DEBUG-url-0: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:20:22,983-DEBUG-status-0: 200
2024-06-28 18:20:22,984-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:20:22,984-DEBUG-part-0 created
2024-06-28 18:20:22,984-DEBUG-Saved to ./temp/response.mp3
2024-06-28 18:21:12,177-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 18:21:12,179-INFO-promptCreate.__init__ > Generating the GPT prompt.
2024-06-28 18:21:12,179-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 18:21:12,180-DEBUG-promptCreate.update_info > {'info': 'My name is Abraham None Lincoln, but people call me Honest Abe.', 'family': 'This is information about my friends and family:', 'background': ''}
2024-06-28 18:21:12,180-DEBUG-promptCreate.build_message > [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': 'My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:'}, {'role': 'user', 'content': 'what should I do today'}, {'role': 'assistant', 'content': 'Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you.'}, {'role': 'user', 'content': 'what do you think about life'}, {'role': 'assistant', 'content': "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times."}, {'role': 'user', 'content': 'what are you doing today'}, {'role': 'assistant', 'content': "I'm here to assist you, Abraham. Is there anything specific you would like help with today?"}, {'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}, {'role': 'assistant', 'content': "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}, {'role': 'user', 'content': "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}]
2024-06-28 18:21:12,180-INFO-openAIGPT.run_Query > Contacting OpenAI with query: I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC
2024-06-28 18:21:12,180-DEBUG-openAIGPT.run_query > {"role": "system", "content": "You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n"}
2024-06-28 18:21:12,180-DEBUG-openAIGPT.run_query > {"role": "user", "content": "My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:"}
2024-06-28 18:21:12,180-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what should I do today"}
2024-06-28 18:21:12,180-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you."}
2024-06-28 18:21:12,180-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what do you think about life"}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times."}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "user", "content": "what are you doing today"}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "I'm here to assist you, Abraham. Is there anything specific you would like help with today?"}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "user", "content": "uit program"}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "I'm here to help, Abraham. What would you like assistance with today?"}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "user", "content": "yeah where is my wife Mary right now"}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "assistant", "content": "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}
2024-06-28 18:21:12,181-DEBUG-openAIGPT.run_query > {"role": "user", "content": "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}
2024-06-28 18:21:12,183-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 18:21:12,184-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 18:21:12,229-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': 'My name is Abraham None Lincoln, but people call me Honest Abe.This is information about my friends and family:'}, {'role': 'user', 'content': 'what should I do today'}, {'role': 'assistant', 'content': 'Abraham, perhaps you could spend some time reading about history or writing in your journal. It might be enjoyable for you.'}, {'role': 'user', 'content': 'what do you think about life'}, {'role': 'assistant', 'content': "Abraham, life is a precious gift full of ups and downs. It's important to cherish the good moments and stay strong during the challenging times."}, {'role': 'user', 'content': 'what are you doing today'}, {'role': 'assistant', 'content': "I'm here to assist you, Abraham. Is there anything specific you would like help with today?"}, {'role': 'user', 'content': 'uit program'}, {'role': 'assistant', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'yeah where is my wife Mary right now'}, {'role': 'assistant', 'content': "Abraham, I'm here to remind you that your wife, Mary Todd Lincoln, passed away in 1882."}, {'role': 'user', 'content': "I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC"}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 18:21:12,230-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 18:21:12,230-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 18:21:12,240-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11f634950>
2024-06-28 18:21:12,240-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11c9a37d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 18:21:12,254-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11f634860>
2024-06-28 18:21:12,254-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 18:21:12,255-DEBUG-send_request_headers.complete
2024-06-28 18:21:12,255-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 18:21:12,255-DEBUG-send_request_body.complete
2024-06-28 18:21:12,255-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 18:21:13,148-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 22:21:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'753'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59618'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'382ms'), (b'x-request-id', b'req_3214f4f0b49284d9e8b535a12c00becc'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=L7wbA9vnKcJDBlqWp_5zLlQl8ZmiH2SaqkM.K1L5XBc-1719613273-1.0.1.1-nMGN0WAx1F7Q7Q.LfKrudsYNLMO5y8mhRg1TdxpzLSSuSRTSkhVXOdn4MIH7Gsztvt7On7lQV1yKP.BwbUeJog; path=/; expires=Fri, 28-Jun-24 22:51:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=fQT7Ss2WR69tDjw5hSA0NHoy.jJkPkwNozqOKEqIwuM-1719613273160-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b11187b974392c-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 18:21:13,149-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 18:21:13,149-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 18:21:13,150-DEBUG-receive_response_body.complete
2024-06-28 18:21:13,150-DEBUG-response_closed.started
2024-06-28 18:21:13,150-DEBUG-response_closed.complete
2024-06-28 18:21:13,151-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 22:21:13 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '753'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59618'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '382ms'), ('x-request-id', 'req_3214f4f0b49284d9e8b535a12c00becc'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=L7wbA9vnKcJDBlqWp_5zLlQl8ZmiH2SaqkM.K1L5XBc-1719613273-1.0.1.1-nMGN0WAx1F7Q7Q.LfKrudsYNLMO5y8mhRg1TdxpzLSSuSRTSkhVXOdn4MIH7Gsztvt7On7lQV1yKP.BwbUeJog; path=/; expires=Fri, 28-Jun-24 22:51:13 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=fQT7Ss2WR69tDjw5hSA0NHoy.jJkPkwNozqOKEqIwuM-1719613273160-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b11187b974392c-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 18:21:13,151-DEBUG-request_id: req_3214f4f0b49284d9e8b535a12c00becc
2024-06-28 18:21:13,152-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fEFsA65jtvhrVzXp3dg9U3GEywaJ', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you.', role='assistant', function_call=None, tool_calls=None))], created=1719613272, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=33, prompt_tokens=346, total_tokens=379))
2024-06-28 18:21:13,152-DEBUG-chatHistory.rev_conversations > Found matching conversation for exchange.
2024-06-28 18:21:13,152-DEBUG-chatHistory.rev_conversations > Last exchange: 2024-06-28 18:18:47.805000
2024-06-28 18:21:13,152-DEBUG-chatHistory.rev_conversations > Difference in time: 145.347749
2024-06-28 18:21:13,152-INFO-chatHistory.rev_conversations > Cleaning conversation: 1719613152528x834074611163164900
2024-06-28 18:21:13,153-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 18:21:13,154-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 18:21:13,193-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'Any response should be in a JSON format with three fields: summary, sentiment, and keywords.'}, {'role': 'user', 'content': 'uit program'}, {'role': 'system', 'content': "I'm here to help, Abraham. What would you like assistance with today?"}, {'role': 'user', 'content': 'Provide your output in a JSON format with two keys: summary, sentiment, and keywords.\n\n                        Using the conversation above as a model the fields should have the following information:\n\n                        In summary, it should be a one sentence summary of the conversation that highlights what was talked about \n                        and talking about any emotions or concerns that I have should be identified. Also, you should refer to me \n                        as the patient and yourself as the assistant.\n\n                        In sentiment, assign a number between 1 and 5 for how I seem to be feeling. 1 would be extremely depressed \n                        and 5 would be extremely happy.\n\n                        In keywords, provide a comma-delimited list of any places, people, or events that are referenced\n                        in our conversation. There should be at least one keyword and no more than 10.'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 18:21:13,193-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 18:21:13,193-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 18:21:13,203-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11f6400e0>
2024-06-28 18:21:13,203-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x11f628d50> server_hostname='api.openai.com' timeout=5.0
2024-06-28 18:21:13,222-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11f637fb0>
2024-06-28 18:21:13,222-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 18:21:13,222-DEBUG-send_request_headers.complete
2024-06-28 18:21:13,222-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 18:21:13,223-DEBUG-send_request_body.complete
2024-06-28 18:21:13,223-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 18:21:14,285-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 22:21:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'849'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'59700'), (b'x-ratelimit-reset-requests', b'16.318s'), (b'x-ratelimit-reset-tokens', b'300ms'), (b'x-request-id', b'req_2b92154a43be5ad728d8d08ec9f23f6f'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=4FM13J9pp8nFYn5Ro269ZhBfAfBtMW2CRs4.psQab_o-1719613274-1.0.1.1-3vUoxTEFuEkAwiWdxSRy.j42HIuERhwof3hnBTLTxHMYI28CCuCl_A_rUF_Z0kKH4OHi3A_biNOQj1HFhKwoTQ; path=/; expires=Fri, 28-Jun-24 22:51:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=zGtLoaNpt8WxT89HKKvLCWv.qxSGFLPioFygukdzY7o-1719613274300-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89b1118dcbc63af9-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 18:21:14,287-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 18:21:14,287-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 18:21:14,288-DEBUG-receive_response_body.complete
2024-06-28 18:21:14,288-DEBUG-response_closed.started
2024-06-28 18:21:14,288-DEBUG-response_closed.complete
2024-06-28 18:21:14,288-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 22:21:14 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '849'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '59700'), ('x-ratelimit-reset-requests', '16.318s'), ('x-ratelimit-reset-tokens', '300ms'), ('x-request-id', 'req_2b92154a43be5ad728d8d08ec9f23f6f'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=4FM13J9pp8nFYn5Ro269ZhBfAfBtMW2CRs4.psQab_o-1719613274-1.0.1.1-3vUoxTEFuEkAwiWdxSRy.j42HIuERhwof3hnBTLTxHMYI28CCuCl_A_rUF_Z0kKH4OHi3A_biNOQj1HFhKwoTQ; path=/; expires=Fri, 28-Jun-24 22:51:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=zGtLoaNpt8WxT89HKKvLCWv.qxSGFLPioFygukdzY7o-1719613274300-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89b1118dcbc63af9-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 18:21:14,288-DEBUG-request_id: req_2b92154a43be5ad728d8d08ec9f23f6f
2024-06-28 18:21:14,289-DEBUG-chatHistory.save_history > Saving exchange: I'm thinking about going out and doing something tonight do you think I should go to the Ford Theater in Washington DC
2024-06-28 18:21:14,293-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:21:14,521-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 18:21:14,522-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719613274472x553181826263537900
2024-06-28 18:21:14,522-DEBUG-chatHistory.save_history > Saving conversation: 1719613152528x834074611163164900
2024-06-28 18:21:14,522-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719613152528x834074611163164900) to Bubble.
2024-06-28 18:21:14,525-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 18:21:15,032-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 18:21:15,034-DEBUG-text: Abraham, it might be best to avoid the Ford Theater in Washington DC. It holds a lot of memories, and it might be a bit overwhelming for you.
2024-06-28 18:21:15,034-DEBUG-tld: ie
2024-06-28 18:21:15,034-DEBUG-lang: en
2024-06-28 18:21:15,034-DEBUG-slow: False
2024-06-28 18:21:15,034-DEBUG-lang_check: True
2024-06-28 18:21:15,034-DEBUG-pre_processor_funcs: [<function tone_marks at 0x118680c20>, <function end_of_line at 0x1186816c0>, <function abbreviations at 0x118681f80>, <function word_sub at 0x118682020>]
2024-06-28 18:21:15,035-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|。|\\(|¿|—|\\\n|‥|：|、|،|;|…|，|¡|\\]|\\)|\\[', re.IGNORECASE) from: [<function tone_marks at 0x118682160>, <function period_comma at 0x118682200>, <function colon at 0x1186822a0>, <function other_punctuation at 0x118682340>]>
2024-06-28 18:21:15,035-DEBUG-timeout: None
2024-06-28 18:21:15,035-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 18:21:15,037-DEBUG-pre-processing: <function tone_marks at 0x118680c20>
2024-06-28 18:21:15,037-DEBUG-pre-processing: <function end_of_line at 0x1186816c0>
2024-06-28 18:21:15,037-DEBUG-pre-processing: <function abbreviations at 0x118681f80>
2024-06-28 18:21:15,038-DEBUG-pre-processing: <function word_sub at 0x118682020>
2024-06-28 18:21:15,038-DEBUG-tokenizing: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|。|\\(|¿|—|\\\n|‥|：|、|،|;|…|，|¡|\\]|\\)|\\[', re.IGNORECASE) from: [<function tone_marks at 0x118682160>, <function period_comma at 0x118682200>, <function colon at 0x1186822a0>, <function other_punctuation at 0x118682340>]>
2024-06-28 18:21:15,038-DEBUG-text_parts: ['Abraham', 'it might be best to avoid the Ford Theater in Washington DC', 'It holds a lot of memories', 'and it might be a bit overwhelming for you.']
2024-06-28 18:21:15,038-DEBUG-text_parts: 4
2024-06-28 18:21:15,039-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Abraham%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:21:15,039-DEBUG-data-1: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22it%20might%20be%20best%20to%20avoid%20the%20Ford%20Theater%20in%20Washington%20DC%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:21:15,039-DEBUG-data-2: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22It%20holds%20a%20lot%20of%20memories%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:21:15,040-DEBUG-data-3: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22and%20it%20might%20be%20a%20bit%20overwhelming%20for%20you.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 18:21:15,041-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:21:15,162-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:21:15,164-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '137'}
2024-06-28 18:21:15,164-DEBUG-url-0: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:21:15,164-DEBUG-status-0: 200
2024-06-28 18:21:15,165-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:21:15,165-DEBUG-part-0 created
2024-06-28 18:21:15,166-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:21:15,440-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:21:15,463-DEBUG-headers-1: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '211'}
2024-06-28 18:21:15,463-DEBUG-url-1: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:21:15,464-DEBUG-status-1: 200
2024-06-28 18:21:15,467-DEBUG-part-1 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:21:15,467-DEBUG-part-1 created
2024-06-28 18:21:15,468-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:21:15,592-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:21:15,606-DEBUG-headers-2: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '166'}
2024-06-28 18:21:15,606-DEBUG-url-2: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:21:15,606-DEBUG-status-2: 200
2024-06-28 18:21:15,608-DEBUG-part-2 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:21:15,608-DEBUG-part-2 created
2024-06-28 18:21:15,609-DEBUG-Starting new HTTPS connection (1): translate.google.ie:443
2024-06-28 18:21:15,782-DEBUG-https://translate.google.ie:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 18:21:15,817-DEBUG-headers-3: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '189'}
2024-06-28 18:21:15,817-DEBUG-url-3: https://translate.google.ie/_/TranslateWebserverUi/data/batchexecute
2024-06-28 18:21:15,818-DEBUG-status-3: 200
2024-06-28 18:21:15,819-DEBUG-part-3 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 18:21:15,819-DEBUG-part-3 created
2024-06-28 18:21:15,820-DEBUG-Saved to ./temp/response.mp3
