2024-06-28 14:01:08,606-INFO-__main__ > Initializing the program.
2024-06-28 14:01:10,338-INFO-judyMVP.__init__ > Initializing the program.
2024-06-28 14:01:10,338-INFO-bubbleAPI.get_settings > Getting patient and device settings from Bubble.
2024-06-28 14:01:10,352-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:10,552-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 401 None
2024-06-28 14:01:10,554-INFO-bubbleAPI.get_settings > response: {'error_class': 'Unauthorized', 'args': {'code': '1719597670501x369858682630507000'}, 'message': Non
2024-06-28 14:01:10,558-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:11,008-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/wf/gen_api_token?email=djt@judypatient.com&pw=b1%7BXF%7D7z HTTP/1.1" 200 None
2024-06-28 14:01:11,010-INFO-bubbleAPI.get_token > Getting new API key using credentials for djt@judypatient.com
2024-06-28 14:01:11,013-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:11,422-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/setting HTTP/1.1" 200 None
2024-06-28 14:01:11,424-INFO-bubbleAPI.get_settings > {'response': {'cursor': 0, 'results': [{'Modified Date': '2024-06-27T21:14:25.946Z', 'Created Date': '2024-06-27T21:00:46.088Z', 'Created By': 'admin_user_colinkraymond_test', 'accent': 'English', 'photo_delay': 3, 'trigger': 'Yo Judy', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', '_id': '1719522046088x711928326876819100'}], 'count': 1, 'remaining': 0}}
2024-06-28 14:01:11,424-ERROR-patientSettings.pull_settings > Unable to load any watchers.
2024-06-28 14:01:11,424-INFO-userSettings.pull_settings > Imported settings: {'photo_delay': 3, 'accent': 'English', 'trigger': 'Yo Judy'}
2024-06-28 14:01:11,424-INFO-chatHistory.__init__ > Loading the chat history
2024-06-28 14:01:11,425-INFO-chatHistory.load_all_conversations > Starting to load all of the conversations.
2024-06-28 14:01:11,425-INFO-bubbleAPI.get_exch_conv > Getting, conversation, records from Bubble.
2024-06-28 14:01:11,428-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:11,832-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/conversation?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 14:01:11,833-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T17:09:07.988Z', 'Created By': '1719434683461x477635049984356200', 'Modified Date': '2024-06-28T17:09:41.923Z', 'summary': 'The patient is inquiring if this is a test, and the assistant confirms that it is.', 'date': '2007-12-12T17:12:00.000Z', 'sentiment': 3, 'keywords': 'test', 'caretaker': '1719433427015x760125662067258500', 'patient': '1719434683461x477635049984356200', 'watcher': [], '_id': '1719594547988x306340934538917900'}]
2024-06-28 14:01:11,834-INFO-bubbleAPI.get_records > Total conversation records pulled: 1
2024-06-28 14:01:11,834-INFO-chatHistory.load_all_conversations > [{'Created Date': '2024-06-28T17:09:07.988Z', 'Cre
2024-06-28 14:01:11,839-INFO-chatHistory.load_all_conversations > Total conversations loaded: 1
2024-06-28 14:01:11,839-INFO-chatHistory.load_all_exchangess > Pulling list of exchanges from Bubble API.
2024-06-28 14:01:11,839-INFO-bubbleAPI.get_exch_conv > Getting, chatexchange, records from Bubble.
2024-06-28 14:01:11,842-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:12,244-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/chatexchange?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 14:01:12,245-INFO-bubbleAPI.get_records > [{'Created Date': '2024-06-28T04:33:42.030Z', 'Created By': 'admin_user_colinkraymond_test', 'Modified Date': '2024-06-28T17:09:17.303Z', 'date': '2007-12-12T17:12:00.000Z', 'query': 'Is this a test?', 'response': 'Yup, it sure is!', 'summary': 'User checking to see if it is a test.', 'conversation': '1719594547988x306340934538917900', 'patient': '1719434683461x477635049984356200', 'caretaker': '1719433427015x760125662067258500', '_id': '1719549222029x700901035212780700'}]
2024-06-28 14:01:12,246-INFO-bubbleAPI.get_records > Total chatexchange records pulled: 1
2024-06-28 14:01:12,246-INFO-chatHistory.load_all_exchanges > Loaded 1 exchanges from Bubble.
2024-06-28 14:01:12,246-INFO-chatHistory.load_all_exchanges > Added ID 1719549222029x700901035212780700 to exchanges: {'query': 'Is this a test?', 'response': 'Yup, it 
2024-06-28 14:01:12,246-INFO-chatHistory.load_all_exchanges > Total exchanges loaded: 1
2024-06-28 14:01:12,246-INFO-chatHistory.clean_exchanges > Cleaning the exchange data.
2024-06-28 14:01:12,246-DEBUG-chatHistory.check_summary > Checking summary on 1719549222029x700901035212780700
2024-06-28 14:01:12,246-INFO-chatHistory.clean_exchanges > Total exchanges after cleaning: 1
2024-06-28 14:01:12,247-INFO-chatHistory.check_mappings > In the check_mappings function
2024-06-28 14:01:12,247-INFO-Sorting through these exchanges: 1
2024-06-28 14:01:12,247-INFO-Total exchanges after checking mapping: 1
2024-06-28 14:01:12,247-INFO-Total conversations after checking mapping: 1
2024-06-28 14:01:12,247-INFO-Checked conversations and identified those to be updated.
2024-06-28 14:01:12,247-INFO-chatConversation.save_history > History saved onto Bubble.
2024-06-28 14:01:12,247-INFO-chatHistory.remove_orph_convos > Checking for orphaned conversaitons.
2024-06-28 14:01:12,247-INFO-bubbleAPI.get_exch_conv > Getting, user, records from Bubble.
2024-06-28 14:01:12,250-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:12,723-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/user?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 14:01:12,728-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-28T01:11:38.881Z', 'Created Date': '2024-06-26T20:44:43.461Z', 'first_name': 'Donald', 'last_name': 'Trump', 'user_signed_up': True, 'authentication': {'email': {'email': 'djt@judypatient.com', 'email_confirmed': None}}, 'middle_name': 'John', 'type': 'patient', 'caretaker': '1719433427015x760125662067258500', 'nickname': 'Donnie', 'bday': '2024-06-14T04:00:00.000Z', 'gender': 'Male', 'watcher': ['1719524279490x374511007917295100', '1719455494380x913745027397094800'], 'home': 'New York City', '_id': '1719434683461x477635049984356200'}]
2024-06-28 14:01:12,728-INFO-bubbleAPI.get_records > Total user records pulled: 1
2024-06-28 14:01:12,728-INFO-bubbleAPI.get_exch_conv > Getting, interest, records from Bubble.
2024-06-28 14:01:12,731-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:12,974-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/interest?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 14:01:12,975-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-27T03:24:54.341Z', 'Created Date': '2024-06-27T03:24:54.340Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Wharton', 'patient': '1719434683461x477635049984356200', 'type': 'school', '_id': '1719458694080x410734260017430500'}, {'Modified Date': '2024-06-27T03:25:10.710Z', 'Created Date': '2024-06-27T03:25:10.709Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Hudson Military Academy', 'patient': '1719434683461x477635049984356200', 'type': 'school', '_id': '1719458710446x507369084320219140'}, {'Modified Date': '2024-06-27T19:42:13.520Z', 'Created Date': '2024-06-27T19:42:13.520Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Golf', 'patient': '1719434683461x477635049984356200', 'type': 'sport', '_id': '1719517333133x364675845846728700'}, {'Modified Date': '2024-06-27T19:42:18.377Z', 'Created Date': '2024-06-27T19:42:18.377Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Tennis', 'patient': '1719434683461x477635049984356200', 'type': 'sport', '_id': '1719517338044x493916566283616260'}, {'Modified Date': '2024-06-27T19:45:50.214Z', 'Created Date': '2024-06-27T19:45:50.213Z', 'Created By': '1719433427015x760125662067258500', 'interest': 'Caviar', 'patient': '1719434683461x477635049984356200', 'type': 'food', '_id': '1719517549878x647883823674032100'}]
2024-06-28 14:01:12,975-INFO-bubbleAPI.get_records > Total interest records pulled: 15
2024-06-28 14:01:12,975-INFO-bubbleAPI.get_exch_conv > Getting, friends, records from Bubble.
2024-06-28 14:01:12,978-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:13,471-DEBUG-https://colinkraymond.bubbleapps.io:443 "GET /version-test/api/1.1/obj/friends?cursor=0&limit=100 HTTP/1.1" 200 None
2024-06-28 14:01:13,472-INFO-bubbleAPI.get_records > [{'Modified Date': '2024-06-27T00:45:51.378Z', 'Created Date': '2024-06-27T00:32:18.306Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1942-11-20T05:00:00.000Z', 'deceased': False, 'first_name': 'Joseph', 'last_name': 'Biden', 'location': {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}, 'nickname': 'Joe', 'relationship': 'Friend', 'interests': 'Cars, Scranton, Burgers', 'patient': '1719434683461x477635049984356200', '_id': '1719448337777x357702904085217300'}, {'Modified Date': '2024-06-27T00:45:43.625Z', 'Created Date': '2024-06-27T00:39:02.551Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1970-04-26T05:00:00.000Z', 'deceased': False, 'first_name': 'Melenia', 'last_name': 'Trump', 'location': {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}, 'relationship': 'Wife', 'interests': 'Modeling, Scowling', 'patient': '1719434683461x477635049984356200', '_id': '1719448741989x774716996615667700'}, {'Modified Date': '2024-06-27T00:45:36.369Z', 'Created Date': '2024-06-27T00:43:35.650Z', 'Created By': '1719433427015x760125662067258500', 'birthday': '1977-12-31T05:00:00.000Z', 'deceased': False, 'first_name': 'Donald', 'last_name': 'Trump Jr', 'location': {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}, 'nickname': 'Skidmark', 'relationship': 'Son', 'interests': 'Fraud, Knitting, Running', 'patient': '1719434683461x477635049984356200', '_id': '1719449015253x282271874764767230'}]
2024-06-28 14:01:13,472-INFO-bubbleAPI.get_records > Total friends records pulled: 3
2024-06-28 14:01:13,473-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-06-28 14:01:13,473-INFO-patientFriends.__init__ > Friend info nickname does not exist.
2024-06-28 14:01:13,473-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-06-28 14:01:13,473-INFO-patientFriends.__init__ > Friend info Patient does not exist.
2024-06-28 14:01:13,473-INFO-judyMVP.__init__ > Starting audio thread.
2024-06-28 14:01:14,810-INFO-judyVoice.listen > Starting to listen through microphone.
2024-06-28 14:01:24,500-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 14:01:24,501-INFO-Generating the GPT prompt.
2024-06-28 14:01:24,502-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 14:01:24,502-INFO-openAIGPT.run_Query > Contacting OpenAI with query: How are you?
2024-06-28 14:01:24,503-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 14:01:24,504-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 14:01:24,543-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Is this a test?'}, {'role': 'assistant', 'content': 'Yup, it sure is!'}, {'role': 'user', 'content': 'How are you?'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 14:01:24,569-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 14:01:24,569-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 14:01:24,604-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1066ca1b0>
2024-06-28 14:01:24,604-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x1066865d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 14:01:24,630-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x103a108f0>
2024-06-28 14:01:24,630-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 14:01:24,631-DEBUG-send_request_headers.complete
2024-06-28 14:01:24,631-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 14:01:24,631-DEBUG-send_request_body.complete
2024-06-28 14:01:24,631-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 14:01:25,451-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 18:01:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'675'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59610'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'390ms'), (b'x-request-id', b'req_aaa6ddbf5a9c2914759709d2a45f8f63'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=4YmnordJVr5SPMlgoDJYsOdVwMPr5ztRV4uXiE5uKJA-1719597685-1.0.1.1-tgY_l7xL56F8pbjKEskOyjQE6YIe6Jo77yvCDpi8eper191ex1jsypk32.xfcPa7B1JOV24GxJ5KY5H_LiWB.w; path=/; expires=Fri, 28-Jun-24 18:31:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=0ek.uLR_cn2locv9OR5hZqad9zK7yGLxOOqKJhTIlLw-1719597685437-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89af94f90b422d1f-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 14:01:25,454-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 14:01:25,455-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 14:01:25,455-DEBUG-receive_response_body.complete
2024-06-28 14:01:25,455-DEBUG-response_closed.started
2024-06-28 14:01:25,455-DEBUG-response_closed.complete
2024-06-28 14:01:25,456-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 18:01:25 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '675'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59610'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '390ms'), ('x-request-id', 'req_aaa6ddbf5a9c2914759709d2a45f8f63'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=4YmnordJVr5SPMlgoDJYsOdVwMPr5ztRV4uXiE5uKJA-1719597685-1.0.1.1-tgY_l7xL56F8pbjKEskOyjQE6YIe6Jo77yvCDpi8eper191ex1jsypk32.xfcPa7B1JOV24GxJ5KY5H_LiWB.w; path=/; expires=Fri, 28-Jun-24 18:31:25 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=0ek.uLR_cn2locv9OR5hZqad9zK7yGLxOOqKJhTIlLw-1719597685437-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89af94f90b422d1f-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 14:01:25,456-DEBUG-request_id: req_aaa6ddbf5a9c2914759709d2a45f8f63
2024-06-28 14:01:25,463-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fACSSg7Zcs9cOEJQv7pVAaagDlf6', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content="I'm here and ready to assist you, Donnie. How can I help you today?", role='assistant', function_call=None, tool_calls=None))], created=1719597684, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=19, prompt_tokens=397, total_tokens=416))
2024-06-28 14:01:25,463-INFO-Posting conversation record to Bubble.
2024-06-28 14:01:25,466-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:26,167-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/conversation HTTP/1.1" 201 None
2024-06-28 14:01:26,168-INFO-New conversation created, ID: 1719597685952x518008978881647550
2024-06-28 14:01:26,168-INFO-Creating initial conversation and mapping conv: None to: None
2024-06-28 14:01:26,169-INFO-Posting chatexchange record to Bubble.
2024-06-28 14:01:26,173-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:26,583-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 14:01:26,584-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719597686501x692046115671058000
2024-06-28 14:01:26,584-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719597685952x518008978881647550) to Bubble.
2024-06-28 14:01:26,588-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:01:26,838-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 14:01:26,839-INFO-chatConversation.save_history > History saved onto Bubble.
2024-06-28 14:01:26,839-DEBUG-text: I'm here and ready to assist you, Donnie. How can I help you today?
2024-06-28 14:01:26,840-DEBUG-tld: co.uk
2024-06-28 14:01:26,840-DEBUG-lang: en
2024-06-28 14:01:26,840-DEBUG-slow: False
2024-06-28 14:01:26,840-DEBUG-lang_check: True
2024-06-28 14:01:26,840-DEBUG-pre_processor_funcs: [<function tone_marks at 0x1040911c0>, <function end_of_line at 0x104091620>, <function abbreviations at 0x104091ee0>, <function word_sub at 0x104091f80>]
2024-06-28 14:01:26,840-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|…|—|¿|。|\\(|;|¡|\\[|‥|，|、|\\\n|،|\\)|：|\\]', re.IGNORECASE) from: [<function tone_marks at 0x1040920c0>, <function period_comma at 0x104092160>, <function colon at 0x104092200>, <function other_punctuation at 0x1040922a0>]>
2024-06-28 14:01:26,840-DEBUG-timeout: None
2024-06-28 14:01:26,840-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 14:01:26,842-DEBUG-pre-processing: <function tone_marks at 0x1040911c0>
2024-06-28 14:01:26,843-DEBUG-pre-processing: <function end_of_line at 0x104091620>
2024-06-28 14:01:26,843-DEBUG-pre-processing: <function abbreviations at 0x104091ee0>
2024-06-28 14:01:26,844-DEBUG-pre-processing: <function word_sub at 0x104091f80>
2024-06-28 14:01:26,844-DEBUG-text_parts: ["I'm here and ready to assist you, Donnie. How can I help you today?"]
2024-06-28 14:01:26,844-DEBUG-text_parts: 1
2024-06-28 14:01:26,844-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22I%27m%20here%20and%20ready%20to%20assist%20you%2C%20Donnie.%20How%20can%20I%20help%20you%20today%3F%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:01:26,846-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:01:27,258-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:01:27,276-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '229'}
2024-06-28 14:01:27,277-DEBUG-url-0: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:01:27,277-DEBUG-status-0: 200
2024-06-28 14:01:27,281-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:01:27,281-DEBUG-part-0 created
2024-06-28 14:01:27,282-DEBUG-Saved to ./temp/response.mp3
2024-06-28 14:06:14,845-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 14:06:14,848-INFO-Generating the GPT prompt.
2024-06-28 14:06:14,848-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 14:06:14,849-INFO-openAIGPT.run_Query > Contacting OpenAI with query: Judy thinking about my family. Do you knwo where they are?
2024-06-28 14:06:14,855-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 14:06:14,861-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 14:06:14,897-DEBUG-close.started
2024-06-28 14:06:14,897-DEBUG-close.complete
2024-06-28 14:06:14,903-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Is this a test?'}, {'role': 'assistant', 'content': 'Yup, it sure is!'}, {'role': 'user', 'content': 'How are you?'}, {'role': 'assistant', 'content': "I'm here and ready to assist you, Donnie. How can I help you today?"}, {'role': 'user', 'content': 'Judy thinking about my family. Do you knwo where they are?'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 14:06:14,904-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 14:06:14,904-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 14:06:14,932-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x106809070>
2024-06-28 14:06:14,932-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x1066bfbd0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 14:06:14,946-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x106808f80>
2024-06-28 14:06:14,946-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 14:06:14,946-DEBUG-send_request_headers.complete
2024-06-28 14:06:14,946-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 14:06:14,946-DEBUG-send_request_body.complete
2024-06-28 14:06:14,947-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 14:06:15,640-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 18:06:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'559'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59577'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'423ms'), (b'x-request-id', b'req_358cfaa0ffe7f6cb87bdc4d1107897d1'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=UFZCDRSk7Ohzlj2HaRMU2WlIbB5c.pstkW.383U27r0-1719597975-1.0.1.1-TgEa1TQfGIzOVu8Uea9OHRy6QNYUtdSAy98ku.9HKBmBvlqhzBRPofT1dDtRK8qMQIef0dKvlU7bBS5kS9uyNg; path=/; expires=Fri, 28-Jun-24 18:36:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=Aoj7VOxM91J2S4hC4k8X.lkl8LS.WebGxHiR.6boPN8-1719597975643-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89af9c0f8e2d20c9-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 14:06:15,642-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 14:06:15,642-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 14:06:15,642-DEBUG-receive_response_body.complete
2024-06-28 14:06:15,643-DEBUG-response_closed.started
2024-06-28 14:06:15,643-DEBUG-response_closed.complete
2024-06-28 14:06:15,643-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 18:06:15 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '559'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59577'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '423ms'), ('x-request-id', 'req_358cfaa0ffe7f6cb87bdc4d1107897d1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=UFZCDRSk7Ohzlj2HaRMU2WlIbB5c.pstkW.383U27r0-1719597975-1.0.1.1-TgEa1TQfGIzOVu8Uea9OHRy6QNYUtdSAy98ku.9HKBmBvlqhzBRPofT1dDtRK8qMQIef0dKvlU7bBS5kS9uyNg; path=/; expires=Fri, 28-Jun-24 18:36:15 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=Aoj7VOxM91J2S4hC4k8X.lkl8LS.WebGxHiR.6boPN8-1719597975643-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89af9c0f8e2d20c9-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 14:06:15,643-DEBUG-request_id: req_358cfaa0ffe7f6cb87bdc4d1107897d1
2024-06-28 14:06:15,644-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fAH954HSyrlWHOdUVBwwMKsnhpry', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='I have information about your friends and family, Donnie. Would you like me to remind you about them?', role='assistant', function_call=None, tool_calls=None))], created=1719597975, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=22, prompt_tokens=439, total_tokens=461))
2024-06-28 14:06:15,644-INFO-Posting conversation record to Bubble.
2024-06-28 14:06:15,660-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:06:15,886-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/conversation HTTP/1.1" 201 None
2024-06-28 14:06:15,888-INFO-New conversation created, ID: 1719597975830x391309650624061440
2024-06-28 14:06:15,888-INFO-Creating initial conversation and mapping conv: None to: None
2024-06-28 14:06:15,888-INFO-Posting chatexchange record to Bubble.
2024-06-28 14:06:15,891-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:06:16,141-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 14:06:16,142-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719597976063x336547941024490240
2024-06-28 14:06:16,142-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719597975830x391309650624061440) to Bubble.
2024-06-28 14:06:16,144-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:06:16,405-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 14:06:16,407-INFO-chatConversation.save_history > History saved onto Bubble.
2024-06-28 14:06:16,407-DEBUG-text: I have information about your friends and family, Donnie. Would you like me to remind you about them?
2024-06-28 14:06:16,407-DEBUG-tld: co.uk
2024-06-28 14:06:16,407-DEBUG-lang: en
2024-06-28 14:06:16,407-DEBUG-slow: False
2024-06-28 14:06:16,407-DEBUG-lang_check: True
2024-06-28 14:06:16,407-DEBUG-pre_processor_funcs: [<function tone_marks at 0x1040911c0>, <function end_of_line at 0x104091620>, <function abbreviations at 0x104091ee0>, <function word_sub at 0x104091f80>]
2024-06-28 14:06:16,407-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|…|—|¿|。|\\(|;|¡|\\[|‥|，|、|\\\n|،|\\)|：|\\]', re.IGNORECASE) from: [<function tone_marks at 0x1040920c0>, <function period_comma at 0x104092160>, <function colon at 0x104092200>, <function other_punctuation at 0x1040922a0>]>
2024-06-28 14:06:16,407-DEBUG-timeout: None
2024-06-28 14:06:16,408-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 14:06:16,409-DEBUG-pre-processing: <function tone_marks at 0x1040911c0>
2024-06-28 14:06:16,409-DEBUG-pre-processing: <function end_of_line at 0x104091620>
2024-06-28 14:06:16,409-DEBUG-pre-processing: <function abbreviations at 0x104091ee0>
2024-06-28 14:06:16,409-DEBUG-pre-processing: <function word_sub at 0x104091f80>
2024-06-28 14:06:16,410-DEBUG-tokenizing: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|…|—|¿|。|\\(|;|¡|\\[|‥|，|、|\\\n|،|\\)|：|\\]', re.IGNORECASE) from: [<function tone_marks at 0x1040920c0>, <function period_comma at 0x104092160>, <function colon at 0x104092200>, <function other_punctuation at 0x1040922a0>]>
2024-06-28 14:06:16,410-DEBUG-text_parts: ['I have information about your friends and family', 'Donnie', 'Would you like me to remind you about them?']
2024-06-28 14:06:16,410-DEBUG-text_parts: 3
2024-06-28 14:06:16,410-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22I%20have%20information%20about%20your%20friends%20and%20family%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:16,411-DEBUG-data-1: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Donnie%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:16,411-DEBUG-data-2: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Would%20you%20like%20me%20to%20remind%20you%20about%20them%3F%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:16,412-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:16,615-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:16,629-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '192'}
2024-06-28 14:06:16,629-DEBUG-url-0: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:16,629-DEBUG-status-0: 200
2024-06-28 14:06:16,631-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:16,631-DEBUG-part-0 created
2024-06-28 14:06:16,632-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:16,798-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:16,801-DEBUG-headers-1: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '136'}
2024-06-28 14:06:16,801-DEBUG-url-1: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:16,801-DEBUG-status-1: 200
2024-06-28 14:06:16,802-DEBUG-part-1 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:16,802-DEBUG-part-1 created
2024-06-28 14:06:16,803-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:17,002-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:17,013-DEBUG-headers-2: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '191'}
2024-06-28 14:06:17,014-DEBUG-url-2: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:17,014-DEBUG-status-2: 200
2024-06-28 14:06:17,016-DEBUG-part-2 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:17,016-DEBUG-part-2 created
2024-06-28 14:06:17,016-DEBUG-Saved to ./temp/response.mp3
2024-06-28 14:06:30,292-INFO-openAIGPT.user_query > Initializing new query.
2024-06-28 14:06:30,292-INFO-Generating the GPT prompt.
2024-06-28 14:06:30,292-INFO-promptCreate.gen_user_query_sys_prompt > Starting to generate the complete prompt to ChatGPT.
2024-06-28 14:06:30,292-INFO-openAIGPT.run_Query > Contacting OpenAI with query: Yes please
2024-06-28 14:06:30,293-DEBUG-load_ssl_context verify=True cert=None trust_env=True http2=False
2024-06-28 14:06:30,294-DEBUG-load_verify_locations cafile='/Users/colin/Judy/.venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-06-28 14:06:30,334-DEBUG-Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a personal assistant named Judy for someone with dementia. You should follow the following rules when providing any responses:\n- All responses should be no more than two sentences in length.\n- When possible remind the user of things they might have already asked or information that they might have forgotten thatcould be relevant.\n- Understand that the user is speaking to you and then a device is transcribing it into text. What you type back is being read to the user.\n- You should refer to the user by their first name occasionally.\n'}, {'role': 'user', 'content': "My name is Donald John Trump, but people call me Donnie.This is information about my friends and family:\nJoseph Biden is my Friend.Joseph Biden was born on November 20, 1942. Joseph Biden interests and hobbies include Cars, Scranton, Burgers. Joseph Biden lives in {'address': 'Washington, DC, USA', 'lat': 38.9071923, 'lng': -77.0368707}. Joseph Biden has the nickname Joe. \nMelenia Trump is my Wife.Melenia Trump was born on April 26, 1970. Melenia Trump interests and hobbies include Modeling, Scowling. Melenia Trump lives in {'address': 'New York, NY, USA', 'lat': 40.7127753, 'lng': -74.0059728}. \nDonald Trump Jr is my Son.Donald Trump Jr was born on December 31, 1977. Donald Trump Jr interests and hobbies include Fraud, Knitting, Running. Donald Trump Jr lives in {'address': 'Miami, FL, USA', 'lat': 25.7616798, 'lng': -80.1917902}. Donald Trump Jr has the nickname Skidmark. "}, {'role': 'user', 'content': 'Is this a test?'}, {'role': 'assistant', 'content': 'Yup, it sure is!'}, {'role': 'user', 'content': 'How are you?'}, {'role': 'assistant', 'content': "I'm here and ready to assist you, Donnie. How can I help you today?"}, {'role': 'user', 'content': 'Judy thinking about my family. Do you knwo where they are?'}, {'role': 'assistant', 'content': 'I have information about your friends and family, Donnie. Would you like me to remind you about them?'}, {'role': 'user', 'content': 'Yes please'}], 'model': 'gpt-3.5-turbo', 'temperature': 0}}
2024-06-28 14:06:30,334-DEBUG-Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2024-06-28 14:06:30,334-DEBUG-connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2024-06-28 14:06:30,343-DEBUG-connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10681aae0>
2024-06-28 14:06:30,343-DEBUG-start_tls.started ssl_context=<ssl.SSLContext object at 0x1066877d0> server_hostname='api.openai.com' timeout=5.0
2024-06-28 14:06:30,360-DEBUG-start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10681a9f0>
2024-06-28 14:06:30,360-DEBUG-send_request_headers.started request=<Request [b'POST']>
2024-06-28 14:06:30,360-DEBUG-send_request_headers.complete
2024-06-28 14:06:30,360-DEBUG-send_request_body.started request=<Request [b'POST']>
2024-06-28 14:06:30,360-DEBUG-send_request_body.complete
2024-06-28 14:06:30,360-DEBUG-receive_response_headers.started request=<Request [b'POST']>
2024-06-28 14:06:31,823-DEBUG-receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 28 Jun 2024 18:06:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'openai-organization', b'user-iwjpkoonfj25h8hq9pxy4g0n'), (b'openai-processing-ms', b'1310'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'60000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'59547'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'453ms'), (b'x-request-id', b'req_f08750c68a8d65b5199409d578d33169'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=yfCaqTwqOQ1HQRCib19CkqUZYfGRyZcu6nOqA9XsEoA-1719597991-1.0.1.1-hQPooSj23eBVZLS82kkzEbwbDZ1pbypx1btYT8W8kodP77EhtgbLVibZZL4UseStieLhwnh6QOwF91OWbOIMnQ; path=/; expires=Fri, 28-Jun-24 18:36:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Set-Cookie', b'_cfuvid=M.MNlods6aYDPvjhEqEbQn_qBp0HSo2ITZUsa3YK9MA-1719597991828-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'89af9c6fde247fb2-IAD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2024-06-28 14:06:31,825-INFO-HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-28 14:06:31,826-DEBUG-receive_response_body.started request=<Request [b'POST']>
2024-06-28 14:06:31,826-DEBUG-receive_response_body.complete
2024-06-28 14:06:31,827-DEBUG-response_closed.started
2024-06-28 14:06:31,827-DEBUG-response_closed.complete
2024-06-28 14:06:31,827-DEBUG-HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Fri, 28 Jun 2024 18:06:31 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('openai-organization', 'user-iwjpkoonfj25h8hq9pxy4g0n'), ('openai-processing-ms', '1310'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=31536000; includeSubDomains'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '60000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '59547'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '453ms'), ('x-request-id', 'req_f08750c68a8d65b5199409d578d33169'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=yfCaqTwqOQ1HQRCib19CkqUZYfGRyZcu6nOqA9XsEoA-1719597991-1.0.1.1-hQPooSj23eBVZLS82kkzEbwbDZ1pbypx1btYT8W8kodP77EhtgbLVibZZL4UseStieLhwnh6QOwF91OWbOIMnQ; path=/; expires=Fri, 28-Jun-24 18:36:31 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('set-cookie', '_cfuvid=M.MNlods6aYDPvjhEqEbQn_qBp0HSo2ITZUsa3YK9MA-1719597991828-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '89af9c6fde247fb2-IAD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2024-06-28 14:06:31,827-DEBUG-request_id: req_f08750c68a8d65b5199409d578d33169
2024-06-28 14:06:31,828-INFO-openAIGPT.run_Query > ChatCompletion(id='chatcmpl-9fAHPjyONCrTQMHPjBPqL63C07Pzc', choices=[Choice(finish_reason='stop', index=0, logprobs=None, message=ChatCompletionMessage(content='You have a friend named Joseph Biden who lives in Washington, DC, and your wife Melenia Trump lives in New York, NY. Your son Donald Trump Jr resides in Miami, FL.', role='assistant', function_call=None, tool_calls=None))], created=1719597991, model='gpt-3.5-turbo-0125', object='chat.completion', system_fingerprint=None, usage=CompletionUsage(completion_tokens=39, prompt_tokens=471, total_tokens=510))
2024-06-28 14:06:31,828-INFO-Posting conversation record to Bubble.
2024-06-28 14:06:31,832-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:06:32,137-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/conversation HTTP/1.1" 201 None
2024-06-28 14:06:32,139-INFO-New conversation created, ID: 1719597992050x459973216043702900
2024-06-28 14:06:32,139-INFO-Creating initial conversation and mapping conv: None to: None
2024-06-28 14:06:32,139-INFO-Posting chatexchange record to Bubble.
2024-06-28 14:06:32,143-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:06:32,651-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/obj/chatexchange HTTP/1.1" 201 None
2024-06-28 14:06:32,652-INFO-chatExchange.post_exch > New exchange posted to Bubble, ID: 1719597992489x452955149431071740
2024-06-28 14:06:32,652-INFO-bubbleAPI.update_conv_rcds > Updating conversation (ID: 1719597992050x459973216043702900) to Bubble.
2024-06-28 14:06:32,655-DEBUG-Starting new HTTPS connection (1): colinkraymond.bubbleapps.io:443
2024-06-28 14:06:33,144-DEBUG-https://colinkraymond.bubbleapps.io:443 "POST /version-test/api/1.1/wf/put_conversation HTTP/1.1" 200 None
2024-06-28 14:06:33,145-INFO-chatConversation.save_history > History saved onto Bubble.
2024-06-28 14:06:33,146-DEBUG-text: You have a friend named Joseph Biden who lives in Washington, DC, and your wife Melenia Trump lives in New York, NY. Your son Donald Trump Jr resides in Miami, FL.
2024-06-28 14:06:33,146-DEBUG-tld: co.uk
2024-06-28 14:06:33,146-DEBUG-lang: en
2024-06-28 14:06:33,146-DEBUG-slow: False
2024-06-28 14:06:33,146-DEBUG-lang_check: True
2024-06-28 14:06:33,146-DEBUG-pre_processor_funcs: [<function tone_marks at 0x1040911c0>, <function end_of_line at 0x104091620>, <function abbreviations at 0x104091ee0>, <function word_sub at 0x104091f80>]
2024-06-28 14:06:33,146-DEBUG-tokenizer_func: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|…|—|¿|。|\\(|;|¡|\\[|‥|，|、|\\\n|،|\\)|：|\\]', re.IGNORECASE) from: [<function tone_marks at 0x1040920c0>, <function period_comma at 0x104092160>, <function colon at 0x104092200>, <function other_punctuation at 0x1040922a0>]>
2024-06-28 14:06:33,146-DEBUG-timeout: None
2024-06-28 14:06:33,146-DEBUG-langs: {'af': 'Afrikaans', 'ar': 'Arabic', 'bg': 'Bulgarian', 'bn': 'Bengali', 'bs': 'Bosnian', 'ca': 'Catalan', 'cs': 'Czech', 'da': 'Danish', 'de': 'German', 'el': 'Greek', 'en': 'English', 'es': 'Spanish', 'et': 'Estonian', 'fi': 'Finnish', 'fr': 'French', 'gu': 'Gujarati', 'hi': 'Hindi', 'hr': 'Croatian', 'hu': 'Hungarian', 'id': 'Indonesian', 'is': 'Icelandic', 'it': 'Italian', 'iw': 'Hebrew', 'ja': 'Japanese', 'jw': 'Javanese', 'km': 'Khmer', 'kn': 'Kannada', 'ko': 'Korean', 'la': 'Latin', 'lv': 'Latvian', 'ml': 'Malayalam', 'mr': 'Marathi', 'ms': 'Malay', 'my': 'Myanmar (Burmese)', 'ne': 'Nepali', 'nl': 'Dutch', 'no': 'Norwegian', 'pl': 'Polish', 'pt': 'Portuguese', 'ro': 'Romanian', 'ru': 'Russian', 'si': 'Sinhala', 'sk': 'Slovak', 'sq': 'Albanian', 'sr': 'Serbian', 'su': 'Sundanese', 'sv': 'Swedish', 'sw': 'Swahili', 'ta': 'Tamil', 'te': 'Telugu', 'th': 'Thai', 'tl': 'Filipino', 'tr': 'Turkish', 'uk': 'Ukrainian', 'ur': 'Urdu', 'vi': 'Vietnamese', 'zh-CN': 'Chinese (Simplified)', 'zh-TW': 'Chinese (Mandarin/Taiwan)', 'zh': 'Chinese (Mandarin)'}
2024-06-28 14:06:33,147-DEBUG-pre-processing: <function tone_marks at 0x1040911c0>
2024-06-28 14:06:33,148-DEBUG-pre-processing: <function end_of_line at 0x104091620>
2024-06-28 14:06:33,148-DEBUG-pre-processing: <function abbreviations at 0x104091ee0>
2024-06-28 14:06:33,148-DEBUG-pre-processing: <function word_sub at 0x104091f80>
2024-06-28 14:06:33,148-DEBUG-tokenizing: <bound method Tokenizer.run of re.compile('(?<=\\?).|(?<=!).|(?<=？).|(?<=！).|(?<!\\.[a-z])\\. |(?<!\\.[a-z]), |(?<!\\d):|…|—|¿|。|\\(|;|¡|\\[|‥|，|、|\\\n|،|\\)|：|\\]', re.IGNORECASE) from: [<function tone_marks at 0x1040920c0>, <function period_comma at 0x104092160>, <function colon at 0x104092200>, <function other_punctuation at 0x1040922a0>]>
2024-06-28 14:06:33,148-DEBUG-text_parts: ['You have a friend named Joseph Biden who lives in Washington', 'DC', 'and your wife Melenia Trump lives in New York', 'NY', 'Your son Donald Trump Jr resides in Miami', 'FL.']
2024-06-28 14:06:33,148-DEBUG-text_parts: 6
2024-06-28 14:06:33,149-DEBUG-data-0: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22You%20have%20a%20friend%20named%20Joseph%20Biden%20who%20lives%20in%20Washington%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:33,149-DEBUG-data-1: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22DC%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:33,149-DEBUG-data-2: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22and%20your%20wife%20Melenia%20Trump%20lives%20in%20New%20York%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:33,150-DEBUG-data-3: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22NY%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:33,150-DEBUG-data-4: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22Your%20son%20Donald%20Trump%20Jr%20resides%20in%20Miami%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:33,150-DEBUG-data-5: f.req=%5B%5B%5B%22jQ1olc%22%2C%22%5B%5C%22FL.%5C%22%2C%5C%22en%5C%22%2Cnull%2C%5C%22null%5C%22%5D%22%2Cnull%2C%22generic%22%5D%5D%5D&
2024-06-28 14:06:33,151-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:33,355-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:33,370-DEBUG-headers-0: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '210'}
2024-06-28 14:06:33,370-DEBUG-url-0: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:33,370-DEBUG-status-0: 200
2024-06-28 14:06:33,374-DEBUG-part-0 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:33,374-DEBUG-part-0 created
2024-06-28 14:06:33,375-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:33,532-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:33,534-DEBUG-headers-1: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '132'}
2024-06-28 14:06:33,534-DEBUG-url-1: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:33,534-DEBUG-status-1: 200
2024-06-28 14:06:33,534-DEBUG-part-1 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:33,534-DEBUG-part-1 created
2024-06-28 14:06:33,535-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:33,708-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:33,723-DEBUG-headers-2: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '191'}
2024-06-28 14:06:33,723-DEBUG-url-2: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:33,723-DEBUG-status-2: 200
2024-06-28 14:06:33,725-DEBUG-part-2 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:33,726-DEBUG-part-2 created
2024-06-28 14:06:33,727-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:33,894-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:33,902-DEBUG-headers-3: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '132'}
2024-06-28 14:06:33,902-DEBUG-url-3: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:33,902-DEBUG-status-3: 200
2024-06-28 14:06:33,903-DEBUG-part-3 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:33,903-DEBUG-part-3 created
2024-06-28 14:06:33,905-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:34,104-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:34,121-DEBUG-headers-4: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '185'}
2024-06-28 14:06:34,121-DEBUG-url-4: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:34,121-DEBUG-status-4: 200
2024-06-28 14:06:34,124-DEBUG-part-4 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:34,124-DEBUG-part-4 created
2024-06-28 14:06:34,125-DEBUG-Starting new HTTPS connection (1): translate.google.co.uk:443
2024-06-28 14:06:34,296-DEBUG-https://translate.google.co.uk:443 "POST /_/TranslateWebserverUi/data/batchexecute HTTP/1.1" 200 None
2024-06-28 14:06:34,298-DEBUG-headers-5: {'Referer': 'http://translate.google.com/', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36', 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8', 'Content-Length': '133'}
2024-06-28 14:06:34,299-DEBUG-url-5: https://translate.google.co.uk/_/TranslateWebserverUi/data/batchexecute
2024-06-28 14:06:34,299-DEBUG-status-5: 200
2024-06-28 14:06:34,299-DEBUG-part-5 written to <_io.BufferedWriter name='./temp/response.mp3'>
2024-06-28 14:06:34,299-DEBUG-part-5 created
2024-06-28 14:06:34,300-DEBUG-Saved to ./temp/response.mp3
